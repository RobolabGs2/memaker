var Mo=Object.defineProperty;var Uo=(i,e,t)=>e in i?Mo(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Se=(i,e,t)=>(Uo(i,typeof e!="symbol"?e+"":e,t),t);import{S as ye,i as Ee,s as ve,k as ie,a as he,l as se,m as fe,h as F,c as me,n as K,b as q,G as Q,g as y,v as je,f as Ve,d as k,J as pn,C as Ne,K as tt,L as De,D as Pe,E as xe,F as Be,p as $t,M as Lo,N as ft,O as Oo,P as Ae,H as Je,w as Te,q as $e,r as we,u as at,Q as oe,R as ps,e as qe,T as _s,U as Dn,V as Oe,W as Jr,X as ke,y as B,z,A as D,Y as Ge,B as M,Z as Mn,_ as gt,o as sn,$ as Vn,a0 as Pt,a1 as Ie,a2 as Ce,a3 as xt,a4 as Go,a5 as Qr,I as kt,t as br}from"../chunks/index.d5351687.js";import{w as Zn}from"../chunks/index.1b82a6c0.js";function ei(i,e,t){const n=i.slice();return n[5]=e[t],n}const Ho=i=>({tab:i&2}),ti=i=>({tab:i[5]});function ni(i,e,t){const n=i.slice();return n[5]=e[t],n}const Wo=i=>({tab:i&2}),ri=i=>({tab:i[5]});function ii(i){let e,t,n,r,s;const o=i[3].default,a=Ne(o,i,i[2],ri);function l(){return i[4](i[5])}return{c(){e=ie("section"),a&&a.c(),t=he(),this.h()},l(u){e=se(u,"SECTION",{class:!0});var f=fe(e);a&&a.l(f),t=me(f),f.forEach(F),this.h()},h(){K(e,"class","tab svelte-1kfk1mv"),tt(e,"active",i[0]===i[5])},m(u,f){q(u,e,f),a&&a.m(e,null),Q(e,t),n=!0,r||(s=De(e,"click",l),r=!0)},p(u,f){i=u,a&&a.p&&(!n||f&6)&&Pe(a,o,i,i[2],n?Be(o,i[2],f,Wo):xe(i[2]),ri),(!n||f&3)&&tt(e,"active",i[0]===i[5])},i(u){n||(y(a,u),n=!0)},o(u){k(a,u),n=!1},d(u){u&&F(e),a&&a.d(u),r=!1,s()}}}function si(i){let e,t,n;const r=i[3].content,s=Ne(r,i,i[2],ti);return{c(){e=ie("section"),s&&s.c(),t=he(),this.h()},l(o){e=se(o,"SECTION",{class:!0});var a=fe(e);s&&s.l(a),t=me(a),a.forEach(F),this.h()},h(){K(e,"class","svelte-1kfk1mv"),tt(e,"hide",i[0]!==i[5])},m(o,a){q(o,e,a),s&&s.m(e,null),Q(e,t),n=!0},p(o,a){s&&s.p&&(!n||a&6)&&Pe(s,r,o,o[2],n?Be(r,o[2],a,Ho):xe(o[2]),ti),(!n||a&3)&&tt(e,"hide",o[0]!==o[5])},i(o){n||(y(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&F(e),s&&s.d(o)}}}function jo(i){let e,t,n,r,s=i[1],o=[];for(let c=0;c<s.length;c+=1)o[c]=ii(ni(i,s,c));const a=c=>k(o[c],1,1,()=>{o[c]=null});let l=i[1],u=[];for(let c=0;c<l.length;c+=1)u[c]=si(ei(i,l,c));const f=c=>k(u[c],1,1,()=>{u[c]=null});return{c(){e=ie("article"),t=ie("header");for(let c=0;c<o.length;c+=1)o[c].c();n=he();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=se(c,"ARTICLE",{class:!0});var m=fe(e);t=se(m,"HEADER",{class:!0});var h=fe(t);for(let d=0;d<o.length;d+=1)o[d].l(h);h.forEach(F),n=me(m);for(let d=0;d<u.length;d+=1)u[d].l(m);m.forEach(F),this.h()},h(){K(t,"class","svelte-1kfk1mv"),K(e,"class","svelte-1kfk1mv")},m(c,m){q(c,e,m),Q(e,t);for(let h=0;h<o.length;h+=1)o[h].m(t,null);Q(e,n);for(let h=0;h<u.length;h+=1)u[h].m(e,null);r=!0},p(c,[m]){if(m&7){s=c[1];let h;for(h=0;h<s.length;h+=1){const d=ni(c,s,h);o[h]?(o[h].p(d,m),y(o[h],1)):(o[h]=ii(d),o[h].c(),y(o[h],1),o[h].m(t,null))}for(je(),h=s.length;h<o.length;h+=1)a(h);Ve()}if(m&7){l=c[1];let h;for(h=0;h<l.length;h+=1){const d=ei(c,l,h);u[h]?(u[h].p(d,m),y(u[h],1)):(u[h]=si(d),u[h].c(),y(u[h],1),u[h].m(e,null))}for(je(),h=l.length;h<u.length;h+=1)f(h);Ve()}},i(c){if(!r){for(let m=0;m<s.length;m+=1)y(o[m]);for(let m=0;m<l.length;m+=1)y(u[m]);r=!0}},o(c){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)k(o[m]);u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)k(u[m]);r=!1},d(c){c&&F(e),pn(o,c),pn(u,c)}}}function Vo(i,e,t){let{$$slots:n={},$$scope:r}=e,{tabs:s}=e,{activeTab:o=s[0]}=e;const a=l=>t(0,o=l);return i.$$set=l=>{"tabs"in l&&t(1,s=l.tabs),"activeTab"in l&&t(0,o=l.activeTab),"$$scope"in l&&t(2,r=l.$$scope)},[o,s,r,n,a]}class gs extends ye{constructor(e){super(),Ee(this,e,Vo,jo,ve,{tabs:1,activeTab:0})}}function oi(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}const Zo=i=>({item:i&2,index:i&2}),ai=i=>({item:i[9],index:i[11]});function li(i,e){let t,n,r,s,o;const a=e[5].default,l=Ne(a,e,e[4],ai);function u(){return e[8](e[9])}return{key:i,first:null,c(){t=ie("article"),l&&l.c(),n=he(),this.h()},l(f){t=se(f,"ARTICLE",{class:!0});var c=fe(t);l&&l.l(c),n=me(c),c.forEach(F),this.h()},h(){K(t,"class","item svelte-xsb8mb"),tt(t,"active",e[9].id===e[0].id),this.first=t},m(f,c){q(f,t,c),l&&l.m(t,null),Q(t,n),r=!0,s||(o=De(t,"click",u),s=!0)},p(f,c){e=f,l&&l.p&&(!r||c&18)&&Pe(l,a,e,e[4],r?Be(a,e[4],c,Zo):xe(e[4]),ai),(!r||c&3)&&tt(t,"active",e[9].id===e[0].id)},i(f){r||(y(l,f),r=!0)},o(f){k(l,f),r=!1},d(f){f&&F(t),l&&l.d(f),s=!1,o()}}}function qo(i){let e,t=[],n=new Map,r,s,o,a=i[1];const l=u=>u[9].id;for(let u=0;u<a.length;u+=1){let f=oi(i,a,u),c=l(f);n.set(c,t[u]=li(c,f))}return{c(){e=ie("main");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=se(u,"MAIN",{style:!0,class:!0});var f=fe(e);for(let c=0;c<t.length;c+=1)t[c].l(f);f.forEach(F),this.h()},h(){$t(e,"height",i[3]),K(e,"class","svelte-xsb8mb"),tt(e,"reverse",i[2])},m(u,f){q(u,e,f);for(let c=0;c<t.length;c+=1)t[c].m(e,null);r=!0,s||(o=[De(e,"drop",i[6]),De(e,"dragover",i[7])],s=!0)},p(u,[f]){f&19&&(a=u[1],je(),t=Lo(t,f,l,1,u,a,n,e,Oo,li,null,oi),Ve()),(!r||f&8)&&$t(e,"height",u[3]),(!r||f&4)&&tt(e,"reverse",u[2])},i(u){if(!r){for(let f=0;f<a.length;f+=1)y(t[f]);r=!0}},o(u){for(let f=0;f<t.length;f+=1)k(t[f]);r=!1},d(u){u&&F(e);for(let f=0;f<t.length;f+=1)t[f].d();s=!1,ft(o)}}}function Xo(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{active:o}=e,{reverse:a=!1}=e,{height:l="100%"}=e;function u(m){Ae.call(this,i,m)}function f(m){Ae.call(this,i,m)}const c=m=>t(0,o=m);return i.$$set=m=>{"items"in m&&t(1,s=m.items),"active"in m&&t(0,o=m.active),"reverse"in m&&t(2,a=m.reverse),"height"in m&&t(3,l=m.height),"$$scope"in m&&t(4,r=m.$$scope)},[o,s,a,l,r,n,u,f,c]}class ui extends ye{constructor(e){super(),Ee(this,e,Xo,qo,ve,{items:1,active:0,reverse:2,height:3})}}function Yo(i){let e,t,n,r,s,o;return{c(){e=ie("article"),t=ie("canvas"),n=he(),r=ie("canvas"),this.h()},l(a){e=se(a,"ARTICLE",{class:!0});var l=fe(e);t=se(l,"CANVAS",{class:!0}),fe(t).forEach(F),n=me(l),r=se(l,"CANVAS",{class:!0}),fe(r).forEach(F),l.forEach(F),this.h()},h(){K(t,"class","svelte-flcf9e"),K(r,"class","svelte-flcf9e"),K(e,"class","svelte-flcf9e")},m(a,l){q(a,e,l),Q(e,t),i[4](t),Q(e,n),Q(e,r),i[5](r),s||(o=[De(e,"dragover",i[2]),De(e,"drop",i[3])],s=!0)},p:Je,i:Je,o:Je,d(a){a&&F(e),i[4](null),i[5](null),s=!1,ft(o)}}}function Ko(i,e,t){let{webgl:n}=e,{ui:r}=e;function s(u){Ae.call(this,i,u)}function o(u){Ae.call(this,i,u)}function a(u){Te[u?"unshift":"push"](()=>{n=u,t(0,n)})}function l(u){Te[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"webgl"in u&&t(0,n=u.webgl),"ui"in u&&t(1,r=u.ui)},[n,r,s,o,a,l]}class Jo extends ye{constructor(e){super(),Ee(this,e,Ko,Yo,ve,{webgl:0,ui:1})}}function fi(i){let e,t;return{c(){e=ie("div"),t=$e(i[0]),this.h()},l(n){e=se(n,"DIV",{class:!0});var r=fe(e);t=we(r,i[0]),r.forEach(F),this.h()},h(){K(e,"class","svelte-1q2eol")},m(n,r){q(n,e,r),Q(e,t)},p(n,r){r&1&&at(t,n[0])},d(n){n&&F(e)}}}function Qo(i){let e,t,n;const r=i[3].default,s=Ne(r,i,i[2],null);let o=i[0]&&fi(i);return{c(){e=ie("label"),s&&s.c(),t=he(),o&&o.c(),this.h()},l(a){e=se(a,"LABEL",{for:!0,class:!0});var l=fe(e);s&&s.l(l),t=me(l),o&&o.l(l),l.forEach(F),this.h()},h(){K(e,"for",i[1]),K(e,"class","svelte-1q2eol"),tt(e,"error",i[0])},m(a,l){q(a,e,l),s&&s.m(e,null),Q(e,t),o&&o.m(e,null),n=!0},p(a,[l]){s&&s.p&&(!n||l&4)&&Pe(s,r,a,a[2],n?Be(r,a[2],l,null):xe(a[2]),null),a[0]?o?o.p(a,l):(o=fi(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!n||l&2)&&K(e,"for",a[1]),(!n||l&1)&&tt(e,"error",a[0])},i(a){n||(y(s,a),n=!0)},o(a){k(s,a),n=!1},d(a){a&&F(e),s&&s.d(a),o&&o.d()}}}function ea(i,e,t){let{$$slots:n={},$$scope:r}=e,{error:s=""}=e,{for:o=void 0}=e;return i.$$set=a=>{"error"in a&&t(0,s=a.error),"for"in a&&t(1,o=a.for),"$$scope"in a&&t(2,r=a.$$scope)},[s,o,r,n]}class et extends ye{constructor(e){super(),Ee(this,e,ea,Qo,ve,{error:0,for:1})}}var ci={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function hi(i,e,t){const n=i.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function fr(i){let e,t=[i[10]],n={};for(let r=0;r<t.length;r+=1)n=oe(n,t[r]);return{c(){e=ps(i[9]),this.h()},l(r){e=_s(r,i[9],{}),fe(e).forEach(F),this.h()},h(){Dn(e,n)},m(r,s){q(r,e,s)},p(r,s){n=Oe(t,[s&16&&r[10]]),Dn(e,n)},d(r){r&&F(e)}}}function mi(i){let e=i[9],t,n=i[9]&&fr(i);return{c(){n&&n.c(),t=qe()},l(r){n&&n.l(r),t=qe()},m(r,s){n&&n.m(r,s),q(r,t,s)},p(r,s){r[9]?e?ve(e,r[9])?(n.d(1),n=fr(r),n.c(),n.m(t.parentNode,t)):n.p(r,s):(n=fr(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[9]},d(r){r&&F(t),n&&n.d(r)}}}function ta(i){let e,t,n,r,s=i[4],o=[];for(let c=0;c<s.length;c+=1)o[c]=mi(hi(i,s,c));const a=i[8].default,l=Ne(a,i,i[7],null);let u=[ci,i[5],{width:i[2]},{height:i[2]},{stroke:i[1]},{"stroke-width":i[3]},{class:n=`tabler-icon tabler-icon-${i[0]} ${i[6].class??""}`}],f={};for(let c=0;c<u.length;c+=1)f=oe(f,u[c]);return{c(){e=ps("svg");for(let c=0;c<o.length;c+=1)o[c].c();t=qe(),l&&l.c(),this.h()},l(c){e=_s(c,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var m=fe(e);for(let h=0;h<o.length;h+=1)o[h].l(m);t=qe(),l&&l.l(m),m.forEach(F),this.h()},h(){Dn(e,f)},m(c,m){q(c,e,m);for(let h=0;h<o.length;h+=1)o[h].m(e,null);Q(e,t),l&&l.m(e,null),r=!0},p(c,[m]){if(m&16){s=c[4];let h;for(h=0;h<s.length;h+=1){const d=hi(c,s,h);o[h]?o[h].p(d,m):(o[h]=mi(d),o[h].c(),o[h].m(e,t))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}l&&l.p&&(!r||m&128)&&Pe(l,a,c,c[7],r?Be(a,c[7],m,null):xe(c[7]),null),Dn(e,f=Oe(u,[ci,m&32&&c[5],(!r||m&4)&&{width:c[2]},(!r||m&4)&&{height:c[2]},(!r||m&2)&&{stroke:c[1]},(!r||m&8)&&{"stroke-width":c[3]},(!r||m&65&&n!==(n=`tabler-icon tabler-icon-${c[0]} ${c[6].class??""}`))&&{class:n}]))},i(c){r||(y(l,c),r=!0)},o(c){k(l,c),r=!1},d(c){c&&F(e),pn(o,c),l&&l.d(c)}}}function na(i,e,t){const n=["name","color","size","stroke","iconNode"];let r=Jr(e,n),{$$slots:s={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{stroke:f=2}=e,{iconNode:c}=e;return i.$$set=m=>{t(6,e=oe(oe({},e),ke(m))),t(5,r=Jr(e,n)),"name"in m&&t(0,a=m.name),"color"in m&&t(1,l=m.color),"size"in m&&t(2,u=m.size),"stroke"in m&&t(3,f=m.stroke),"iconNode"in m&&t(4,c=m.iconNode),"$$scope"in m&&t(7,o=m.$$scope)},e=ke(e),[a,l,u,f,c,r,e,o,s]}class ra extends ye{constructor(e){super(),Ee(this,e,na,ta,ve,{name:0,color:1,size:2,stroke:3,iconNode:4})}}const He=ra;function ia(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function sa(i){let e,t;const n=[{name:"align-box-bottom-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ia]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function oa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 15v2"}],["path",{d:"M12 11v6"}],["path",{d:"M15 13v4"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class aa extends ye{constructor(e){super(),Ee(this,e,oa,sa,ve,{})}}const la=aa;function ua(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function fa(i){let e,t;const n=[{name:"align-box-center-middle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ua]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ca(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M11 15h2"}],["path",{d:"M9 12h6"}],["path",{d:"M10 9h4"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ha extends ye{constructor(e){super(),Ee(this,e,ca,fa,ve,{})}}const ma=ha;function da(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pa(i){let e,t;const n=[{name:"align-box-top-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[da]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function _a(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 9v-2"}],["path",{d:"M12 13v-6"}],["path",{d:"M15 11v-4"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ga extends ye{constructor(e){super(),Ee(this,e,_a,pa,ve,{})}}const ba=ga;function va(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $a(i){let e,t;const n=[{name:"align-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[va]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function wa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ya extends ye{constructor(e){super(),Ee(this,e,wa,$a,ve,{})}}const Ea=ya;function ka(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Aa(i){let e,t;const n=[{name:"align-left"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ka]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ta(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Sa extends ye{constructor(e){super(),Ee(this,e,Ta,Aa,ve,{})}}const Ia=Sa;function Ca(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Fa(i){let e,t;const n=[{name:"align-right"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ca]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ra(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Na extends ye{constructor(e){super(),Ee(this,e,Ra,Fa,ve,{})}}const Pa=Na;function xa(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ba(i){let e,t;const n=[{name:"arrow-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[xa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function za(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 13l-6 6"}],["path",{d:"M6 13l6 6"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Da extends ye{constructor(e){super(),Ee(this,e,za,Ba,ve,{})}}const Ma=Da;function Ua(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function La(i){let e,t;const n=[{name:"arrow-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ua]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Oa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 11l-6 -6"}],["path",{d:"M6 11l6 -6"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Ga extends ye{constructor(e){super(),Ee(this,e,Oa,La,ve,{})}}const Ha=Ga;function Wa(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ja(i){let e,t;const n=[{name:"bold"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Wa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Va(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Za extends ye{constructor(e){super(),Ee(this,e,Va,ja,ve,{})}}const qa=Za;function Xa(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ya(i){let e,t;const n=[{name:"box-align-bottom"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Xa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ka(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 14h16v5a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1v-5z"}],["path",{d:"M4 9v.01"}],["path",{d:"M4 4v.01"}],["path",{d:"M9 4v.01"}],["path",{d:"M15 4v.01"}],["path",{d:"M20 4v.01"}],["path",{d:"M20 9v.01"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Ja extends ye{constructor(e){super(),Ee(this,e,Ka,Ya,ve,{})}}const Qa=Ja;function el(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tl(i){let e,t;const n=[{name:"box-align-top"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[el]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function nl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 9.505h16v-5a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1v5z"}],["path",{d:"M4 14.505v-.01"}],["path",{d:"M4 19.505v-.01"}],["path",{d:"M9 19.505v-.01"}],["path",{d:"M15 19.505v-.01"}],["path",{d:"M20 19.505v-.01"}],["path",{d:"M20 14.505v-.01"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class rl extends ye{constructor(e){super(),Ee(this,e,nl,tl,ve,{})}}const il=rl;function sl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ol(i){let e,t;const n=[{name:"brand-github-filled"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[sl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function al(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z","stroke-width":"0",fill:"currentColor"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ll extends ye{constructor(e){super(),Ee(this,e,al,ol,ve,{})}}const ul=ll;function fl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function cl(i){let e,t;const n=[{name:"brand-vk"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[fl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function hl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ml extends ye{constructor(e){super(),Ee(this,e,hl,cl,ve,{})}}const dl=ml;function pl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function _l(i){let e,t;const n=[{name:"chevron-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[pl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function gl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 9l6 6l6 -6"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class bl extends ye{constructor(e){super(),Ee(this,e,gl,_l,ve,{})}}const vl=bl;function $l(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function wl(i){let e,t;const n=[{name:"copy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[$l]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function yl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class El extends ye{constructor(e){super(),Ee(this,e,yl,wl,ve,{})}}const bs=El;function kl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Al(i){let e,t;const n=[{name:"device-floppy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[kl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Tl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M14 4l0 4l-6 0l0 -4"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Sl extends ye{constructor(e){super(),Ee(this,e,Tl,Al,ve,{})}}const Il=Sl;function Cl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Fl(i){let e,t;const n=[{name:"help"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Cl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Rl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M12 17l0 .01"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Nl extends ye{constructor(e){super(),Ee(this,e,Rl,Fl,ve,{})}}const Pl=Nl;function xl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Bl(i){let e,t;const n=[{name:"history"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[xl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function zl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 8l0 4l2 2"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Dl extends ye{constructor(e){super(),Ee(this,e,zl,Bl,ve,{})}}const Ml=Dl;function Ul(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ll(i){let e,t;const n=[{name:"info-circle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ul]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ol(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Gl extends ye{constructor(e){super(),Ee(this,e,Ol,Ll,ve,{})}}const Hl=Gl;function Wl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function jl(i){let e,t;const n=[{name:"italic"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Wl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Vl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Zl extends ye{constructor(e){super(),Ee(this,e,Vl,jl,ve,{})}}const ql=Zl;function Xl(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Yl(i){let e,t;const n=[{name:"line-height"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Xl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Kl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 8l3 -3l3 3"}],["path",{d:"M3 16l3 3l3 -3"}],["path",{d:"M6 5l0 14"}],["path",{d:"M13 6l7 0"}],["path",{d:"M13 12l7 0"}],["path",{d:"M13 18l7 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Jl extends ye{constructor(e){super(),Ee(this,e,Kl,Yl,ve,{})}}const Ql=Jl;function eu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tu(i){let e,t;const n=[{name:"minus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[eu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function nu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class ru extends ye{constructor(e){super(),Ee(this,e,nu,tu,ve,{})}}const iu=ru;function su(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ou(i){let e,t;const n=[{name:"new-section"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[su]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function au(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M9 12l6 0"}],["path",{d:"M12 9l0 6"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class lu extends ye{constructor(e){super(),Ee(this,e,au,ou,ve,{})}}const vs=lu;function uu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function fu(i){let e,t;const n=[{name:"photo-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[uu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function cu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class hu extends ye{constructor(e){super(),Ee(this,e,cu,fu,ve,{})}}const mu=hu;function du(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pu(i){let e,t;const n=[{name:"photo-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[du]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function _u(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3.5 3.5"}],["path",{d:"M14 14l1 -1c.679 -.653 1.473 -.829 2.214 -.526"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class gu extends ye{constructor(e){super(),Ee(this,e,_u,pu,ve,{})}}const bu=gu;function vu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $u(i){let e,t;const n=[{name:"plus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[vu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function wu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class yu extends ye{constructor(e){super(),Ee(this,e,wu,$u,ve,{})}}const $s=yu;function Eu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ku(i){let e,t;const n=[{name:"rectangle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Eu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Au(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Tu extends ye{constructor(e){super(),Ee(this,e,Au,ku,ve,{})}}const Su=Tu;function Iu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Cu(i){let e,t;const n=[{name:"settings"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Iu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Fu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Ru extends ye{constructor(e){super(),Ee(this,e,Fu,Cu,ve,{})}}const Nu=Ru;function Pu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function xu(i){let e,t;const n=[{name:"trash"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Pu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Bu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class zu extends ye{constructor(e){super(),Ee(this,e,Bu,xu,ve,{})}}const Du=zu;function Mu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Uu(i){let e,t;const n=[{name:"upload"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Mu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Lu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M7 9l5 -5l5 5"}],["path",{d:"M12 4l0 12"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Ou extends ye{constructor(e){super(),Ee(this,e,Lu,Uu,ve,{})}}const Gu=Ou;function Hu(i){let e;const t=i[2].default,n=Ne(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Pe(n,t,r,r[3],e?Be(t,r[3],s,null):xe(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Wu(i){let e,t;const n=[{name:"x"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Hu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=oe(r,n[s]);return e=new He({props:r}),{c(){B(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){D(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ju(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M18 6l-12 12"}],["path",{d:"M6 6l12 12"}]];return i.$$set=o=>{t(1,e=oe(oe({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[s,e,n,r]}class Vu extends ye{constructor(e){super(),Ee(this,e,ju,Wu,ve,{})}}const Zu=Vu;function qu(i){let e,t,n,r,s,o;const a=i[11].default,l=Ne(a,i,i[10],null);return{c(){e=ie("main"),l&&l.c(),this.h()},l(u){e=se(u,"MAIN",{role:!0,tabindex:!0,title:!0,class:!0,style:!0});var f=fe(e);l&&l.l(f),f.forEach(F),this.h()},h(){K(e,"role","button"),K(e,"tabindex",1),K(e,"title",i[4]),K(e,"class",t=Mn(i[2])+" svelte-5f8rnw"),K(e,"style",n=`justify-content:${i[6]};width:${i[8]};${i[9]?`${i[9]};`:""}${i[3]};`),tt(e,"active",i[0]),tt(e,"disabled",i[1]),tt(e,"disablePadding",i[5]),tt(e,"border",i[7])},m(u,f){q(u,e,f),l&&l.m(e,null),r=!0,s||(o=[De(e,"click",i[12]),De(e,"mousemove",i[13]),De(e,"mouseout",i[14]),De(e,"mouseover",i[15]),De(e,"mouseup",i[16]),De(e,"mousedown",i[17]),De(e,"mouseenter",i[18]),De(e,"mouseleave",i[19]),De(e,"touchstart",i[20],{passive:!0}),De(e,"touchmove",i[21],{passive:!0}),De(e,"touchcancel",i[22],{passive:!0}),De(e,"touchend",i[23],{passive:!0}),De(e,"keydown",i[24]),De(e,"keyup",i[25]),De(e,"focus",i[26]),De(e,"focusin",i[27]),De(e,"focusout",i[28]),De(e,"blur",i[29])],s=!0)},p(u,[f]){l&&l.p&&(!r||f&1024)&&Pe(l,a,u,u[10],r?Be(a,u[10],f,null):xe(u[10]),null),(!r||f&16)&&K(e,"title",u[4]),(!r||f&4&&t!==(t=Mn(u[2])+" svelte-5f8rnw"))&&K(e,"class",t),(!r||f&840&&n!==(n=`justify-content:${u[6]};width:${u[8]};${u[9]?`${u[9]};`:""}${u[3]};`))&&K(e,"style",n),(!r||f&5)&&tt(e,"active",u[0]),(!r||f&6)&&tt(e,"disabled",u[1]),(!r||f&36)&&tt(e,"disablePadding",u[5]),(!r||f&132)&&tt(e,"border",u[7])},i(u){r||(y(l,u),r=!0)},o(u){k(l,u),r=!1},d(u){u&&F(e),l&&l.d(u),s=!1,ft(o)}}}function Xu(i,e,t){let{$$slots:n={},$$scope:r}=e,{active:s=!1}=e,{disabled:o=!1}=e,{type:a="default"}=e,{style:l=""}=e,{title:u=""}=e,{disablePadding:f=!1}=e,{justifyContent:c="center"}=e,{border:m=!0}=e,{width:h="100%"}=e,{height:d=""}=e;function p(N){Ae.call(this,i,N)}function g(N){Ae.call(this,i,N)}function _(N){Ae.call(this,i,N)}function $(N){Ae.call(this,i,N)}function w(N){Ae.call(this,i,N)}function E(N){Ae.call(this,i,N)}function C(N){Ae.call(this,i,N)}function P(N){Ae.call(this,i,N)}function R(N){Ae.call(this,i,N)}function V(N){Ae.call(this,i,N)}function O(N){Ae.call(this,i,N)}function L(N){Ae.call(this,i,N)}function ue(N){Ae.call(this,i,N)}function S(N){Ae.call(this,i,N)}function T(N){Ae.call(this,i,N)}function v(N){Ae.call(this,i,N)}function Z(N){Ae.call(this,i,N)}function pe(N){Ae.call(this,i,N)}return i.$$set=N=>{"active"in N&&t(0,s=N.active),"disabled"in N&&t(1,o=N.disabled),"type"in N&&t(2,a=N.type),"style"in N&&t(3,l=N.style),"title"in N&&t(4,u=N.title),"disablePadding"in N&&t(5,f=N.disablePadding),"justifyContent"in N&&t(6,c=N.justifyContent),"border"in N&&t(7,m=N.border),"width"in N&&t(8,h=N.width),"height"in N&&t(9,d=N.height),"$$scope"in N&&t(10,r=N.$$scope)},[s,o,a,l,u,f,c,m,h,d,r,n,p,g,_,$,w,E,C,P,R,V,O,L,ue,S,T,v,Z,pe]}class nt extends ye{constructor(e){super(),Ee(this,e,Xu,qu,ve,{active:0,disabled:1,type:2,style:3,title:4,disablePadding:5,justifyContent:6,border:7,width:8,height:9})}}function Yu(i){let e,t;return e=new iu({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ku(i){let e,t;return e=new $s({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ju(i){let e,t,n,r,s,o,a,l,u,f,c;return o=new nt({props:{disablePadding:!0,title:i[9],$$slots:{default:[Yu]},$$scope:{ctx:i}}}),o.$on("mousedown",i[14]),o.$on("mouseup",i[15]),l=new nt({props:{disablePadding:!0,title:i[9],$$slots:{default:[Ku]},$$scope:{ctx:i}}}),l.$on("mousedown",i[16]),l.$on("mouseup",i[17]),{c(){e=ie("main"),t=ie("input"),r=he(),s=ie("footer"),B(o.$$.fragment),a=he(),B(l.$$.fragment),this.h()},l(m){e=se(m,"MAIN",{class:!0});var h=fe(e);t=se(h,"INPUT",{class:!0}),r=me(h),s=se(h,"FOOTER",{class:!0});var d=fe(s);z(o.$$.fragment,d),a=me(d),z(l.$$.fragment,d),d.forEach(F),h.forEach(F),this.h()},h(){t.value=n=i[0].toString(),K(t,"class","svelte-bxcbqd"),K(s,"class","svelte-bxcbqd"),K(e,"class","svelte-bxcbqd")},m(m,h){q(m,e,h),Q(e,t),Q(e,r),Q(e,s),D(o,s,null),Q(s,a),D(l,s,null),u=!0,f||(c=[De(t,"input",i[12]),De(t,"change",i[13])],f=!0)},p(m,[h]){(!u||h&1&&n!==(n=m[0].toString())&&t.value!==n)&&(t.value=n);const d={};h&1048576&&(d.$$scope={dirty:h,ctx:m}),o.$set(d);const p={};h&1048576&&(p.$$scope={dirty:h,ctx:m}),l.$set(p)},i(m){u||(y(o.$$.fragment,m),y(l.$$.fragment,m),u=!0)},o(m){k(o.$$.fragment,m),k(l.$$.fragment,m),u=!1},d(m){m&&F(e),M(o),M(l),f=!1,ft(c)}}}function Qu(i,e,t){let{value:n}=e,{min:r=-1/0}=e,{max:s=1/0}=e,{step:o=1}=e,{ctrlMultiplier:a=2}=e,{shiftMultiplier:l=5}=e;const u=gt();let f=-1,c=!1;function m(R){(!R||R.button===0)&&f!==-1&&(clearInterval(f),t(4,c=!1))}function h(R){let V=1;return R.ctrlKey&&(V*=a),R.shiftKey&&(V*=l),V}function d(R){t(0,n=+Math.min(s,Math.max(r,n+R)).toFixed(2)),u("input",n),u("change",n)}function p(R){m(),f=setInterval(()=>{t(4,c=!0),d(R)},150)}sn(()=>(document.addEventListener("mouseup",m),()=>document.removeEventListener("mouseup",m)));const g=`Шаг: ${o}
Ctrl: x${a}
Shift: x${l}`,_=R=>{const V=Number(R.currentTarget.value);if(Number.isNaN(V)){R.currentTarget.value=n.toString();return}t(0,n=Math.min(s,Math.max(r,V))),u("input",n)},$=R=>u("change",Number(R.currentTarget.value)),w=R=>{R.button==0&&p(-h(R)*o)},E=R=>{R.button==0&&(c||d(-h(R)*o))},C=R=>{R.button==0&&p(+h(R)*o)},P=R=>{R.button==0&&(c||d(+h(R)*o))};return i.$$set=R=>{"value"in R&&t(0,n=R.value),"min"in R&&t(1,r=R.min),"max"in R&&t(2,s=R.max),"step"in R&&t(3,o=R.step),"ctrlMultiplier"in R&&t(10,a=R.ctrlMultiplier),"shiftMultiplier"in R&&t(11,l=R.shiftMultiplier)},[n,r,s,o,c,u,h,d,p,g,a,l,_,$,w,E,C,P]}class ht extends ye{constructor(e){super(),Ee(this,e,Qu,Ju,ve,{value:0,min:1,max:2,step:3,ctrlMultiplier:10,shiftMultiplier:11})}}function ef(i){const e=i-1;return e*e*e+1}function Bt(i,{delay:e=0,duration:t=400,easing:n=ef}={}){const r=getComputedStyle(i),s=+r.opacity,o=parseFloat(r.height),a=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),f=parseFloat(r.marginBottom),c=parseFloat(r.borderTopWidth),m=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};height: ${h*o}px;padding-top: ${h*a}px;padding-bottom: ${h*l}px;margin-top: ${h*u}px;margin-bottom: ${h*f}px;border-top-width: ${h*c}px;border-bottom-width: ${h*m}px;`}}const tf=i=>({}),di=i=>({}),nf=i=>({}),pi=i=>({});function rf(i){let e,t,n;const r=i[7].header,s=Ne(r,i,i[12],pi);return t=new vl({}),{c(){s&&s.c(),e=he(),B(t.$$.fragment)},l(o){s&&s.l(o),e=me(o),z(t.$$.fragment,o)},m(o,a){s&&s.m(o,a),q(o,e,a),D(t,o,a),n=!0},p(o,a){s&&s.p&&(!n||a&4096)&&Pe(s,r,o,o[12],n?Be(r,o[12],a,nf):xe(o[12]),pi)},i(o){n||(y(s,o),y(t.$$.fragment,o),n=!0)},o(o){k(s,o),k(t.$$.fragment,o),n=!1},d(o){s&&s.d(o),o&&F(e),M(t,o)}}}function _i(i){let e,t,n,r,s,o;const a=i[7].content,l=Ne(a,i,i[12],di);return{c(){e=ie("article"),l&&l.c(),this.h()},l(u){e=se(u,"ARTICLE",{style:!0,class:!0});var f=fe(e);l&&l.l(f),f.forEach(F),this.h()},h(){K(e,"style",t=`max-height:${i[4]}px;width:${i[3]}px;left:${i[6]}px;top:${i[5]}px;`),K(e,"class","svelte-1rlf41s")},m(u,f){q(u,e,f),l&&l.m(e,null),r=!0,s||(o=[De(e,"mouseover",i[10]),De(e,"mouseout",i[11])],s=!0)},p(u,f){l&&l.p&&(!r||f&4096)&&Pe(l,a,u,u[12],r?Be(a,u[12],f,tf):xe(u[12]),di),(!r||f&120&&t!==(t=`max-height:${u[4]}px;width:${u[3]}px;left:${u[6]}px;top:${u[5]}px;`))&&K(e,"style",t)},i(u){r||(y(l,u),Vn(()=>{n||(n=Pt(e,Bt,{duration:150},!0)),n.run(1)}),r=!0)},o(u){k(l,u),n||(n=Pt(e,Bt,{duration:150},!1)),n.run(0),r=!1},d(u){u&&F(e),l&&l.d(u),u&&n&&n.end(),s=!1,ft(o)}}}function sf(i){let e,t,n,r,s;t=new nt({props:{style:`height:${i[0].height};width:${i[0].width};`,justifyContent:"space-between",$$slots:{default:[rf]},$$scope:{ctx:i}}}),t.$on("click",i[8]),t.$on("focusout",i[9]);let o=(i[2]||i[1])&&_i(i);return{c(){e=ie("main"),B(t.$$.fragment),n=he(),o&&o.c(),this.h()},l(a){e=se(a,"MAIN",{style:!0,class:!0});var l=fe(e);z(t.$$.fragment,l),n=me(l),o&&o.l(l),l.forEach(F),this.h()},h(){K(e,"style",r=`height:${i[0].height};width:${i[0].width};${i[0].main}`),K(e,"class","svelte-1rlf41s")},m(a,l){q(a,e,l),D(t,e,null),Q(e,n),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.style=`height:${a[0].height};width:${a[0].width};`),l&4096&&(u.$$scope={dirty:l,ctx:a}),t.$set(u),a[2]||a[1]?o?(o.p(a,l),l&6&&y(o,1)):(o=_i(a),o.c(),y(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),Ve()),(!s||l&1&&r!==(r=`height:${a[0].height};width:${a[0].width};${a[0].main}`))&&K(e,"style",r)},i(a){s||(y(t.$$.fragment,a),y(o),s=!0)},o(a){k(t.$$.fragment,a),k(o),s=!1},d(a){a&&F(e),M(t),o&&o.d()}}}function of(i,e,t){let{$$slots:n={},$$scope:r}=e,s=!1,o=!1,{css:a={height:"48px",width:"100%",main:""}}=e,l=0,u=0,f=0,c=0;const m=g=>{const _=g.currentTarget;if(!_)throw new Error("Not found target for button in drop down");if(!(_ instanceof HTMLElement))throw new Error("Target for button is not html element");const $=_.getBoundingClientRect(),w=(visualViewport==null?void 0:visualViewport.height)||720;t(3,l=$.width),t(5,f=$.bottom),t(6,c=$.left),t(4,u=w-f),t(1,s=!s)},h=()=>setTimeout(()=>t(1,s=!1),100),d=()=>t(2,o=!0),p=()=>t(2,o=!1);return i.$$set=g=>{"css"in g&&t(0,a=g.css),"$$scope"in g&&t(12,r=g.$$scope)},[a,s,o,l,u,f,c,n,m,h,d,p,r]}class ws extends ye{constructor(e){super(),Ee(this,e,of,sf,ve,{css:0})}}const af=i=>({item:i&1}),gi=i=>({item:i[0]});function bi(i,e,t){const n=i.slice();return n[10]=e[t],n}const lf=i=>({item:i&2}),vi=i=>({item:i[10]});function uf(i){let e;return{c(){e=$e(i[0])},l(t){e=we(t,i[0])},m(t,n){q(t,e,n)},p(t,n){n&1&&at(e,t[0])},d(t){t&&F(e)}}}function ff(i){let e;const t=i[5].default,n=Ne(t,i,i[9],gi),r=n||uf(i);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,o){r&&r.m(s,o),e=!0},p(s,o){n?n.p&&(!e||o&513)&&Pe(n,t,s,s[9],e?Be(t,s[9],o,af):xe(s[9]),gi):r&&r.p&&(!e||o&1)&&r.p(s,e?o:-1)},i(s){e||(y(r,s),e=!0)},o(s){k(r,s),e=!1},d(s){r&&r.d(s)}}}function $i(i){let e,t,n,r,s,o,a,l;function u(...h){return i[8](i[10],...h)}const f=i[5].default,c=Ne(f,i,i[9],vi),m=c||cf(i);return{c(){e=ie("label"),t=ie("input"),r=he(),m&&m.c(),s=he(),this.h()},l(h){e=se(h,"LABEL",{class:!0});var d=fe(e);t=se(d,"INPUT",{type:!0,class:!0}),r=me(d),m&&m.l(d),s=me(d),d.forEach(F),this.h()},h(){K(t,"type","radio"),t.__value=n=i[10],t.value=t.__value,K(t,"class","svelte-1plfxql"),i[7][0].push(t),K(e,"class","svelte-1plfxql"),tt(e,"active",i[10]===i[0])},m(h,d){q(h,e,d),Q(e,t),t.checked=t.__value===i[0],Q(e,r),m&&m.m(e,null),Q(e,s),o=!0,a||(l=[De(t,"change",i[6]),De(t,"change",u)],a=!0)},p(h,d){i=h,(!o||d&2&&n!==(n=i[10]))&&(t.__value=n,t.value=t.__value),d&1&&(t.checked=t.__value===i[0]),c?c.p&&(!o||d&514)&&Pe(c,f,i,i[9],o?Be(f,i[9],d,lf):xe(i[9]),vi):m&&m.p&&(!o||d&2)&&m.p(i,o?d:-1),(!o||d&3)&&tt(e,"active",i[10]===i[0])},i(h){o||(y(m,h),o=!0)},o(h){k(m,h),o=!1},d(h){h&&F(e),i[7][0].splice(i[7][0].indexOf(t),1),m&&m.d(h),a=!1,ft(l)}}}function cf(i){let e=i[10]+"",t;return{c(){t=$e(e)},l(n){t=we(n,e)},m(n,r){q(n,t,r)},p(n,r){r&2&&e!==(e=n[10]+"")&&at(t,e)},d(n){n&&F(t)}}}function wi(i){let e,t,n=i[10]!=i[2]&&$i(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),q(r,e,s),t=!0},p(r,s){r[10]!=r[2]?n?(n.p(r,s),s&6&&y(n,1)):(n=$i(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),Ve())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&F(e)}}}function hf(i){let e,t,n=i[1],r=[];for(let o=0;o<n.length;o+=1)r[o]=wi(bi(i,n,o));const s=o=>k(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=qe()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=qe()},m(o,a){for(let l=0;l<r.length;l+=1)r[l].m(o,a);q(o,e,a),t=!0},p(o,a){if(a&535){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=bi(o,n,l);r[l]?(r[l].p(u,a),y(r[l],1)):(r[l]=wi(u),r[l].c(),y(r[l],1),r[l].m(e.parentNode,e))}for(je(),l=n.length;l<r.length;l+=1)s(l);Ve()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)y(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)k(r[a]);t=!1},d(o){pn(r,o),o&&F(e)}}}function mf(i){let e,t;return e=new ws({props:{css:i[3],$$slots:{content:[hf],header:[ff]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.css=n[3]),r&519&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function df(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{items:o}=e,{placeholder:a=void 0}=e,{css:l={height:"48px",width:"100%",main:""}}=e;const u=gt(),f=[[]];function c(){s=this.__value,t(0,s)}const m=(h,d)=>{d.currentTarget.checked&&u("change",{value:h})};return i.$$set=h=>{"value"in h&&t(0,s=h.value),"items"in h&&t(1,o=h.items),"placeholder"in h&&t(2,a=h.placeholder),"css"in h&&t(3,l=h.css),"$$scope"in h&&t(9,r=h.$$scope)},[s,o,a,l,u,n,c,f,m,r]}class At extends ye{constructor(e){super(),Ee(this,e,df,mf,ve,{value:0,items:1,placeholder:2,css:3})}}const pf={width:220,height:220},_f={width:660,height:440},gf={fill:{x:0,y:0},stroke:{x:1,y:0},shadow:{x:2,y:0},gear:{x:0,y:1},redo:{x:1,y:1},undo:{x:2,y:1}},bf={cell:pf,atlas:_f,images:gf},vf=""+new URL("../assets/atlas.27b53d5d.webp",import.meta.url).href;function $f(i){let e,t;return{c(){e=ie("main"),this.h()},l(n){e=se(n,"MAIN",{style:!0,class:!0}),fe(e).forEach(F),this.h()},h(){K(e,"style",t=`
width: ${i[1]}px;
height: ${i[1]}px;
background-image: url(${i[0]});
background-size: ${i[2]}px ${i[3]}px;
background-position: -${i[4]}px ${i[5]}px;
`),K(e,"class","svelte-1b6vt1p")},m(n,r){q(n,e,r)},p(n,[r]){r&63&&t!==(t=`
width: ${n[1]}px;
height: ${n[1]}px;
background-image: url(${n[0]});
background-size: ${n[2]}px ${n[3]}px;
background-position: -${n[4]}px ${n[5]}px;
`)&&K(e,"style",t)},i:Je,o:Je,d(n){n&&F(e)}}}function wf(i,e,t){let{atlasURL:n}=e,{atlasDescription:r}=e,{name:s}=e,{size:o}=e,a,l,u,f,c;return i.$$set=m=>{"atlasURL"in m&&t(0,n=m.atlasURL),"atlasDescription"in m&&t(6,r=m.atlasDescription),"name"in m&&t(7,s=m.name),"size"in m&&t(1,o=m.size)},i.$$.update=()=>{i.$$.dirty&450&&(t(8,a=r.images[s]),t(2,l=r.atlas.width/r.cell.width*o),t(3,u=r.atlas.height/r.cell.height*o),t(4,f=o*a.x),t(5,c=o*a.y))},[n,o,l,u,f,c,r,s,a]}class yf extends ye{constructor(e){super(),Ee(this,e,wf,$f,ve,{atlasURL:0,atlasDescription:6,name:7,size:1})}}function Ef(i){let e,t;const n=i[1].default,r=Ne(n,i,i[0],null);return{c(){e=ie("article"),r&&r.c(),this.h()},l(s){e=se(s,"ARTICLE",{class:!0});var o=fe(e);r&&r.l(o),o.forEach(F),this.h()},h(){K(e,"class","svelte-i0r9v3")},m(s,o){q(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&Pe(r,n,s,s[0],t?Be(n,s[0],o,null):xe(s[0]),null)},i(s){t||(y(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&F(e),r&&r.d(s)}}}function kf(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class St extends ye{constructor(e){super(),Ee(this,e,kf,Ef,ve,{})}}function Af(i){let e,t,n,r;function s(a){i[2](a)}let o={step:i[1]};return i[0].x!==void 0&&(o.value=i[0].x),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[3]),{c(){e=$e("x "),B(t.$$.fragment)},l(a){e=we(a,"x "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};l&2&&(u.step=a[1]),!n&&l&1&&(n=!0,u.value=a[0].x,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Tf(i){let e,t,n,r;function s(a){i[4](a)}let o={step:i[1]};return i[0].y!==void 0&&(o.value=i[0].y),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[5]),{c(){e=$e("y "),B(t.$$.fragment)},l(a){e=we(a,"y "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};l&2&&(u.step=a[1]),!n&&l&1&&(n=!0,u.value=a[0].y,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Sf(i){let e,t,n,r;return e=new et({props:{$$slots:{default:[Af]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Tf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment)},l(s){z(e.$$.fragment,s),t=me(s),z(n.$$.fragment,s)},m(s,o){D(e,s,o),q(s,t,o),D(n,s,o),r=!0},p(s,o){const a={};o&67&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const l={};o&67&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){r||(y(e.$$.fragment,s),y(n.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&F(t),M(n,s)}}}function If(i){let e,t;return e=new St({props:{$$slots:{default:[Sf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&67&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Cf(i,e,t){let{value:n}=e,{step:r=1}=e;function s(u){i.$$.not_equal(n.x,u)&&(n.x=u,t(0,n))}function o(u){Ae.call(this,i,u)}function a(u){i.$$.not_equal(n.y,u)&&(n.y=u,t(0,n))}function l(u){Ae.call(this,i,u)}return i.$$set=u=>{"value"in u&&t(0,n=u.value),"step"in u&&t(1,r=u.step)},[n,r,s,o,a,l]}class qn extends ye{constructor(e){super(),Ee(this,e,Cf,If,ve,{value:0,step:1})}}function Ff(i){let e,t,n,r;return{c(){e=$e("Цвет"),t=ie("input"),this.h()},l(s){e=we(s,"Цвет"),t=se(s,"INPUT",{type:!0}),this.h()},h(){K(t,"type","color")},m(s,o){q(s,e,o),q(s,t,o),xt(t,i[0].color),n||(r=[De(t,"input",i[2]),De(t,"change",i[1])],n=!0)},p(s,o){o&1&&xt(t,s[0].color)},d(s){s&&F(e),s&&F(t),n=!1,ft(r)}}}function Rf(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].offset!==void 0&&(o.value=i[0].offset),t=new qn({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[4]),{c(){e=$e("Сдвиг"),B(t.$$.fragment)},l(a){e=we(a,"Сдвиг"),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].offset,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Nf(i){let e,t,n,r;function s(a){i[5](a)}let o={min:0,max:1e3};return i[0].blur!==void 0&&(o.value=i[0].blur),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[6]),{c(){e=$e("Размытие"),B(t.$$.fragment)},l(a){e=we(a,"Размытие"),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].blur,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Pf(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[Ff]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Rf]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Nf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment),r=he(),B(s.$$.fragment)},l(a){z(e.$$.fragment,a),t=me(a),z(n.$$.fragment,a),r=me(a),z(s.$$.fragment,a)},m(a,l){D(e,a,l),q(a,t,l),D(n,a,l),q(a,r,l),D(s,a,l),o=!0},p(a,l){const u={};l&129&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&129&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&129&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(y(e.$$.fragment,a),y(n.$$.fragment,a),y(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){M(e,a),a&&F(t),M(n,a),a&&F(r),M(s,a)}}}function xf(i){let e,t;return e=new St({props:{$$slots:{default:[Pf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Bf(i,e,t){let{value:n}=e;function r(f){Ae.call(this,i,f)}function s(){n.color=this.value,t(0,n)}function o(f){i.$$.not_equal(n.offset,f)&&(n.offset=f,t(0,n))}function a(f){Ae.call(this,i,f)}function l(f){i.$$.not_equal(n.blur,f)&&(n.blur=f,t(0,n))}function u(f){Ae.call(this,i,f)}return i.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,r,s,o,a,l,u]}class zf extends ye{constructor(e){super(),Ee(this,e,Bf,xf,ve,{value:0})}}function Df(i){let e,t,n,r;return{c(){e=$e("Цвет"),t=ie("input"),this.h()},l(s){e=we(s,"Цвет"),t=se(s,"INPUT",{type:!0}),this.h()},h(){K(t,"type","color")},m(s,o){q(s,e,o),q(s,t,o),xt(t,i[0].value),n||(r=[De(t,"input",i[2]),De(t,"change",i[1])],n=!0)},p(s,o){o&1&&xt(t,s[0].value)},d(s){s&&F(e),s&&F(t),n=!1,ft(r)}}}function Mf(i){let e,t;return e=new et({props:{$$slots:{default:[Df]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Uf(i){let e,t;return e=new St({props:{$$slots:{default:[Mf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Lf(i,e,t){let{value:n}=e;function r(o){Ae.call(this,i,o)}function s(){n.value=this.value,t(0,n)}return i.$$set=o=>{"value"in o&&t(0,n=o.value)},[n,r,s]}class Of extends ye{constructor(e){super(),Ee(this,e,Lf,Uf,ve,{value:0})}}function Gf(i){let e;const t=i[3].default,n=Ne(t,i,i[5],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&32)&&Pe(n,t,r,r[5],e?Be(t,r[5],s,null):xe(r[5]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Hf(i){let e,t;return e=new nt({props:{active:i[0],width:i[1],$$slots:{default:[Gf]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.active=n[0]),r&2&&(s.width=n[1]),r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Wf(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{width:o=""}=e;const a=gt(),l=()=>a("change",t(0,s=!s));return i.$$set=u=>{"value"in u&&t(0,s=u.value),"width"in u&&t(1,o=u.width),"$$scope"in u&&t(5,r=u.$$scope)},[s,o,a,n,l,r]}class xn extends ye{constructor(e){super(),Ee(this,e,Wf,Hf,ve,{value:0,width:1})}}function jf(i){let e;return{c(){e=$e("Выбрать файл...")},l(t){e=we(t,"Выбрать файл...")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Vf(i){let e,t,n,r,s,o,a;const l=i[5].default,u=Ne(l,i,i[4],null),f=u||jf();return{c(){e=ie("label"),f&&f.c(),t=he(),n=ie("input"),this.h()},l(c){e=se(c,"LABEL",{class:!0});var m=fe(e);f&&f.l(m),t=me(m),n=se(m,"INPUT",{accept:!0,type:!0,class:!0}),m.forEach(F),this.h()},h(){K(n,"accept",i[0]),K(n,"type","file"),K(n,"class","svelte-187m8cr"),K(e,"class",r=Mn(i[2])+" svelte-187m8cr")},m(c,m){q(c,e,m),f&&f.m(e,null),Q(e,t),Q(e,n),s=!0,o||(a=De(n,"change",i[6]),o=!0)},p(c,[m]){u&&u.p&&(!s||m&16)&&Pe(u,l,c,c[4],s?Be(l,c[4],m,null):xe(c[4]),null),(!s||m&1)&&K(n,"accept",c[0]),(!s||m&4&&r!==(r=Mn(c[2])+" svelte-187m8cr"))&&K(e,"class",r)},i(c){s||(y(f,c),s=!0)},o(c){k(f,c),s=!1},d(c){c&&F(e),f&&f.d(c),o=!1,a()}}}function Zf(i,e,t){let{$$slots:n={},$$scope:r}=e,{accept:s=void 0}=e,{typeFilter:o=/.*/}=e,{class:a=""}=e;const l=gt(),u=f=>{const c=f.currentTarget.files;if(!c||c.length===0)return;const m=Array.from(c).filter(h=>{var d;return(d=h.type)==null?void 0:d.match(o)});m.length!==0&&(l("change",m),f.currentTarget.value="")};return i.$$set=f=>{"accept"in f&&t(0,s=f.accept),"typeFilter"in f&&t(1,o=f.typeFilter),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(4,r=f.$$scope)},[s,o,a,l,r,n,u]}class vr extends ye{constructor(e){super(),Ee(this,e,Zf,Vf,ve,{accept:0,typeFilter:1,class:2})}}function qf(i){let e;return{c(){e=$e("Выберите файл")},l(t){e=we(t,"Выберите файл")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Xf(i){let e,t;return e=new nt({props:{$$slots:{default:[qf]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Yf(i){let e,t,n,r,s,o,a,l;return t=new vr({props:{accept:i[0],typeFilter:i[1],$$slots:{default:[Xf]},$$scope:{ctx:i}}}),t.$on("change",i[3]),{c(){e=ie("main"),B(t.$$.fragment),n=he(),r=ie("span"),s=$e("или перетащите сюда."),this.h()},l(u){e=se(u,"MAIN",{class:!0});var f=fe(e);z(t.$$.fragment,f),n=me(f),r=se(f,"SPAN",{class:!0});var c=fe(r);s=we(c,"или перетащите сюда."),c.forEach(F),f.forEach(F),this.h()},h(){K(r,"class","svelte-e7qrnw"),K(e,"class","svelte-e7qrnw")},m(u,f){q(u,e,f),D(t,e,null),Q(e,n),Q(e,r),Q(r,s),o=!0,a||(l=[De(e,"dragover",Kf),De(e,"drop",i[2])],a=!0)},p(u,[f]){const c={};f&1&&(c.accept=u[0]),f&2&&(c.typeFilter=u[1]),f&32&&(c.$$scope={dirty:f,ctx:u}),t.$set(c)},i(u){o||(y(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&F(e),M(t),a=!1,ft(l)}}}const Kf=i=>i.preventDefault();function Jf(i,e,t){let{accept:n=void 0}=e,{typeFilter:r=/.*/g}=e;const s=gt();function o(l){var c;l.preventDefault();const u=(c=l.dataTransfer)==null?void 0:c.files;if(!u)return;const f=Array.from(u).filter(m=>{var h;return(h=m.type)==null?void 0:h.match(r)});f.length&&s("change",f)}function a(l){Ae.call(this,i,l)}return i.$$set=l=>{"accept"in l&&t(0,n=l.accept),"typeFilter"in l&&t(1,r=l.typeFilter)},[n,r,o,a]}class Qf extends ye{constructor(e){super(),Ee(this,e,Jf,Yf,ve,{accept:0,typeFilter:1})}}const ec=i=>({}),yi=i=>({}),tc=i=>({}),Ei=i=>({});function ki(i){let e,t,n,r,s,o,a,l,u,f,c=i[4].title&&Ai(i);const m=i[5].default,h=Ne(m,i,i[8],null);let d=i[4].footer&&Si(i);return{c(){e=ie("button"),t=he(),n=ie("div"),r=ie("article"),c&&c.c(),s=he(),o=ie("main"),h&&h.c(),a=he(),d&&d.c(),this.h()},l(p){e=se(p,"BUTTON",{class:!0}),fe(e).forEach(F),t=me(p),n=se(p,"DIV",{class:!0});var g=fe(n);r=se(g,"ARTICLE",{class:!0});var _=fe(r);c&&c.l(_),s=me(_),o=se(_,"MAIN",{class:!0});var $=fe(o);h&&h.l($),$.forEach(F),a=me(_),d&&d.l(_),_.forEach(F),g.forEach(F),this.h()},h(){K(e,"class","backdrop fixed svelte-uzpkxq"),K(o,"class","svelte-uzpkxq"),K(r,"class","svelte-uzpkxq"),K(n,"class","container fixed svelte-uzpkxq")},m(p,g){q(p,e,g),q(p,t,g),q(p,n,g),Q(n,r),c&&c.m(r,null),Q(r,s),Q(r,o),h&&h.m(o,null),Q(r,a),d&&d.m(r,null),l=!0,u||(f=[De(e,"click",i[6]),De(n,"keypress",i[3])],u=!0)},p(p,g){p[4].title?c?(c.p(p,g),g&16&&y(c,1)):(c=Ai(p),c.c(),y(c,1),c.m(r,s)):c&&(je(),k(c,1,1,()=>{c=null}),Ve()),h&&h.p&&(!l||g&256)&&Pe(h,m,p,p[8],l?Be(m,p[8],g,null):xe(p[8]),null),p[4].footer?d?(d.p(p,g),g&16&&y(d,1)):(d=Si(p),d.c(),y(d,1),d.m(r,null)):d&&(je(),k(d,1,1,()=>{d=null}),Ve())},i(p){l||(y(c),y(h,p),y(d),l=!0)},o(p){k(c),k(h,p),k(d),l=!1},d(p){p&&F(e),p&&F(t),p&&F(n),c&&c.d(),h&&h.d(p),d&&d.d(),u=!1,ft(f)}}}function Ai(i){let e,t,n;const r=i[5].title,s=Ne(r,i,i[8],Ei);let o=i[1]&&Ti(i);return{c(){e=ie("header"),s&&s.c(),t=he(),o&&o.c(),this.h()},l(a){e=se(a,"HEADER",{class:!0});var l=fe(e);s&&s.l(l),t=me(l),o&&o.l(l),l.forEach(F),this.h()},h(){K(e,"class","svelte-uzpkxq")},m(a,l){q(a,e,l),s&&s.m(e,null),Q(e,t),o&&o.m(e,null),n=!0},p(a,l){s&&s.p&&(!n||l&256)&&Pe(s,r,a,a[8],n?Be(r,a[8],l,tc):xe(a[8]),Ei),a[1]?o?(o.p(a,l),l&2&&y(o,1)):(o=Ti(a),o.c(),y(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),Ve())},i(a){n||(y(s,a),y(o),n=!0)},o(a){k(s,a),k(o),n=!1},d(a){a&&F(e),s&&s.d(a),o&&o.d()}}}function Ti(i){let e,t;return e=new nt({props:{width:"auto",border:!1,$$slots:{default:[nc]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nc(i){let e,t;return e=new Zu({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Si(i){let e,t;const n=i[5].footer,r=Ne(n,i,i[8],yi);return{c(){e=ie("footer"),r&&r.c(),this.h()},l(s){e=se(s,"FOOTER",{class:!0});var o=fe(e);r&&r.l(o),o.forEach(F),this.h()},h(){K(e,"class","svelte-uzpkxq")},m(s,o){q(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&256)&&Pe(r,n,s,s[8],t?Be(n,s[8],o,ec):xe(s[8]),yi)},i(s){t||(y(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&F(e),r&&r.d(s)}}}function rc(i){let e,t,n=i[0]&&ki(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),q(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&y(n,1)):(n=ki(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),Ve())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&F(e)}}}function ic(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Go(n);let{open:o=!0}=e,{closable:a=!0}=e;const l=gt();function u(d="cancel"){a&&l("close",{action:d},{cancelable:!0})&&t(0,o=!1)}function f(d){o&&d.key==="Escape"&&u("cancel")}function c(d){o&&(l("paste",{event:d}),d.stopPropagation())}sn(()=>(document.addEventListener("keyup",f),document.addEventListener("paste",c,{capture:!0}),()=>{document.removeEventListener("paste",c),document.removeEventListener("keyup",f)}));const m=()=>u("cancel"),h=()=>u("cancel");return i.$$set=d=>{"open"in d&&t(0,o=d.open),"closable"in d&&t(1,a=d.closable),"$$scope"in d&&t(8,r=d.$$scope)},[o,a,u,f,s,n,m,h,r]}class Un extends ye{constructor(e){super(),Ee(this,e,ic,rc,ve,{open:0,closable:1})}}function Ii(i){let e,t,n,r,s,o,a,l;return n=new et({props:{error:i[1],$$slots:{default:[sc]},$$scope:{ctx:i}}}),{c(){e=ie("section"),t=ie("section"),B(n.$$.fragment),r=he(),s=ie("section"),o=ie("img"),this.h()},l(u){e=se(u,"SECTION",{class:!0});var f=fe(e);t=se(f,"SECTION",{class:!0});var c=fe(t);z(n.$$.fragment,c),c.forEach(F),r=me(f),s=se(f,"SECTION",{class:!0});var m=fe(s);o=se(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(F),f.forEach(F),this.h()},h(){K(t,"class","svelte-n6jyo5"),Qr(o.src,a=i[4])||K(o,"src",a),K(o,"alt",i[5]),K(o,"class","svelte-n6jyo5"),K(s,"class","svelte-n6jyo5"),K(e,"class","preview svelte-n6jyo5")},m(u,f){q(u,e,f),Q(e,t),D(n,t,null),Q(e,r),Q(e,s),Q(s,o),l=!0},p(u,f){const c={};f&2&&(c.error=u[1]),f&131110&&(c.$$scope={dirty:f,ctx:u}),n.$set(c),(!l||f&16&&!Qr(o.src,a=u[4]))&&K(o,"src",a),(!l||f&32)&&K(o,"alt",u[5])},i(u){l||(y(n.$$.fragment,u),l=!0)},o(u){k(n.$$.fragment,u),l=!1},d(u){u&&F(e),M(n)}}}function sc(i){let e,t,n,r;return{c(){e=$e("Название "),t=ie("input"),this.h()},l(s){e=we(s,"Название "),t=se(s,"INPUT",{class:!0}),this.h()},h(){K(t,"class","svelte-n6jyo5")},m(s,o){q(s,e,o),q(s,t,o),xt(t,i[5]),n||(r=[De(t,"input",i[11]),De(t,"input",i[12])],n=!0)},p(s,o){o&32&&t.value!==s[5]&&xt(t,s[5])},d(s){s&&F(e),s&&F(t),n=!1,ft(r)}}}function oc(i){let e,t,n,r;e=new Qf({props:{accept:"image/*",typeFilter:/^image\//}}),e.$on("change",i[7]);let s=i[3]&&Ii(i);return{c(){B(e.$$.fragment),t=he(),s&&s.c(),n=qe()},l(o){z(e.$$.fragment,o),t=me(o),s&&s.l(o),n=qe()},m(o,a){D(e,o,a),q(o,t,a),s&&s.m(o,a),q(o,n,a),r=!0},p(o,a){o[3]?s?(s.p(o,a),a&8&&y(s,1)):(s=Ii(o),s.c(),y(s,1),s.m(n.parentNode,n)):s&&(je(),k(s,1,1,()=>{s=null}),Ve())},i(o){r||(y(e.$$.fragment,o),y(s),r=!0)},o(o){k(e.$$.fragment,o),k(s),r=!1},d(o){M(e,o),o&&F(t),s&&s.d(o),o&&F(n)}}}function ac(i){let e,t,n,r,s,o;return t=new St({props:{$$slots:{default:[oc]},$$scope:{ctx:i}}}),{c(){e=ie("article"),B(t.$$.fragment),n=he(),r=ie("section"),s=$e(`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),this.h()},l(a){e=se(a,"ARTICLE",{class:!0});var l=fe(e);z(t.$$.fragment,l),n=me(l),r=se(l,"SECTION",{});var u=fe(r);s=we(u,`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),u.forEach(F),l.forEach(F),this.h()},h(){K(e,"class","svelte-n6jyo5")},m(a,l){q(a,e,l),D(t,e,null),Q(e,n),Q(e,r),Q(r,s),o=!0},p(a,l){const u={};l&131134&&(u.$$scope={dirty:l,ctx:a}),t.$set(u)},i(a){o||(y(t.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),o=!1},d(a){a&&F(e),M(t)}}}function lc(i){let e,t;return{c(){e=ie("header"),t=$e("Добавить паттерн"),this.h()},l(n){e=se(n,"HEADER",{slot:!0});var r=fe(e);t=we(r,"Добавить паттерн"),r.forEach(F),this.h()},h(){K(e,"slot","title")},m(n,r){q(n,e,r),Q(e,t)},p:Je,d(n){n&&F(e)}}}function uc(i){let e;return{c(){e=$e("Отмена")},l(t){e=we(t,"Отмена")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function fc(i){let e;return{c(){e=$e("Добавить")},l(t){e=we(t,"Добавить")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function cc(i){let e,t,n,r,s;return t=new nt({props:{width:"128px",type:"danger",$$slots:{default:[uc]},$$scope:{ctx:i}}}),t.$on("click",i[10]),r=new nt({props:{width:"128px",type:"primary",style:"margin-left:16px;",disabled:!i[5],$$slots:{default:[fc]},$$scope:{ctx:i}}}),r.$on("click",i[9]),{c(){e=ie("footer"),B(t.$$.fragment),n=he(),B(r.$$.fragment),this.h()},l(o){e=se(o,"FOOTER",{slot:!0,class:!0});var a=fe(e);z(t.$$.fragment,a),n=me(a),z(r.$$.fragment,a),a.forEach(F),this.h()},h(){K(e,"slot","footer"),K(e,"class","svelte-n6jyo5")},m(o,a){q(o,e,a),D(t,e,null),Q(e,n),D(r,e,null),s=!0},p(o,a){const l={};a&131072&&(l.$$scope={dirty:a,ctx:o}),t.$set(l);const u={};a&32&&(u.disabled=!o[5]),a&131072&&(u.$$scope={dirty:a,ctx:o}),r.$set(u)},i(o){s||(y(t.$$.fragment,o),y(r.$$.fragment,o),s=!0)},o(o){k(t.$$.fragment,o),k(r.$$.fragment,o),s=!1},d(o){o&&F(e),M(t),M(r)}}}function hc(i){let e,t,n;function r(o){i[13](o)}let s={$$slots:{footer:[cc],title:[lc],default:[ac]},$$scope:{ctx:i}};return i[0]!==void 0&&(s.open=i[0]),e=new Un({props:s}),Te.push(()=>Ie(e,"open",r)),e.$on("close",i[8]),e.$on("paste",i[14]),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,[a]){const l={};a&131134&&(l.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,l.open=o[0],Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function mc(i,e,t){let{open:n=!0}=e,{error:r=""}=e,{validateName:s=()=>""}=e,o=null,a="",l="";function u(E){o!=E&&(a&&(URL.revokeObjectURL(a),t(4,a="")),t(3,o=E),o&&(t(4,a=URL.createObjectURL(o)),t(5,l=o.name.substring(0,o.name.lastIndexOf(".")))))}function f(E){var R,V;const C=document.activeElement;if(C instanceof HTMLInputElement||C instanceof HTMLTextAreaElement)return;const P=(R=E.clipboardData)==null?void 0:R.items;if(P)for(let O=0;O<P.length;O++){const L=P[O];if(!((V=L.type)!=null&&V.match(/^image/)))continue;const ue=L.getAsFile();ue&&u(ue);return}}function c(E){u(E.detail[0])}const m=gt();function h(E){var C;if(m("close",{action:"cancel"},{cancelable:!0})){t(0,n=!1);return}(C=E==null?void 0:E.preventDefault)==null||C.call(E)}function d(){if(!o)return;const E=s(l);if(E){t(1,r=E);return}m("submit",{action:"submit",image:o,name:l},{cancelable:!0})&&(t(0,n=!1),t(3,o=null),t(5,l=""),URL.revokeObjectURL(a),t(4,a=""))}sn(()=>()=>{a&&URL.revokeObjectURL(a)});const p=()=>h();function g(){l=this.value,t(5,l)}const _=()=>{t(1,r=s(l))};function $(E){n=E,t(0,n)}const w=E=>f(E.detail.event);return i.$$set=E=>{"open"in E&&t(0,n=E.open),"error"in E&&t(1,r=E.error),"validateName"in E&&t(2,s=E.validateName)},[n,r,s,o,a,l,f,c,h,d,p,g,_,$,w]}class dc extends ye{constructor(e){super(),Ee(this,e,mc,hc,ve,{open:0,error:1,validateName:2})}}class pc{constructor(e=new Array){Se(this,"subscribers",new Set);this.patterns=e}subscribe(e){return this.subscribers.add(e),e(this.patterns),()=>{this.subscribers.delete(e)}}addPattern(...e){this.patterns=this.patterns.filter(t=>!e.find(n=>n.name==t.name)),this.patterns.push(...e),this.subscribers.forEach(t=>t(this.patterns))}getTexture(e){const t=this.patterns.find(n=>n.name==e);if(!t)throw new Error(`Not found pattern '${e}'`);return t.textureId}has(e){return this.patterns.find(n=>n.name==e)!=null}delete(e){this.patterns.splice(this.patterns.findIndex(t=>t.name==e),1),this.subscribers.forEach(t=>t(this.patterns))}clear(){this.patterns=[],this.subscribers.forEach(e=>e(this.patterns))}}const pt=new pc;function _c(i){let e=i[17]+"",t;return{c(){t=$e(e)},l(n){t=we(n,e)},m(n,r){q(n,t,r)},p(n,r){r&131072&&e!==(e=n[17]+"")&&at(t,e)},d(n){n&&F(t)}}}function gc(i){let e,t;return e=new $s({props:{size:28}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bc(i){let e,t,n,r,s,o;function a(u){i[5](u)}let l={items:i[2].map(Fi),$$slots:{default:[_c,({item:u})=>({17:u}),({item:u})=>u?131072:0]},$$scope:{ctx:i}};return i[0].name!==void 0&&(l.value=i[0].name),t=new At({props:l}),Te.push(()=>Ie(t,"value",a)),s=new nt({props:{width:"fin-content",$$slots:{default:[gc]},$$scope:{ctx:i}}}),s.$on("click",i[6]),{c(){e=$e("Паттерн "),B(t.$$.fragment),r=he(),B(s.$$.fragment)},l(u){e=we(u,"Паттерн "),z(t.$$.fragment,u),r=me(u),z(s.$$.fragment,u)},m(u,f){q(u,e,f),D(t,u,f),q(u,r,f),D(s,u,f),o=!0},p(u,f){const c={};f&4&&(c.items=u[2].map(Fi)),f&393216&&(c.$$scope={dirty:f,ctx:u}),!n&&f&1&&(n=!0,c.value=u[0].name,Ce(()=>n=!1)),t.$set(c);const m={};f&262144&&(m.$$scope={dirty:f,ctx:u}),s.$set(m)},i(u){o||(y(t.$$.fragment,u),y(s.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),k(s.$$.fragment,u),o=!1},d(u){u&&F(e),M(t,u),u&&F(r),M(s,u)}}}function vc(i){let e,t,n,r;function s(a){i[7](a)}let o={min:-360,max:360,step:.5};return i[0].rotate!==void 0&&(o.value=i[0].rotate),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[8]),{c(){e=$e("Поворот "),B(t.$$.fragment)},l(a){e=we(a,"Поворот "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].rotate,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function $c(i){let e,t,n,r;function s(a){i[9](a)}let o={};return i[0].shift!==void 0&&(o.value=i[0].shift),t=new qn({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[10]),{c(){e=$e("Сдвиг"),B(t.$$.fragment)},l(a){e=we(a,"Сдвиг"),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shift,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function wc(i){let e;return{c(){e=$e("Авто")},l(t){e=we(t,"Авто")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function yc(i){let e,t,n;return t=new xn({props:{value:i[0].scale==="font",$$slots:{default:[wc]},$$scope:{ctx:i}}}),t.$on("change",i[11]),t.$on("change",i[12]),{c(){e=$e("Масштаб "),B(t.$$.fragment)},l(r){e=we(r,"Масштаб "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].scale==="font"),s&262144&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Ci(i){let e,t;return e=new St({props:{$$slots:{default:[Ec]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&262145&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ec(i){let e,t,n;function r(o){i[13](o)}let s={step:.1};return i[0].scale!==void 0&&(s.value=i[0].scale),e=new qn({props:s}),Te.push(()=>Ie(e,"value",r)),e.$on("change",i[14]),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].scale,Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function kc(i){let e,t,n,r,s,o,a,l,u,f,c,m;e=new et({props:{for:"ignore",$$slots:{default:[bc]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[vc]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[$c]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[yc]},$$scope:{ctx:i}}});let h=i[0].scale!=="font"&&Ci(i);function d(g){i[15](g)}let p={validateName:i[3]};return i[1]!==void 0&&(p.open=i[1]),f=new dc({props:p}),Te.push(()=>Ie(f,"open",d)),f.$on("submit",i[4]),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment),r=he(),B(s.$$.fragment),o=he(),B(a.$$.fragment),l=he(),h&&h.c(),u=he(),B(f.$$.fragment)},l(g){z(e.$$.fragment,g),t=me(g),z(n.$$.fragment,g),r=me(g),z(s.$$.fragment,g),o=me(g),z(a.$$.fragment,g),l=me(g),h&&h.l(g),u=me(g),z(f.$$.fragment,g)},m(g,_){D(e,g,_),q(g,t,_),D(n,g,_),q(g,r,_),D(s,g,_),q(g,o,_),D(a,g,_),q(g,l,_),h&&h.m(g,_),q(g,u,_),D(f,g,_),m=!0},p(g,_){const $={};_&262151&&($.$$scope={dirty:_,ctx:g}),e.$set($);const w={};_&262145&&(w.$$scope={dirty:_,ctx:g}),n.$set(w);const E={};_&262145&&(E.$$scope={dirty:_,ctx:g}),s.$set(E);const C={};_&262145&&(C.$$scope={dirty:_,ctx:g}),a.$set(C),g[0].scale!=="font"?h?(h.p(g,_),_&1&&y(h,1)):(h=Ci(g),h.c(),y(h,1),h.m(u.parentNode,u)):h&&(je(),k(h,1,1,()=>{h=null}),Ve());const P={};!c&&_&2&&(c=!0,P.open=g[1],Ce(()=>c=!1)),f.$set(P)},i(g){m||(y(e.$$.fragment,g),y(n.$$.fragment,g),y(s.$$.fragment,g),y(a.$$.fragment,g),y(h),y(f.$$.fragment,g),m=!0)},o(g){k(e.$$.fragment,g),k(n.$$.fragment,g),k(s.$$.fragment,g),k(a.$$.fragment,g),k(h),k(f.$$.fragment,g),m=!1},d(g){M(e,g),g&&F(t),M(n,g),g&&F(r),M(s,g),g&&F(o),M(a,g),g&&F(l),h&&h.d(g),g&&F(u),M(f,g)}}}function Ac(i){let e,t;return e=new St({props:{$$slots:{default:[kc]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const Fi=i=>i.name;function Tc(i,e,t){let n;kt(i,pt,E=>t(2,n=E));let{value:r}=e;const s=gt();function o(E){return pt.has(E)?"Это имя уже занято":""}function a(E){s("addPattern",E.detail),t(0,r.name=E.detail.name,r)}let l=!1;function u(E){i.$$.not_equal(r.name,E)&&(r.name=E,t(0,r))}const f=()=>t(1,l=!0);function c(E){i.$$.not_equal(r.rotate,E)&&(r.rotate=E,t(0,r))}function m(E){Ae.call(this,i,E)}function h(E){i.$$.not_equal(r.shift,E)&&(r.shift=E,t(0,r))}function d(E){Ae.call(this,i,E)}const p=E=>t(0,r.scale=E.detail?"font":{x:1,y:1},r);function g(E){Ae.call(this,i,E)}function _(E){i.$$.not_equal(r.scale,E)&&(r.scale=E,t(0,r))}function $(E){Ae.call(this,i,E)}function w(E){l=E,t(1,l)}return i.$$set=E=>{"value"in E&&t(0,r=E.value)},[r,l,n,o,a,u,f,c,m,h,d,p,g,_,$,w]}class Sc extends ye{constructor(e){super(),Ee(this,e,Tc,Ac,ve,{value:0})}}function Ic(i){let e=i[2][i[16]]+"",t;return{c(){t=$e(e)},l(n){t=we(n,e)},m(n,r){q(n,t,r)},p(n,r){r&65536&&e!==(e=n[2][n[16]]+"")&&at(t,e)},d(n){n&&F(t)}}}function Ri(i){let e,t;return e=new St({props:{$$slots:{default:[Pc]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&131073&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Cc(i){let e,t,n,r,s;function o(l){i[8](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new Sc({props:a}),Te.push(()=>Ie(t,"value",o)),t.$on("change",i[9]),t.$on("addPattern",i[10]),{c(){e=ie("div"),B(t.$$.fragment)},l(l){e=se(l,"DIV",{});var u=fe(e);z(t.$$.fragment,u),u.forEach(F)},m(l,u){q(l,e,u),D(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(y(t.$$.fragment,l),Vn(()=>{r||(r=Pt(e,Bt,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),r||(r=Pt(e,Bt,{},!1)),r.run(0),s=!1},d(l){l&&F(e),M(t),l&&r&&r.end()}}}function Fc(i){let e,t,n,r,s;function o(l){i[6](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new Of({props:a}),Te.push(()=>Ie(t,"value",o)),t.$on("change",i[7]),{c(){e=ie("div"),B(t.$$.fragment)},l(l){e=se(l,"DIV",{});var u=fe(e);z(t.$$.fragment,u),u.forEach(F)},m(l,u){q(l,e,u),D(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(y(t.$$.fragment,l),Vn(()=>{r||(r=Pt(e,Bt,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),r||(r=Pt(e,Bt,{},!1)),r.run(0),s=!1},d(l){l&&F(e),M(t),l&&r&&r.end()}}}function Rc(i){let e,t,n;return t=new ht({props:{min:0,max:100,step:1,value:100-i[0].alpha*100}}),t.$on("change",i[11]),t.$on("input",i[12]),{c(){e=$e("Прозрачность (%) "),B(t.$$.fragment)},l(r){e=we(r,"Прозрачность (%) "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=100-r[0].alpha*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Nc(i){let e,t,n,r,s;return{c(){e=$e("Тень "),t=ie("input"),this.h()},l(o){e=we(o,"Тень "),t=se(o,"INPUT",{type:!0}),this.h()},h(){K(t,"type","checkbox"),t.checked=n=i[0].shadow!==void 0},m(o,a){q(o,e,a),q(o,t,a),r||(s=[De(t,"change",i[13]),De(t,"change",i[4])],r=!0)},p(o,a){a&1&&n!==(n=o[0].shadow!==void 0)&&(t.checked=n)},d(o){o&&F(e),o&&F(t),r=!1,ft(s)}}}function Ni(i){let e,t,n,r;function s(a){i[14](a)}let o={};return i[0].shadow!==void 0&&(o.value=i[0].shadow),t=new zf({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",i[15]),{c(){e=ie("div"),B(t.$$.fragment)},l(a){e=se(a,"DIV",{});var l=fe(e);z(t.$$.fragment,l),l.forEach(F)},m(a,l){q(a,e,l),D(t,e,null),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shadow,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t)}}}function Pc(i){let e,t,n,r,s,o,a,l,u,f;const c=[Fc,Cc],m=[];function h(p,g){return p[0].settings.type==="color"?0:p[0].settings.type==="pattern"?1:-1}~(e=h(i))&&(t=m[e]=c[e](i)),s=new et({props:{$$slots:{default:[Rc]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[Nc]},$$scope:{ctx:i}}});let d=i[0].shadow&&Ni(i);return{c(){t&&t.c(),n=he(),r=ie("div"),B(s.$$.fragment),o=he(),B(a.$$.fragment),l=he(),d&&d.c()},l(p){t&&t.l(p),n=me(p),r=se(p,"DIV",{});var g=fe(r);z(s.$$.fragment,g),o=me(g),z(a.$$.fragment,g),l=me(g),d&&d.l(g),g.forEach(F)},m(p,g){~e&&m[e].m(p,g),q(p,n,g),q(p,r,g),D(s,r,null),Q(r,o),D(a,r,null),Q(r,l),d&&d.m(r,null),f=!0},p(p,g){let _=e;e=h(p),e===_?~e&&m[e].p(p,g):(t&&(je(),k(m[_],1,1,()=>{m[_]=null}),Ve()),~e?(t=m[e],t?t.p(p,g):(t=m[e]=c[e](p),t.c()),y(t,1),t.m(n.parentNode,n)):t=null);const $={};g&131073&&($.$$scope={dirty:g,ctx:p}),s.$set($);const w={};g&131073&&(w.$$scope={dirty:g,ctx:p}),a.$set(w),p[0].shadow?d?(d.p(p,g),g&1&&y(d,1)):(d=Ni(p),d.c(),y(d,1),d.m(r,null)):d&&(je(),k(d,1,1,()=>{d=null}),Ve())},i(p){f||(y(t),y(s.$$.fragment,p),y(a.$$.fragment,p),y(d),Vn(()=>{u||(u=Pt(r,Bt,{},!0)),u.run(1)}),f=!0)},o(p){k(t),k(s.$$.fragment,p),k(a.$$.fragment,p),k(d),u||(u=Pt(r,Bt,{},!1)),u.run(0),f=!1},d(p){~e&&m[e].d(p),p&&F(n),p&&F(r),M(s),M(a),d&&d.d(),p&&u&&u.end()}}}function xc(i){let e,t,n,r,s;n=new At({props:{value:i[0].settings.type,items:["disabled","color","pattern"],$$slots:{default:[Ic,({item:a})=>({16:a}),({item:a})=>a?65536:0]},$$scope:{ctx:i}}}),n.$on("change",i[1]),n.$on("change",i[5]);let o=i[0].settings.type!=="disabled"&&Ri(i);return{c(){e=ie("article"),t=ie("header"),B(n.$$.fragment),r=he(),o&&o.c(),this.h()},l(a){e=se(a,"ARTICLE",{class:!0});var l=fe(e);t=se(l,"HEADER",{});var u=fe(t);z(n.$$.fragment,u),u.forEach(F),r=me(l),o&&o.l(l),l.forEach(F),this.h()},h(){K(e,"class","svelte-1b7lwvz")},m(a,l){q(a,e,l),Q(e,t),D(n,t,null),Q(e,r),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.value=a[0].settings.type),l&196608&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),a[0].settings.type!=="disabled"?o?(o.p(a,l),l&1&&y(o,1)):(o=Ri(a),o.c(),y(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),Ve())},i(a){s||(y(n.$$.fragment,a),y(o),s=!0)},o(a){k(n.$$.fragment,a),k(o),s=!1},d(a){a&&F(e),M(n),o&&o.d()}}}function Bc(i,e,t){let{value:n}=e,{defaults:r}=e;function s(w){const E=r.find(C=>C.type===w.detail.value);if(!E)throw new Error(`Not found default value for type ${w.detail.value}`);t(0,n.settings=structuredClone(E),n)}const o={disabled:"Выключить",color:"Цвет",pattern:"Паттерн"};function a(w){Ae.call(this,i,w)}function l(w){Ae.call(this,i,w)}function u(w){i.$$.not_equal(n.settings,w)&&(n.settings=w,t(0,n))}function f(w){Ae.call(this,i,w)}function c(w){i.$$.not_equal(n.settings,w)&&(n.settings=w,t(0,n))}function m(w){Ae.call(this,i,w)}function h(w){Ae.call(this,i,w)}function d(w){Ae.call(this,i,w)}const p=w=>{t(0,n.alpha=(100-w.detail)/100,n)},g=w=>{t(0,n.shadow=w.currentTarget.checked?{blur:10,color:"#000000",offset:{x:0,y:0}}:void 0,n)};function _(w){i.$$.not_equal(n.shadow,w)&&(n.shadow=w,t(0,n))}function $(w){Ae.call(this,i,w)}return i.$$set=w=>{"value"in w&&t(0,n=w.value),"defaults"in w&&t(3,r=w.defaults)},[n,s,o,r,a,l,u,f,c,m,h,d,p,g,_,$]}class ys extends ye{constructor(e){super(),Ee(this,e,Bc,xc,ve,{value:0,defaults:3})}}function Vt({italic:i,smallCaps:e,bold:t,family:n},r){return`${i?"italic":"normal"} ${e?"small-caps":"normal"} ${t?"bold":"normal"} ${r}px ${n}`}class kn{constructor(e){Se(this,"subscribers",new Set);this.value=e}update(e){this.set(e(this.value))}subscribe(e){return e(this.value),this.subscribers.add(e),()=>{this.subscribers.delete(e)}}set(e){this.value=e,this.subscribers.forEach(t=>t(e))}}function tn(i){return JSON.parse(JSON.stringify(i))}const Es={case:"UPPER",align:"center",baseline:"middle",lineSpacing:-.125,fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},strokeWidth:14,experimental:{}};function zc(i,e){return e.case=i.case,e.fill=tn(i.fill),e.stroke=tn(i.stroke),e.font=tn(i.font),e}const Dc=[{name:"TRUE IMPACT",case:"UPPER",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1}},{name:"post-ironic lobster",case:"lower",fill:{settings:{type:"color",value:"#ffffff"},alpha:1,shadow:{color:"#000000",blur:15,offset:{x:0,y:0}}},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Lobster",italic:!1,smallCaps:!1}},{name:"Arial subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Arial bold subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial bold",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}}],Mc=Zn(Dc),Uc=Zn(["Impact","Lobster","Arial","Helvetica","Next art","Pacifico","Caveat","Comforter"]);function Lc(i=document.fonts){const e=new Array;return i.forEach(t=>e.push(t.load().catch(n=>(console.warn(`Failed load font ${t.family}: ${n.message}`),t)))),Promise.all(e)}function Pi(i,e,t){const n=i.slice();return n[24]=e[t],n}function Oc(i){let e,t;return e=new ql({props:{size:16}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gc(i){let e,t;return e=new qa({props:{size:16}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Hc(i){let e;return{c(){e=$e("Small Caps")},l(t){e=we(t,"Small Caps")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Wc(i){let e,t;return e=new Pa({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jc(i){let e,t;return e=new Ea({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Vc(i){let e,t;return e=new Ia({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Zc(i){let e,t,n,r;const s=[Vc,jc,Wc],o=[];function a(l,u){return l[23]=="left"?0:l[23]=="center"?1:l[23]=="right"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=qe()},l(l){t&&t.l(l),n=qe()},m(l,u){~e&&o[e].m(l,u),q(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),k(o[f],1,1,()=>{o[f]=null}),Ve()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&F(n)}}}function qc(i){let e,t;return e=new la({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Xc(i){let e,t;return e=new ma({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Yc(i){let e,t;return e=new ba({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Kc(i){let e,t,n,r;const s=[Yc,Xc,qc],o=[];function a(l,u){return l[23]=="top"?0:l[23]=="middle"?1:l[23]=="bottom"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=qe()},l(l){t&&t.l(l),n=qe()},m(l,u){~e&&o[e].m(l,u),q(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),k(o[f],1,1,()=>{o[f]=null}),Ve()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&F(n)}}}function Jc(i){let e,t;return e=new Ql({}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xi(i){let e,t,n,r,s,o,a;return{c(){e=ie("label"),t=ie("input"),n=he(),r=$e(i[24]),s=he(),this.h()},l(l){e=se(l,"LABEL",{class:!0});var u=fe(e);t=se(u,"INPUT",{type:!0,style:!0}),n=me(u),r=we(u,i[24]),s=me(u),u.forEach(F),this.h()},h(){K(t,"type","radio"),t.__value=i[24],t.value=t.__value,$t(t,"display","none"),i[18][0].push(t),K(e,"class","svelte-ebxik1")},m(l,u){q(l,e,u),Q(e,t),t.checked=t.__value===i[4],Q(e,n),Q(e,r),Q(e,s),o||(a=De(t,"change",i[17]),o=!0)},p(l,u){u&16&&(t.checked=t.__value===l[4])},d(l){l&&F(e),i[18][0].splice(i[18][0].indexOf(t),1),o=!1,a()}}}function Qc(i){let e,t,n,r,s;function o(f){i[16](f)}let a={min:-1,step:.125};i[4]!==void 0&&(a.value=i[4]),t=new ht({props:a}),Te.push(()=>Ie(t,"value",o));let l=[0,.5,1,1.25],u=[];for(let f=0;f<4;f+=1)u[f]=xi(Pi(i,l,f));return{c(){e=ie("section"),B(t.$$.fragment),r=he();for(let f=0;f<4;f+=1)u[f].c();this.h()},l(f){e=se(f,"SECTION",{slot:!0,class:!0});var c=fe(e);z(t.$$.fragment,c),r=me(c);for(let m=0;m<4;m+=1)u[m].l(c);c.forEach(F),this.h()},h(){K(e,"slot","content"),K(e,"class","spacing-values svelte-ebxik1")},m(f,c){q(f,e,c),D(t,e,null),Q(e,r);for(let m=0;m<4;m+=1)u[m].m(e,null);s=!0},p(f,c){const m={};if(!n&&c&16&&(n=!0,m.value=f[4],Ce(()=>n=!1)),t.$set(m),c&16){l=[0,.5,1,1.25];let h;for(h=0;h<4;h+=1){const d=Pi(f,l,h);u[h]?u[h].p(d,c):(u[h]=xi(d),u[h].c(),u[h].m(e,null))}for(;h<4;h+=1)u[h].d(1)}},i(f){s||(y(t.$$.fragment,f),s=!0)},o(f){k(t.$$.fragment,f),s=!1},d(f){f&&F(e),M(t),pn(u,f)}}}function eh(i){let e,t=i[23]+"",n;return{c(){e=ie("section"),n=$e(t),this.h()},l(r){e=se(r,"SECTION",{style:!0});var s=fe(e);n=we(s,t),s.forEach(F),this.h()},h(){$t(e,"font-family",i[23])},m(r,s){q(r,e,s),Q(e,n)},p(r,s){s&8388608&&t!==(t=r[23]+"")&&at(n,t),s&8388608&&$t(e,"font-family",r[23])},d(r){r&&F(e)}}}function th(i){let e=i[23]+"",t;return{c(){t=$e(e)},l(n){t=we(n,e)},m(n,r){q(n,t,r)},p(n,r){r&8388608&&e!==(e=n[23]+"")&&at(t,e)},d(n){n&&F(t)}}}function nh(i){let e,t,n,r,s,o,a,l,u,f,c,m,h,d,p,g,_,$,w,E,C,P,R,V;function O(X){i[6](X)}let L={$$slots:{default:[Oc]},$$scope:{ctx:i}};i[0].italic!==void 0&&(L.value=i[0].italic),t=new xn({props:L}),Te.push(()=>Ie(t,"value",O)),t.$on("change",i[7]);function ue(X){i[8](X)}let S={$$slots:{default:[Gc]},$$scope:{ctx:i}};i[0].bold!==void 0&&(S.value=i[0].bold),s=new xn({props:S}),Te.push(()=>Ie(s,"value",ue)),s.$on("change",i[9]);function T(X){i[10](X)}let v={$$slots:{default:[Hc]},$$scope:{ctx:i}};i[0].smallCaps!==void 0&&(v.value=i[0].smallCaps),l=new xn({props:v}),Te.push(()=>Ie(l,"value",T)),l.$on("change",i[11]);function Z(X){i[12](X)}let pe={items:["left","center","right"],$$slots:{default:[Zc,({item:X})=>({23:X}),({item:X})=>X?8388608:0]},$$scope:{ctx:i}};i[2]!==void 0&&(pe.value=i[2]),c=new At({props:pe}),Te.push(()=>Ie(c,"value",Z)),c.$on("change",i[13]);function N(X){i[14](X)}let ae={items:["top","middle","bottom"],$$slots:{default:[Kc,({item:X})=>({23:X}),({item:X})=>X?8388608:0]},$$scope:{ctx:i}};i[3]!==void 0&&(ae.value=i[3]),d=new At({props:ae}),Te.push(()=>Ie(d,"value",N)),d.$on("change",i[15]),_=new ws({props:{css:{height:"48px",main:"min-width:100px",width:"100%"},$$slots:{content:[Qc],header:[Jc]},$$scope:{ctx:i}}});function ee(X){i[19](X)}let ge={items:i[5],$$slots:{default:[eh,({item:X})=>({23:X}),({item:X})=>X?8388608:0]},$$scope:{ctx:i}};i[0].family!==void 0&&(ge.value=i[0].family),w=new At({props:ge}),Te.push(()=>Ie(w,"value",ee)),w.$on("change",i[20]);function G(X){i[21](X)}let H={items:["As is","UPPER","lower"],$$slots:{default:[th,({item:X})=>({23:X}),({item:X})=>X?8388608:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(H.value=i[1]),P=new At({props:H}),Te.push(()=>Ie(P,"value",G)),P.$on("change",i[22]),{c(){e=ie("article"),B(t.$$.fragment),r=he(),B(s.$$.fragment),a=he(),B(l.$$.fragment),f=he(),B(c.$$.fragment),h=he(),B(d.$$.fragment),g=he(),B(_.$$.fragment),$=he(),B(w.$$.fragment),C=he(),B(P.$$.fragment),this.h()},l(X){e=se(X,"ARTICLE",{class:!0});var J=fe(e);z(t.$$.fragment,J),r=me(J),z(s.$$.fragment,J),a=me(J),z(l.$$.fragment,J),f=me(J),z(c.$$.fragment,J),h=me(J),z(d.$$.fragment,J),g=me(J),z(_.$$.fragment,J),$=me(J),z(w.$$.fragment,J),C=me(J),z(P.$$.fragment,J),J.forEach(F),this.h()},h(){K(e,"class","svelte-ebxik1")},m(X,J){q(X,e,J),D(t,e,null),Q(e,r),D(s,e,null),Q(e,a),D(l,e,null),Q(e,f),D(c,e,null),Q(e,h),D(d,e,null),Q(e,g),D(_,e,null),Q(e,$),D(w,e,null),Q(e,C),D(P,e,null),V=!0},p(X,[J]){const le={};J&134217728&&(le.$$scope={dirty:J,ctx:X}),!n&&J&1&&(n=!0,le.value=X[0].italic,Ce(()=>n=!1)),t.$set(le);const x={};J&134217728&&(x.$$scope={dirty:J,ctx:X}),!o&&J&1&&(o=!0,x.value=X[0].bold,Ce(()=>o=!1)),s.$set(x);const j={};J&134217728&&(j.$$scope={dirty:J,ctx:X}),!u&&J&1&&(u=!0,j.value=X[0].smallCaps,Ce(()=>u=!1)),l.$set(j);const _e={};J&142606336&&(_e.$$scope={dirty:J,ctx:X}),!m&&J&4&&(m=!0,_e.value=X[2],Ce(()=>m=!1)),c.$set(_e);const Fe={};J&142606336&&(Fe.$$scope={dirty:J,ctx:X}),!p&&J&8&&(p=!0,Fe.value=X[3],Ce(()=>p=!1)),d.$set(Fe);const ze={};J&134217744&&(ze.$$scope={dirty:J,ctx:X}),_.$set(ze);const Ue={};J&32&&(Ue.items=X[5]),J&142606336&&(Ue.$$scope={dirty:J,ctx:X}),!E&&J&1&&(E=!0,Ue.value=X[0].family,Ce(()=>E=!1)),w.$set(Ue);const We={};J&142606336&&(We.$$scope={dirty:J,ctx:X}),!R&&J&2&&(R=!0,We.value=X[1],Ce(()=>R=!1)),P.$set(We)},i(X){V||(y(t.$$.fragment,X),y(s.$$.fragment,X),y(l.$$.fragment,X),y(c.$$.fragment,X),y(d.$$.fragment,X),y(_.$$.fragment,X),y(w.$$.fragment,X),y(P.$$.fragment,X),V=!0)},o(X){k(t.$$.fragment,X),k(s.$$.fragment,X),k(l.$$.fragment,X),k(c.$$.fragment,X),k(d.$$.fragment,X),k(_.$$.fragment,X),k(w.$$.fragment,X),k(P.$$.fragment,X),V=!1},d(X){X&&F(e),M(t),M(s),M(l),M(c),M(d),M(_),M(w),M(P)}}}function rh(i,e,t){let n;kt(i,Uc,L=>t(5,n=L));let{font:r}=e,{textCase:s}=e,{align:o}=e,{baseline:a}=e,{spacing:l}=e;const u=[[]];function f(L){i.$$.not_equal(r.italic,L)&&(r.italic=L,t(0,r))}function c(L){Ae.call(this,i,L)}function m(L){i.$$.not_equal(r.bold,L)&&(r.bold=L,t(0,r))}function h(L){Ae.call(this,i,L)}function d(L){i.$$.not_equal(r.smallCaps,L)&&(r.smallCaps=L,t(0,r))}function p(L){Ae.call(this,i,L)}function g(L){o=L,t(2,o)}function _(L){Ae.call(this,i,L)}function $(L){a=L,t(3,a)}function w(L){Ae.call(this,i,L)}function E(L){l=L,t(4,l)}function C(){l=this.__value,t(4,l)}function P(L){i.$$.not_equal(r.family,L)&&(r.family=L,t(0,r))}function R(L){Ae.call(this,i,L)}function V(L){s=L,t(1,s)}function O(L){Ae.call(this,i,L)}return i.$$set=L=>{"font"in L&&t(0,r=L.font),"textCase"in L&&t(1,s=L.textCase),"align"in L&&t(2,o=L.align),"baseline"in L&&t(3,a=L.baseline),"spacing"in L&&t(4,l=L.spacing)},[r,s,o,a,l,n,f,c,m,h,d,p,g,_,$,w,E,C,u,P,R,V,O]}class ih extends ye{constructor(e){super(),Ee(this,e,rh,nh,ve,{font:0,textCase:1,align:2,baseline:3,spacing:4})}}function sh(i){let e,t=i[27].name+"",n;return{c(){e=ie("div"),n=$e(t)},l(r){e=se(r,"DIV",{});var s=fe(e);n=we(s,t),s.forEach(F)},m(r,s){q(r,e,s),Q(e,n)},p(r,s){s&134217728&&t!==(t=r[27].name+"")&&at(n,t)},d(r){r&&F(e)}}}function oh(i){let e,t=i[27].name+"",n;return{c(){e=ie("div"),n=$e(t),this.h()},l(r){e=se(r,"DIV",{style:!0});var s=fe(e);n=we(s,t),s.forEach(F),this.h()},h(){$t(e,"font",Vt(i[27].preset.font,16))},m(r,s){q(r,e,s),Q(e,n)},p(r,s){s&134217728&&t!==(t=r[27].name+"")&&at(n,t),s&134217728&&$t(e,"font",Vt(r[27].preset.font,16))},d(r){r&&F(e)}}}function ah(i){let e;function t(s,o){return s[27].preset?oh:sh}let n=t(i),r=n(i);return{c(){r.c(),e=qe()},l(s){r.l(s),e=qe()},m(s,o){r.m(s,o),q(s,e,o)},p(s,o){n===(n=t(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&F(e)}}}function lh(i){let e,t,n;return t=new yf({props:{size:24,name:i[26].icon,atlasDescription:bf,atlasURL:vf}}),{c(){e=ie("div"),B(t.$$.fragment),this.h()},l(r){e=se(r,"DIV",{class:!0});var s=fe(e);z(t.$$.fragment,s),s.forEach(F),this.h()},h(){K(e,"class","icon")},m(r,s){q(r,e,s),D(t,e,null),n=!0},p(r,s){const o={};s&67108864&&(o.name=r[26].icon),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t)}}}function uh(i){let e,t,n,r,s;e=new et({props:{$$slots:{default:[ch]},$$scope:{ctx:i}}});function o(l){i[22](l)}let a={defaults:[{type:"disabled"},{type:"color",value:"#000000"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}]};return i[0].stroke!==void 0&&(a.value=i[0].stroke),n=new ys({props:a}),Te.push(()=>Ie(n,"value",o)),n.$on("change",i[23]),n.$on("addPattern",i[24]),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment)},l(l){z(e.$$.fragment,l),t=me(l),z(n.$$.fragment,l)},m(l,u){D(e,l,u),q(l,t,u),D(n,l,u),s=!0},p(l,u){const f={};u&268435457&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const c={};!r&&u&1&&(r=!0,c.value=l[0].stroke,Ce(()=>r=!1)),n.$set(c)},i(l){s||(y(e.$$.fragment,l),y(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){M(e,l),l&&F(t),M(n,l)}}}function fh(i){let e,t,n;function r(o){i[18](o)}let s={defaults:[{type:"disabled"},{type:"color",value:"#ffffff"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}]};return i[0].fill!==void 0&&(s.value=i[0].fill),e=new ys({props:s}),Te.push(()=>Ie(e,"value",r)),e.$on("change",i[19]),e.$on("addPattern",i[20]),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].fill,Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function ch(i){let e,t,n,r;function s(a){i[21](a)}let o={min:0};return i[0].strokeWidth!==void 0&&(o.value=i[0].strokeWidth),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=$e(`Толщина обводки (%)
					`),B(t.$$.fragment)},l(a){e=we(a,`Толщина обводки (%)
					`),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].strokeWidth,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function hh(i){let e,t,n,r;const s=[fh,uh],o=[];function a(l,u){return l[26].label==="Заливка"?0:l[26].label==="Обводка"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=ie("div"),n&&n.c(),this.h()},l(l){e=se(l,"DIV",{slot:!0});var u=fe(e);n&&n.l(u),u.forEach(F),this.h()},h(){K(e,"slot","content")},m(l,u){q(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),k(o[f],1,1,()=>{o[f]=null}),Ve()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),y(n,1),n.m(e,null)):n=null)},i(l){r||(y(n),r=!0)},o(l){k(n),r=!1},d(l){l&&F(e),~t&&o[t].d()}}}function mh(i){let e,t,n,r,s,o,a,l,u,f,c,m,h,d,p,g,_,$;function w(T){i[9](T)}let E={placeholder:i[6],items:[i[6],...i[4].map(Bi)],$$slots:{default:[ah,({item:T})=>({27:T}),({item:T})=>T?134217728:0]},$$scope:{ctx:i}};i[3]!==void 0&&(E.value=i[3]),t=new At({props:E}),Te.push(()=>Ie(t,"value",w)),t.$on("change",i[7]),t.$on("change",i[10]);function C(T){i[11](T)}function P(T){i[12](T)}function R(T){i[13](T)}function V(T){i[14](T)}function O(T){i[15](T)}let L={};i[0].font!==void 0&&(L.font=i[0].font),i[0].case!==void 0&&(L.textCase=i[0].case),i[0].align!==void 0&&(L.align=i[0].align),i[0].baseline!==void 0&&(L.baseline=i[0].baseline),i[0].lineSpacing!==void 0&&(L.spacing=i[0].lineSpacing),s=new ih({props:L}),Te.push(()=>Ie(s,"font",C)),Te.push(()=>Ie(s,"textCase",P)),Te.push(()=>Ie(s,"align",R)),Te.push(()=>Ie(s,"baseline",V)),Te.push(()=>Ie(s,"spacing",O)),s.$on("change",i[16]);function ue(T){i[25](T)}let S={tabs:i[5],$$slots:{content:[hh,({tab:T})=>({26:T}),({tab:T})=>T?67108864:0],default:[lh,({tab:T})=>({26:T}),({tab:T})=>T?67108864:0]},$$scope:{ctx:i}};return i[2]!==void 0&&(S.activeTab=i[2]),d=new gs({props:S}),Te.push(()=>Ie(d,"activeTab",ue)),{c(){e=ie("article"),B(t.$$.fragment),r=he(),B(s.$$.fragment),c=he(),m=ie("textarea"),h=he(),B(d.$$.fragment),this.h()},l(T){e=se(T,"ARTICLE",{});var v=fe(e);z(t.$$.fragment,v),r=me(v),z(s.$$.fragment,v),c=me(v),m=se(v,"TEXTAREA",{style:!0,rows:!0,class:!0}),fe(m).forEach(F),h=me(v),z(d.$$.fragment,v),v.forEach(F),this.h()},h(){$t(m,"width","100%"),K(m,"rows","6"),K(m,"class","svelte-1fuxbeo")},m(T,v){q(T,e,v),D(t,e,null),Q(e,r),D(s,e,null),Q(e,c),Q(e,m),xt(m,i[1]),Q(e,h),D(d,e,null),g=!0,_||($=[De(m,"input",i[17]),De(m,"change",i[8])],_=!0)},p(T,[v]){const Z={};v&16&&(Z.items=[T[6],...T[4].map(Bi)]),v&402653184&&(Z.$$scope={dirty:v,ctx:T}),!n&&v&8&&(n=!0,Z.value=T[3],Ce(()=>n=!1)),t.$set(Z);const pe={};!o&&v&1&&(o=!0,pe.font=T[0].font,Ce(()=>o=!1)),!a&&v&1&&(a=!0,pe.textCase=T[0].case,Ce(()=>a=!1)),!l&&v&1&&(l=!0,pe.align=T[0].align,Ce(()=>l=!1)),!u&&v&1&&(u=!0,pe.baseline=T[0].baseline,Ce(()=>u=!1)),!f&&v&1&&(f=!0,pe.spacing=T[0].lineSpacing,Ce(()=>f=!1)),s.$set(pe),v&2&&xt(m,T[1]);const N={};v&335544321&&(N.$$scope={dirty:v,ctx:T}),!p&&v&4&&(p=!0,N.activeTab=T[2],Ce(()=>p=!1)),d.$set(N)},i(T){g||(y(t.$$.fragment,T),y(s.$$.fragment,T),y(d.$$.fragment,T),g=!0)},o(T){k(t.$$.fragment,T),k(s.$$.fragment,T),k(d.$$.fragment,T),g=!1},d(T){T&&F(e),M(t),M(s),M(d),_=!1,ft($)}}}const Bi=i=>({name:i.name,preset:i});function dh(i,e,t){let n;kt(i,Mc,T=>t(4,n=T));let{style:r}=e,{text:s}=e,o=[{icon:"fill",label:"Заливка"},{icon:"stroke",label:"Обводка"}],a=o[0];const l={name:"Выбрать пресет...",preset:null};let u=l;function f(T){const v=T.detail.value.preset;v&&(t(0,r=zc(v,r)),t(3,u=l))}function c(T){Ae.call(this,i,T)}function m(T){u=T,t(3,u)}function h(T){Ae.call(this,i,T)}function d(T){i.$$.not_equal(r.font,T)&&(r.font=T,t(0,r))}function p(T){i.$$.not_equal(r.case,T)&&(r.case=T,t(0,r))}function g(T){i.$$.not_equal(r.align,T)&&(r.align=T,t(0,r))}function _(T){i.$$.not_equal(r.baseline,T)&&(r.baseline=T,t(0,r))}function $(T){i.$$.not_equal(r.lineSpacing,T)&&(r.lineSpacing=T,t(0,r))}function w(T){Ae.call(this,i,T)}function E(){s=this.value,t(1,s)}function C(T){i.$$.not_equal(r.fill,T)&&(r.fill=T,t(0,r))}function P(T){Ae.call(this,i,T)}function R(T){Ae.call(this,i,T)}function V(T){i.$$.not_equal(r.strokeWidth,T)&&(r.strokeWidth=T,t(0,r))}function O(T){i.$$.not_equal(r.stroke,T)&&(r.stroke=T,t(0,r))}function L(T){Ae.call(this,i,T)}function ue(T){Ae.call(this,i,T)}function S(T){a=T,t(2,a)}return i.$$set=T=>{"style"in T&&t(0,r=T.style),"text"in T&&t(1,s=T.text)},[r,s,a,u,n,o,l,f,c,m,h,d,p,g,_,$,w,E,C,P,R,V,O,L,ue,S]}class ph extends ye{constructor(e){super(),Ee(this,e,dh,mh,ve,{style:0,text:1})}}function _h(i){let e,t,n,r;function s(l){i[1](l)}function o(l){i[2](l)}let a={};return i[0].text!==void 0&&(a.text=i[0].text),i[0].style!==void 0&&(a.style=i[0].style),e=new ph({props:a}),Te.push(()=>Ie(e,"text",s)),Te.push(()=>Ie(e,"style",o)),e.$on("change",i[3]),e.$on("addPattern",i[4]),{c(){B(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,u){D(e,l,u),r=!0},p(l,[u]){const f={};!t&&u&1&&(t=!0,f.text=l[0].text,Ce(()=>t=!1)),!n&&u&1&&(n=!0,f.style=l[0].style,Ce(()=>n=!1)),e.$set(f)},i(l){r||(y(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){M(e,l)}}}function gh(i,e,t){let{content:n}=e;function r(l){i.$$.not_equal(n.text,l)&&(n.text=l,t(0,n))}function s(l){i.$$.not_equal(n.style,l)&&(n.style=l,t(0,n))}function o(l){Ae.call(this,i,l)}function a(l){Ae.call(this,i,l)}return i.$$set=l=>{"content"in l&&t(0,n=l.content)},[n,r,s,o,a]}class bh extends ye{constructor(e){super(),Ee(this,e,gh,_h,ve,{content:0})}}function vh(i){let e,t,n,r=i[0].text+"",s,o,a;const l=i[2].default,u=Ne(l,i,i[1],null);return{c(){e=ie("article"),t=ie("main"),n=ie("div"),s=$e(r),o=he(),u&&u.c(),this.h()},l(f){e=se(f,"ARTICLE",{class:!0});var c=fe(e);t=se(c,"MAIN",{style:!0,class:!0});var m=fe(t);n=se(m,"DIV",{class:!0});var h=fe(n);s=we(h,r),h.forEach(F),m.forEach(F),o=me(c),u&&u.l(c),c.forEach(F),this.h()},h(){K(n,"class","svelte-nwe19k"),$t(t,"font",Vt(i[0].style.font,16)),K(t,"class","svelte-nwe19k"),K(e,"class","svelte-nwe19k")},m(f,c){q(f,e,c),Q(e,t),Q(t,n),Q(n,s),Q(e,o),u&&u.m(e,null),a=!0},p(f,[c]){(!a||c&1)&&r!==(r=f[0].text+"")&&at(s,r),(!a||c&1)&&$t(t,"font",Vt(f[0].style.font,16)),u&&u.p&&(!a||c&2)&&Pe(u,l,f,f[1],a?Be(l,f[1],c,null):xe(f[1]),null)},i(f){a||(y(u,f),a=!0)},o(f){k(u,f),a=!1},d(f){f&&F(e),u&&u.d(f)}}}function $h(i,e,t){let{$$slots:n={},$$scope:r}=e,{content:s}=e;return i.$$set=o=>{"content"in o&&t(0,s=o.content),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class ks extends ye{constructor(e){super(),Ee(this,e,$h,vh,ve,{content:0})}}function zi(i){let e,t;return e=new nt({props:{type:"danger",$$slots:{default:[wh]},$$scope:{ctx:i}}}),e.$on("click",i[4]("remove")),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wh(i){let e,t;return e=new Du({props:{size:Xn}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Di(i){let e,t;return e=new nt({props:{$$slots:{default:[yh]},$$scope:{ctx:i}}}),e.$on("click",i[4]("copy")),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yh(i){let e,t;return e=new bs({props:{size:Xn}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Mi(i){let e,t;return e=new nt({props:{$$slots:{default:[Eh]},$$scope:{ctx:i}}}),e.$on("click",i[4]("up")),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Eh(i){let e,t;return e=new Ha({props:{size:Xn}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ui(i){let e,t;return e=new nt({props:{$$slots:{default:[kh]},$$scope:{ctx:i}}}),e.$on("click",i[4]("down")),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kh(i){let e,t;return e=new Ma({props:{size:Xn}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ah(i){let e,t,n,r,s,o,a=i[3]&&zi(i),l=i[2]&&Di(i),u=i[0]&&Mi(i),f=i[1]&&Ui(i);const c=i[6].default,m=Ne(c,i,i[7],null);return{c(){e=ie("footer"),a&&a.c(),t=he(),l&&l.c(),n=he(),u&&u.c(),r=he(),f&&f.c(),s=he(),m&&m.c(),this.h()},l(h){e=se(h,"FOOTER",{class:!0});var d=fe(e);a&&a.l(d),t=me(d),l&&l.l(d),n=me(d),u&&u.l(d),r=me(d),f&&f.l(d),s=me(d),m&&m.l(d),d.forEach(F),this.h()},h(){K(e,"class","svelte-1cogr30")},m(h,d){q(h,e,d),a&&a.m(e,null),Q(e,t),l&&l.m(e,null),Q(e,n),u&&u.m(e,null),Q(e,r),f&&f.m(e,null),Q(e,s),m&&m.m(e,null),o=!0},p(h,[d]){h[3]?a?(a.p(h,d),d&8&&y(a,1)):(a=zi(h),a.c(),y(a,1),a.m(e,t)):a&&(je(),k(a,1,1,()=>{a=null}),Ve()),h[2]?l?(l.p(h,d),d&4&&y(l,1)):(l=Di(h),l.c(),y(l,1),l.m(e,n)):l&&(je(),k(l,1,1,()=>{l=null}),Ve()),h[0]?u?(u.p(h,d),d&1&&y(u,1)):(u=Mi(h),u.c(),y(u,1),u.m(e,r)):u&&(je(),k(u,1,1,()=>{u=null}),Ve()),h[1]?f?(f.p(h,d),d&2&&y(f,1)):(f=Ui(h),f.c(),y(f,1),f.m(e,s)):f&&(je(),k(f,1,1,()=>{f=null}),Ve()),m&&m.p&&(!o||d&128)&&Pe(m,c,h,h[7],o?Be(c,h[7],d,null):xe(h[7]),null)},i(h){o||(y(a),y(l),y(u),y(f),y(m,h),o=!0)},o(h){k(a),k(l),k(u),k(f),k(m,h),o=!1},d(h){h&&F(e),a&&a.d(),l&&l.d(),u&&u.d(),f&&f.d(),m&&m.d(h)}}}const Xn=16;function Th(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{up:o=!1}=e,{down:a=!1}=e,{copy:l=!1}=e,{remove:u=!1}=e;const f=gt();function c(m){return h=>{h.preventDefault(),h.stopPropagation(),f(m,s)}}return i.$$set=m=>{"value"in m&&t(5,s=m.value),"up"in m&&t(0,o=m.up),"down"in m&&t(1,a=m.down),"copy"in m&&t(2,l=m.copy),"remove"in m&&t(3,u=m.remove),"$$scope"in m&&t(7,r=m.$$scope)},[o,a,l,u,c,s,n,r]}class As extends ye{constructor(e){super(),Ee(this,e,Th,Ah,ve,{value:5,up:0,down:1,copy:2,remove:3})}}function Sh(i){let e,t,n=i[0]+1+"",r,s,o,a,l;const u=i[4].default,f=Ne(u,i,i[3],null);return{c(){e=ie("article"),t=ie("header"),r=$e(n),s=he(),o=ie("canvas"),a=he(),f&&f.c(),this.h()},l(c){e=se(c,"ARTICLE",{class:!0});var m=fe(e);t=se(m,"HEADER",{class:!0});var h=fe(t);r=we(h,n),h.forEach(F),s=me(m),o=se(m,"CANVAS",{class:!0}),fe(o).forEach(F),a=me(m),f&&f.l(m),m.forEach(F),this.h()},h(){K(t,"class","svelte-awjzj9"),K(o,"class","svelte-awjzj9"),K(e,"class","svelte-awjzj9")},m(c,m){q(c,e,m),Q(e,t),Q(t,r),Q(e,s),Q(e,o),i[5](o),Q(e,a),f&&f.m(e,null),l=!0},p(c,[m]){(!l||m&1)&&n!==(n=c[0]+1+"")&&at(r,n),f&&f.p&&(!l||m&8)&&Pe(f,u,c,c[3],l?Be(u,c[3],m,null):xe(c[3]),null)},i(c){l||(y(f,c),l=!0)},o(c){k(f,c),l=!1},d(c){c&&F(e),i[5](null),f&&f.d(c)}}}function Ih(i,e,t){let{$$slots:n={},$$scope:r}=e,s,o,{index:a}=e;const l=f=>{const c=s.clientWidth,h=c/f.width*f.height|0;s.width!=c&&t(1,s.width=c,s),s.height!=h&&t(1,s.height=h,s),o.drawImage(f,0,0,c,h)};sn(()=>{o=s.getContext("2d")});function u(f){Te[f?"unshift":"push"](()=>{s=f,t(1,s)})}return i.$$set=f=>{"index"in f&&t(0,a=f.index),"$$scope"in f&&t(3,r=f.$$scope)},[a,s,l,r,n,u]}class Ch extends ye{constructor(e){super(),Ee(this,e,Ih,Sh,ve,{index:0,updatePreview:2})}get updatePreview(){return this.$$.ctx[2]}}function Fh(i){let e;return{c(){e=$e("Что-то пошло не так...")},l(t){e=we(t,"Что-то пошло не так...")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Rh(i){let e;return{c(){e=$e("Прямоугольник")},l(t){e=we(t,"Прямоугольник")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Nh(i){let e;return{c(){e=$e("Глобальный")},l(t){e=we(t,"Глобальный")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function Ph(i){let e;function t(s,o){return s[12]=="global"?Nh:s[12]=="rectangle"?Rh:Fh}let n=t(i),r=n(i);return{c(){r.c(),e=qe()},l(s){r.l(s),e=qe()},m(s,o){r.m(s,o),q(s,e,o)},p(s,o){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&F(e)}}}function xh(i){let e,t;return e=new St({props:{$$slots:{default:[Uh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Bh(i){let e,t;return e=new St({props:{$$slots:{default:[Wh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zh(i){let e,t,n;return t=new ht({props:{min:0,max:100,step:.5,value:i[0].value.maxWidth*100}}),t.$on("change",i[9]),{c(){e=$e("Максимальная ширина (%): "),B(t.$$.fragment)},l(r){e=we(r,"Максимальная ширина (%): "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxWidth*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Dh(i){let e,t,n;return t=new ht({props:{min:0,max:100,step:.5,value:i[0].value.maxHeight*100}}),t.$on("change",i[10]),{c(){e=$e("Максимальная высота (%): "),B(t.$$.fragment)},l(r){e=we(r,"Максимальная высота (%): "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxHeight*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Mh(i){let e,t,n;return t=new ht({props:{min:0,max:100,step:.5,value:i[0].value.minHeight*100}}),t.$on("change",i[11]),{c(){e=$e("Минимальная высота (%): "),B(t.$$.fragment)},l(r){e=we(r,"Минимальная высота (%): "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.minHeight*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Uh(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[zh]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Dh]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Mh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment),r=he(),B(s.$$.fragment)},l(a){z(e.$$.fragment,a),t=me(a),z(n.$$.fragment,a),r=me(a),z(s.$$.fragment,a)},m(a,l){D(e,a,l),q(a,t,l),D(n,a,l),q(a,r,l),D(s,a,l),o=!0},p(a,l){const u={};l&8193&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&8193&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&8193&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(y(e.$$.fragment,a),y(n.$$.fragment,a),y(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){M(e,a),a&&F(t),M(n,a),a&&F(r),M(s,a)}}}function Lh(i){let e,t,n,r;function s(a){i[5](a)}let o={};return i[0].value.position!==void 0&&(o.value=i[0].value.position),t=new qn({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=$e("Позиция "),B(t.$$.fragment)},l(a){e=we(a,"Позиция "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.position,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Oh(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].value.width!==void 0&&(o.value=i[0].value.width),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=$e("Ширина "),B(t.$$.fragment)},l(a){e=we(a,"Ширина "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.width,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Gh(i){let e,t,n,r;function s(a){i[7](a)}let o={};return i[0].value.height!==void 0&&(o.value=i[0].value.height),t=new ht({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=$e("Высота "),B(t.$$.fragment)},l(a){e=we(a,"Высота "),z(t.$$.fragment,a)},m(a,l){q(a,e,l),D(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.height,Ce(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&F(e),M(t,a)}}}function Hh(i){let e,t,n;return t=new ht({props:{step:1,value:Math.round(i[0].value.rotation/Math.PI*180)}}),t.$on("change",i[8]),{c(){e=$e("Поворот "),B(t.$$.fragment)},l(r){e=we(r,"Поворот "),z(t.$$.fragment,r)},m(r,s){q(r,e,s),D(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=Math.round(r[0].value.rotation/Math.PI*180)),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&F(e),M(t,r)}}}function Wh(i){let e,t,n,r,s,o,a,l;return e=new et({props:{$$slots:{default:[Lh]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Oh]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Gh]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[Hh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment),r=he(),B(s.$$.fragment),o=he(),B(a.$$.fragment)},l(u){z(e.$$.fragment,u),t=me(u),z(n.$$.fragment,u),r=me(u),z(s.$$.fragment,u),o=me(u),z(a.$$.fragment,u)},m(u,f){D(e,u,f),q(u,t,f),D(n,u,f),q(u,r,f),D(s,u,f),q(u,o,f),D(a,u,f),l=!0},p(u,f){const c={};f&8193&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const m={};f&8193&&(m.$$scope={dirty:f,ctx:u}),n.$set(m);const h={};f&8193&&(h.$$scope={dirty:f,ctx:u}),s.$set(h);const d={};f&8193&&(d.$$scope={dirty:f,ctx:u}),a.$set(d)},i(u){l||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(s.$$.fragment,u),y(a.$$.fragment,u),l=!0)},o(u){k(e.$$.fragment,u),k(n.$$.fragment,u),k(s.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){M(e,u),u&&F(t),M(n,u),u&&F(r),M(s,u),u&&F(o),M(a,u)}}}function jh(i){let e,t,n,r,s,o;t=new At({props:{value:i[0].type,items:["global","rectangle"],$$slots:{default:[Ph,({item:f})=>({12:f}),({item:f})=>f?4096:0]},$$scope:{ctx:i}}}),t.$on("change",i[4]);const a=[Bh,xh],l=[];function u(f,c){return f[0].type=="rectangle"?0:f[0].type=="global"?1:-1}return~(r=u(i))&&(s=l[r]=a[r](i)),{c(){e=ie("article"),B(t.$$.fragment),n=he(),s&&s.c()},l(f){e=se(f,"ARTICLE",{});var c=fe(e);z(t.$$.fragment,c),n=me(c),s&&s.l(c),c.forEach(F)},m(f,c){q(f,e,c),D(t,e,null),Q(e,n),~r&&l[r].m(e,null),o=!0},p(f,[c]){const m={};c&1&&(m.value=f[0].type),c&12288&&(m.$$scope={dirty:c,ctx:f}),t.$set(m);let h=r;r=u(f),r===h?~r&&l[r].p(f,c):(s&&(je(),k(l[h],1,1,()=>{l[h]=null}),Ve()),~r?(s=l[r],s?s.p(f,c):(s=l[r]=a[r](f),s.c()),y(s,1),s.m(e,null)):s=null)},i(f){o||(y(t.$$.fragment,f),y(s),o=!0)},o(f){k(t.$$.fragment,f),k(s),o=!1},d(f){f&&F(e),M(t),~r&&l[r].d()}}}function Vh(i,e,t){let{container:n}=e,{frameWidth:r}=e,{frameHeight:s}=e;function o(p){if(p=="global"){t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n);return}t(0,n.value={width:r/2,height:s/2,position:{x:r/2,y:s/2},rotation:0},n),t(0,n.type="rectangle",n)}const a=p=>o(p.detail.value);function l(p){i.$$.not_equal(n.value.position,p)&&(n.value.position=p,t(0,n))}function u(p){i.$$.not_equal(n.value.width,p)&&(n.value.width=p,t(0,n))}function f(p){i.$$.not_equal(n.value.height,p)&&(n.value.height=p,t(0,n))}const c=p=>{n.type==="rectangle"&&t(0,n.value.rotation=p.detail%360/180*Math.PI,n)},m=p=>{n.type==="global"&&t(0,n.value.maxWidth=p.detail/100,n)},h=p=>{n.type==="global"&&t(0,n.value.maxHeight=p.detail/100,n)},d=p=>{n.type==="global"&&t(0,n.value.minHeight=p.detail/100,n)};return i.$$set=p=>{"container"in p&&t(0,n=p.container),"frameWidth"in p&&t(2,r=p.frameWidth),"frameHeight"in p&&t(3,s=p.frameHeight)},[n,o,r,s,a,l,u,f,c,m,h,d]}class Zh extends ye{constructor(e){super(),Ee(this,e,Vh,jh,ve,{container:0,frameWidth:2,frameHeight:3})}}function qh(i){let e=i[5]+"",t;return{c(){t=$e(e)},l(n){t=we(n,e)},m(n,r){q(n,t,r)},p(n,r){r&32&&e!==(e=n[5]+"")&&at(t,e)},i:Je,o:Je,d(n){n&&F(t)}}}function Xh(i){let e,t;return e=new Nu({props:{size:i[2]}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Yh(i){let e,t;return e=new Su({props:{size:i[2]}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Kh(i){let e,t;return e=new Qa({props:{size:i[2]}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Jh(i){let e,t;return e=new il({props:{size:i[2]}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Qh(i){let e,t,n,r;const s=[Jh,Kh,Yh,Xh,qh],o=[];function a(l,u){return l[5]=="Top"?0:l[5]=="Bottom"?1:l[5]=="Free"?2:l[5]=="Custom"?3:4}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=qe()},l(l){t.l(l),n=qe()},m(l,u){o[e].m(l,u),q(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),k(o[f],1,1,()=>{o[f]=null}),Ve(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&F(n)}}}function em(i){let e,t;return e=new At({props:{css:{height:"32px",width:"100%",main:"flex:1;"},items:["Top","Bottom","Free","Custom"],placeholder:"Custom",value:i[0].type=="rectangle"&&i[1].baseline=="middle"?"Free":i[0].type=="global"&&i[1].baseline=="top"?"Top":i[0].type=="global"&&i[1].baseline=="bottom"?"Bottom":"Custom",$$slots:{default:[Qh,({item:n})=>({5:n}),({item:n})=>n?32:0]},$$scope:{ctx:i}}}),e.$on("change",i[3]),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const s={};r&3&&(s.value=n[0].type=="rectangle"&&n[1].baseline=="middle"?"Free":n[0].type=="global"&&n[1].baseline=="top"?"Top":n[0].type=="global"&&n[1].baseline=="bottom"?"Bottom":"Custom"),r&100&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tm(i,e,t){let{container:n}=e,{style:r}=e,{frame:s}=e,{iconSize:o=16}=e;function a(l){switch(l.detail.value){case"Top":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="top",r);break}case"Bottom":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="bottom",r);break}case"Free":{t(0,n.value={width:s.width/2,height:s.height/2,position:{x:s.width/2,y:s.height/2},rotation:0},n),t(0,n.type="rectangle",n),t(1,r.baseline="middle",r);break}}}return i.$$set=l=>{"container"in l&&t(0,n=l.container),"style"in l&&t(1,r=l.style),"frame"in l&&t(4,s=l.frame),"iconSize"in l&&t(2,o=l.iconSize)},[n,r,o,a,s]}class nm extends ye{constructor(e){super(),Ee(this,e,tm,em,ve,{container:0,style:1,frame:4,iconSize:2})}}function rm(i){let e,t,n,r,s,o;return{c(){e=ie("p"),t=$e(`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),n=he(),r=ie("p"),s=$e("Версия: "),o=$e(i[0]),this.h()},l(a){e=se(a,"P",{class:!0});var l=fe(e);t=we(l,`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),l.forEach(F),n=me(a),r=se(a,"P",{class:!0});var u=fe(r);s=we(u,"Версия: "),o=we(u,i[0]),u.forEach(F),this.h()},h(){K(e,"class","svelte-17axcd5"),K(r,"class","svelte-17axcd5")},m(a,l){q(a,e,l),Q(e,t),q(a,n,l),q(a,r,l),Q(r,s),Q(r,o)},p(a,l){l&1&&at(o,a[0])},d(a){a&&F(e),a&&F(n),a&&F(r)}}}function im(i){let e;return{c(){e=$e("О проекте")},l(t){e=we(t,"О проекте")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function sm(i){let e,t,n,r,s;return{c(){e=ie("p"),t=$e("Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=ie("a"),r=$e("GitHub"),s=$e("."),this.h()},l(o){e=se(o,"P",{class:!0});var a=fe(e);t=we(a,"Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=se(a,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var l=fe(n);r=we(l,"GitHub"),l.forEach(F),s=we(a,"."),a.forEach(F),this.h()},h(){K(n,"target","_blank"),K(n,"rel","noreferrer"),K(n,"title","Changelog"),K(n,"href","https://github.com/RobolabGs2/memaker/blob/main/CHANGELOG.md"),K(n,"class","svelte-17axcd5"),K(e,"class","svelte-17axcd5")},m(o,a){q(o,e,a),Q(e,t),Q(e,n),Q(n,r),Q(e,s)},p:Je,d(o){o&&F(e)}}}function om(i){let e;return{c(){e=$e("История версий")},l(t){e=we(t,"История версий")},m(t,n){q(t,e,n)},d(t){t&&F(e)}}}function am(i){let e,t,n,r,s,o,a,l,u,f,c,m,h,d,p,g,_,$,w,E,C,P,R,V,O,L,ue,S,T;function v(ae){i[4](ae)}let Z={$$slots:{title:[im],default:[rm]},$$scope:{ctx:i}};i[1]!==void 0&&(Z.open=i[1]),t=new Un({props:Z}),Te.push(()=>Ie(t,"open",v));function pe(ae){i[5](ae)}let N={$$slots:{title:[om],default:[sm]},$$scope:{ctx:i}};return i[2]!==void 0&&(N.open=i[2]),s=new Un({props:N}),Te.push(()=>Ie(s,"open",pe)),d=new Pl({props:{size:fn}}),_=new Ml({props:{size:fn}}),E=new Hl({props:{size:fn}}),R=new ul({props:{size:fn}}),L=new dl({props:{size:fn}}),{c(){e=ie("main"),B(t.$$.fragment),r=he(),B(s.$$.fragment),a=he(),l=ie("header"),u=$e("Memaker "),f=$e(i[0]),c=he(),m=ie("section"),h=ie("div"),B(d.$$.fragment),p=he(),g=ie("div"),B(_.$$.fragment),$=he(),w=ie("div"),B(E.$$.fragment),C=he(),P=ie("a"),B(R.$$.fragment),V=he(),O=ie("a"),B(L.$$.fragment),this.h()},l(ae){e=se(ae,"MAIN",{class:!0});var ee=fe(e);z(t.$$.fragment,ee),r=me(ee),z(s.$$.fragment,ee),a=me(ee),l=se(ee,"HEADER",{class:!0});var ge=fe(l);u=we(ge,"Memaker "),f=we(ge,i[0]),ge.forEach(F),c=me(ee),m=se(ee,"SECTION",{class:!0});var G=fe(m);h=se(G,"DIV",{title:!0,class:!0});var H=fe(h);z(d.$$.fragment,H),H.forEach(F),p=me(G),g=se(G,"DIV",{title:!0,class:!0});var X=fe(g);z(_.$$.fragment,X),X.forEach(F),$=me(G),w=se(G,"DIV",{title:!0,class:!0});var J=fe(w);z(E.$$.fragment,J),J.forEach(F),C=me(G),P=se(G,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var le=fe(P);z(R.$$.fragment,le),le.forEach(F),V=me(G),O=se(G,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var x=fe(O);z(L.$$.fragment,x),x.forEach(F),G.forEach(F),ee.forEach(F),this.h()},h(){K(l,"class","svelte-17axcd5"),K(h,"title","Открыть пример"),K(h,"class","svelte-17axcd5"),K(g,"title","История версий приложения"),K(g,"class","svelte-17axcd5"),K(w,"title","О проекте"),K(w,"class","svelte-17axcd5"),K(P,"target","_blank"),K(P,"rel","noreferrer"),K(P,"title","GitHub репозиторий"),K(P,"href","https://github.com/RobolabGs2/memaker"),K(P,"class","svelte-17axcd5"),K(O,"target","_blank"),K(O,"rel","noreferrer"),K(O,"title","Группа ВК"),K(O,"href","https://vk.com/memaker_app"),K(O,"class","svelte-17axcd5"),K(m,"class","svelte-17axcd5"),K(e,"class","svelte-17axcd5")},m(ae,ee){q(ae,e,ee),D(t,e,null),Q(e,r),D(s,e,null),Q(e,a),Q(e,l),Q(l,u),Q(l,f),Q(e,c),Q(e,m),Q(m,h),D(d,h,null),Q(m,p),Q(m,g),D(_,g,null),Q(m,$),Q(m,w),D(E,w,null),Q(m,C),Q(m,P),D(R,P,null),Q(m,V),Q(m,O),D(L,O,null),ue=!0,S||(T=[De(h,"click",i[6]),De(g,"click",i[7]),De(w,"click",i[8])],S=!0)},p(ae,[ee]){const ge={};ee&513&&(ge.$$scope={dirty:ee,ctx:ae}),!n&&ee&2&&(n=!0,ge.open=ae[1],Ce(()=>n=!1)),t.$set(ge);const G={};ee&512&&(G.$$scope={dirty:ee,ctx:ae}),!o&&ee&4&&(o=!0,G.open=ae[2],Ce(()=>o=!1)),s.$set(G),(!ue||ee&1)&&at(f,ae[0])},i(ae){ue||(y(t.$$.fragment,ae),y(s.$$.fragment,ae),y(d.$$.fragment,ae),y(_.$$.fragment,ae),y(E.$$.fragment,ae),y(R.$$.fragment,ae),y(L.$$.fragment,ae),ue=!0)},o(ae){k(t.$$.fragment,ae),k(s.$$.fragment,ae),k(d.$$.fragment,ae),k(_.$$.fragment,ae),k(E.$$.fragment,ae),k(R.$$.fragment,ae),k(L.$$.fragment,ae),ue=!1},d(ae){ae&&F(e),M(t),M(s),M(d),M(_),M(E),M(R),M(L),S=!1,ft(T)}}}let fn=24;function lm(i,e,t){let{version:n}=e;const r=gt();let s=!1,o=!1;function a(m){s=m,t(1,s)}function l(m){o=m,t(2,o)}const u=()=>r("openExample"),f=()=>t(2,o=!0),c=()=>t(1,s=!0);return i.$$set=m=>{"version"in m&&t(0,n=m.version)},[n,s,o,r,a,l,u,f,c]}class um extends ye{constructor(e){super(),Ee(this,e,lm,am,ve,{version:0})}}function fm(i){let e,t,n,r,s;return e=new vs({}),{c(){B(e.$$.fragment),t=he(),n=ie("span"),r=$e("Новый фрейм"),this.h()},l(o){z(e.$$.fragment,o),t=me(o),n=se(o,"SPAN",{class:!0});var a=fe(n);r=we(a,"Новый фрейм"),a.forEach(F),this.h()},h(){K(n,"class","svelte-wq69ev")},m(o,a){D(e,o,a),q(o,t,a),q(o,n,a),Q(n,r),s=!0},p:Je,i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&F(t),o&&F(n)}}}function cm(i){let e,t;function n(){return i[11](i[40])}function r(){return i[12](i[40])}function s(){return i[13](i[40])}function o(){return i[14](i[40])}return e=new As({props:{up:!0,down:!0,remove:!0,copy:!0,value:i[40]}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),e.$on("copy",o),{c(){B(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,l){D(e,a,l),t=!0},p(a,l){i=a;const u={};l[1]&512&&(u.value=i[40]),e.$set(u)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function hm(i){let e,t,n;function r(o){i[15](o,i[40])}let s={index:i[41],$$slots:{default:[cm]},$$scope:{ctx:i}};return i[2][i[40].id]!==void 0&&(s.updatePreview=i[2][i[40].id]),e=new Ch({props:s}),Te.push(()=>Ie(e,"updatePreview",r)),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){i=o;const l={};a[1]&1024&&(l.index=i[41]),a[1]&2560&&(l.$$scope={dirty:a,ctx:i}),!t&&a[0]&4|a[1]&512&&(t=!0,l.updatePreview=i[2][i[40].id],Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function mm(i){let e,t,n,r,s;return e=new mu({props:{size:24}}),{c(){B(e.$$.fragment),t=he(),n=ie("span"),r=$e("Скачать мем"),this.h()},l(o){z(e.$$.fragment,o),t=me(o),n=se(o,"SPAN",{class:!0});var a=fe(n);r=we(a,"Скачать мем"),a.forEach(F),this.h()},h(){K(n,"class","svelte-wq69ev")},m(o,a){D(e,o,a),q(o,t,a),q(o,n,a),Q(n,r),s=!0},p:Je,i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&F(t),o&&F(n)}}}function dm(i){let e,t,n,r,s;return e=new Il({props:{size:24}}),{c(){B(e.$$.fragment),t=he(),n=ie("span"),r=$e("Сохранить проект мема"),this.h()},l(o){z(e.$$.fragment,o),t=me(o),n=se(o,"SPAN",{class:!0});var a=fe(n);r=we(a,"Сохранить проект мема"),a.forEach(F),this.h()},h(){K(n,"class","svelte-wq69ev")},m(o,a){D(e,o,a),q(o,t,a),q(o,n,a),Q(n,r),s=!0},p:Je,i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&F(t),o&&F(n)}}}function pm(i){let e,t,n,r;return e=new Gu({props:{size:24}}),{c(){B(e.$$.fragment),t=ie("span"),n=$e("Открыть проект мема"),this.h()},l(s){z(e.$$.fragment,s),t=se(s,"SPAN",{class:!0});var o=fe(t);n=we(o,"Открыть проект мема"),o.forEach(F),this.h()},h(){K(t,"class","svelte-wq69ev")},m(s,o){D(e,s,o),q(s,t,o),Q(t,n),r=!0},p:Je,i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&F(t)}}}function _m(i){let e,t;return e=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[pm]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r[1]&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gm(i){let e,t,n,r;return e=new bu({props:{size:24}}),{c(){B(e.$$.fragment),t=ie("span"),n=$e("Сменить фон"),this.h()},l(s){z(e.$$.fragment,s),t=se(s,"SPAN",{class:!0});var o=fe(t);n=we(o,"Сменить фон"),o.forEach(F),this.h()},h(){K(t,"class","svelte-wq69ev")},m(s,o){D(e,s,o),q(s,t,o),Q(t,n),r=!0},p:Je,i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&F(t)}}}function bm(i){let e,t;return e=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[gm]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r[1]&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vm(i){let e,t,n,r;return e=new bs({}),{c(){B(e.$$.fragment),t=ie("span"),n=$e("Копировать"),this.h()},l(s){z(e.$$.fragment,s),t=se(s,"SPAN",{class:!0});var o=fe(t);n=we(o,"Копировать"),o.forEach(F),this.h()},h(){K(t,"class","svelte-wq69ev")},m(s,o){D(e,s,o),q(s,t,o),Q(t,n),r=!0},p:Je,i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&F(t)}}}function $m(i){let e,t,n,r,s;return e=new vs({}),{c(){B(e.$$.fragment),t=he(),n=ie("span"),r=$e("Новый блок"),this.h()},l(o){z(e.$$.fragment,o),t=me(o),n=se(o,"SPAN",{class:!0});var a=fe(n);r=we(a,"Новый блок"),a.forEach(F),this.h()},h(){K(n,"class","svelte-wq69ev")},m(o,a){D(e,o,a),q(o,t,a),q(o,n,a),Q(n,r),s=!0},p:Je,i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&F(t),o&&F(n)}}}function Li(i){let e,t,n,r;const s=[ym,wm],o=[];function a(l,u){return l[40].id==l[1].id&&l[1].content.type=="text"?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=qe()},l(l){t.l(l),n=qe()},m(l,u){o[e].m(l,u),q(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),k(o[f],1,1,()=>{o[f]=null}),Ve(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&F(n)}}}function wm(i){let e,t;return e=new ks({props:{content:i[40].content.value}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.content=n[40].content.value),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ym(i){let e,t;return e=new ks({props:{content:i[1].content.value,$$slots:{default:[km]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.content=n[1].content.value),r[0]&3|r[1]&2560&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Em(i){let e,t,n,r;function s(l){i[28](l)}function o(l){i[29](l)}let a={frame:i[0]};return i[1].content.value.style!==void 0&&(a.style=i[1].content.value.style),i[1].container!==void 0&&(a.container=i[1].container),e=new nm({props:a}),Te.push(()=>Ie(e,"style",s)),Te.push(()=>Ie(e,"container",o)),{c(){B(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,u){D(e,l,u),r=!0},p(l,u){const f={};u[0]&1&&(f.frame=l[0]),!t&&u[0]&2&&(t=!0,f.style=l[1].content.value.style,Ce(()=>t=!1)),!n&&u[0]&2&&(n=!0,f.container=l[1].container,Ce(()=>n=!1)),e.$set(f)},i(l){r||(y(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){M(e,l)}}}function km(i){let e,t;function n(){return i[30](i[40])}function r(){return i[31](i[40])}function s(){return i[32](i[40])}return e=new As({props:{up:!0,down:!0,remove:!0,value:i[40],$$slots:{default:[Em]},$$scope:{ctx:i}}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),t=!0},p(o,a){i=o;const l={};a[1]&512&&(l.value=i[40]),a[0]&3|a[1]&2048&&(l.$$scope={dirty:a,ctx:i}),e.$set(l)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){k(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Am(i){let e,t,n=i[40].content.type=="text"&&Li(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),q(r,e,s),t=!0},p(r,s){r[40].content.type=="text"?n?(n.p(r,s),s[1]&512&&y(n,1)):(n=Li(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),Ve())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&F(e)}}}function Tm(i){let e,t=i[39]+"",n;return{c(){e=ie("span"),n=$e(t),this.h()},l(r){e=se(r,"SPAN",{class:!0});var s=fe(e);n=we(s,t),s.forEach(F),this.h()},h(){K(e,"class","svelte-wq69ev")},m(r,s){q(r,e,s),Q(e,n)},p(r,s){s[1]&256&&t!==(t=r[39]+"")&&at(n,t)},d(r){r&&F(e)}}}function Sm(i){let e,t,n;function r(o){i[37](o)}let s={frameHeight:i[0].height,frameWidth:i[0].width};return i[1].container!==void 0&&(s.container=i[1].container),e=new Zh({props:s}),Te.push(()=>Ie(e,"container",r)),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){const l={};a[0]&1&&(l.frameHeight=o[0].height),a[0]&1&&(l.frameWidth=o[0].width),!t&&a[0]&2&&(t=!0,l.container=o[1].container,Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Im(i){let e,t,n;function r(o){i[34](o)}let s={};return i[1].content.value!==void 0&&(s.content=i[1].content.value),e=new bh({props:s}),Te.push(()=>Ie(e,"content",r)),e.$on("change",i[35]),e.$on("addPattern",i[36]),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.content=o[1].content.value,Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Cm(i){let e,t,n,r;const s=[Im,Sm],o=[];function a(l,u){return l[39]==="Текст"&&l[1].content.type=="text"?0:l[39]==="Контейнер"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=ie("div"),n&&n.c(),this.h()},l(l){e=se(l,"DIV",{slot:!0});var u=fe(e);n&&n.l(u),u.forEach(F),this.h()},h(){K(e,"slot","content")},m(l,u){q(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),k(o[f],1,1,()=>{o[f]=null}),Ve()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),y(n,1),n.m(e,null)):n=null)},i(l){r||(y(n),r=!0)},o(l){k(n),r=!1},d(l){l&&F(e),~t&&o[t].d()}}}function Fm(i){let e,t,n,r,s,o,a,l,u,f,c,m,h,d,p,g,_,$,w,E,C,P,R,V,O,L,ue,S,T,v,Z,pe,N,ae;n=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[fm]},$$scope:{ctx:i}}}),n.$on("click",i[10]);function ee(x){i[16](x)}let ge={height:"50%",items:i[5].frames,$$slots:{default:[hm,({item:x,index:j})=>({40:x,41:j}),({item:x,index:j})=>[0,(x?512:0)|(j?1024:0)]]},$$scope:{ctx:i}};i[0]!==void 0&&(ge.active=i[0]),s=new ui({props:ge}),Te.push(()=>Ie(s,"active",ee)),s.$on("drop",Oi(i[17])),l=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[mm]},$$scope:{ctx:i}}}),l.$on("click",i[18]),f=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[dm]},$$scope:{ctx:i}}}),f.$on("click",i[19]),m=new vr({props:{accept:".meme",$$slots:{default:[_m]},$$scope:{ctx:i}}}),m.$on("change",i[20]),d=new um({props:{version:i[6]}}),d.$on("openExample",i[21]),$=new vr({props:{accept:"image/*",typeFilter:/^image\//,$$slots:{default:[bm]},$$scope:{ctx:i}}}),$.$on("change",i[22]),E=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[vm]},$$scope:{ctx:i}}}),E.$on("click",i[23]);function G(x){i[24](x)}function H(x){i[25](x)}let X={};i[3]!==void 0&&(X.webgl=i[3]),i[4]!==void 0&&(X.ui=i[4]),R=new Jo({props:X}),Te.push(()=>Ie(R,"webgl",G)),Te.push(()=>Ie(R,"ui",H)),R.$on("drop",Oi(i[26])),S=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[$m]},$$scope:{ctx:i}}}),S.$on("click",i[27]);function J(x){i[33](x)}let le={height:"25%",reverse:!0,items:i[0].blocks.filter(Gi),$$slots:{default:[Am,({item:x})=>({40:x}),({item:x})=>[0,x?512:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(le.active=i[1]),v=new ui({props:le}),Te.push(()=>Ie(v,"active",J)),N=new gs({props:{tabs:["Текст","Контейнер"],$$slots:{content:[Cm,({tab:x})=>({39:x}),({tab:x})=>[0,x?256:0]],default:[Tm,({tab:x})=>({39:x}),({tab:x})=>[0,x?256:0]]},$$scope:{ctx:i}}}),{c(){e=ie("article"),t=ie("section"),B(n.$$.fragment),r=he(),B(s.$$.fragment),a=he(),B(l.$$.fragment),u=he(),B(f.$$.fragment),c=he(),B(m.$$.fragment),h=he(),B(d.$$.fragment),p=he(),g=ie("section"),_=ie("header"),B($.$$.fragment),w=he(),B(E.$$.fragment),C=he(),P=ie("header"),B(R.$$.fragment),L=he(),ue=ie("section"),B(S.$$.fragment),T=he(),B(v.$$.fragment),pe=he(),B(N.$$.fragment),this.h()},l(x){e=se(x,"ARTICLE",{class:!0});var j=fe(e);t=se(j,"SECTION",{class:!0});var _e=fe(t);z(n.$$.fragment,_e),r=me(_e),z(s.$$.fragment,_e),a=me(_e),z(l.$$.fragment,_e),u=me(_e),z(f.$$.fragment,_e),c=me(_e),z(m.$$.fragment,_e),h=me(_e),z(d.$$.fragment,_e),_e.forEach(F),p=me(j),g=se(j,"SECTION",{class:!0});var Fe=fe(g);_=se(Fe,"HEADER",{class:!0});var ze=fe(_);z($.$$.fragment,ze),w=me(ze),z(E.$$.fragment,ze),ze.forEach(F),C=me(Fe),P=se(Fe,"HEADER",{class:!0});var Ue=fe(P);z(R.$$.fragment,Ue),Ue.forEach(F),Fe.forEach(F),L=me(j),ue=se(j,"SECTION",{class:!0});var We=fe(ue);z(S.$$.fragment,We),T=me(We),z(v.$$.fragment,We),pe=me(We),z(N.$$.fragment,We),We.forEach(F),j.forEach(F),this.h()},h(){K(t,"class","svelte-wq69ev"),K(_,"class","controls svelte-wq69ev"),K(P,"class","canvas svelte-wq69ev"),K(g,"class","svelte-wq69ev"),K(ue,"class","svelte-wq69ev"),K(e,"class","svelte-wq69ev")},m(x,j){q(x,e,j),Q(e,t),D(n,t,null),Q(t,r),D(s,t,null),Q(t,a),D(l,t,null),Q(t,u),D(f,t,null),Q(t,c),D(m,t,null),Q(t,h),D(d,t,null),Q(e,p),Q(e,g),Q(g,_),D($,_,null),Q(_,w),D(E,_,null),Q(g,C),Q(g,P),D(R,P,null),Q(e,L),Q(e,ue),D(S,ue,null),Q(ue,T),D(v,ue,null),Q(ue,pe),D(N,ue,null),ae=!0},p(x,j){const _e={};j[1]&2048&&(_e.$$scope={dirty:j,ctx:x}),n.$set(_e);const Fe={};j[0]&32&&(Fe.items=x[5].frames),j[0]&4|j[1]&3584&&(Fe.$$scope={dirty:j,ctx:x}),!o&&j[0]&1&&(o=!0,Fe.active=x[0],Ce(()=>o=!1)),s.$set(Fe);const ze={};j[1]&2048&&(ze.$$scope={dirty:j,ctx:x}),l.$set(ze);const Ue={};j[1]&2048&&(Ue.$$scope={dirty:j,ctx:x}),f.$set(Ue);const We={};j[1]&2048&&(We.$$scope={dirty:j,ctx:x}),m.$set(We);const st={};j[0]&64&&(st.version=x[6]),d.$set(st);const b={};j[1]&2048&&(b.$$scope={dirty:j,ctx:x}),$.$set(b);const te={};j[1]&2048&&(te.$$scope={dirty:j,ctx:x}),E.$set(te);const Y={};!V&&j[0]&8&&(V=!0,Y.webgl=x[3],Ce(()=>V=!1)),!O&&j[0]&16&&(O=!0,Y.ui=x[4],Ce(()=>O=!1)),R.$set(Y);const I={};j[1]&2048&&(I.$$scope={dirty:j,ctx:x}),S.$set(I);const A={};j[0]&1&&(A.items=x[0].blocks.filter(Gi)),j[0]&3|j[1]&2560&&(A.$$scope={dirty:j,ctx:x}),!Z&&j[0]&2&&(Z=!0,A.active=x[1],Ce(()=>Z=!1)),v.$set(A);const U={};j[0]&3|j[1]&2304&&(U.$$scope={dirty:j,ctx:x}),N.$set(U)},i(x){ae||(y(n.$$.fragment,x),y(s.$$.fragment,x),y(l.$$.fragment,x),y(f.$$.fragment,x),y(m.$$.fragment,x),y(d.$$.fragment,x),y($.$$.fragment,x),y(E.$$.fragment,x),y(R.$$.fragment,x),y(S.$$.fragment,x),y(v.$$.fragment,x),y(N.$$.fragment,x),ae=!0)},o(x){k(n.$$.fragment,x),k(s.$$.fragment,x),k(l.$$.fragment,x),k(f.$$.fragment,x),k(m.$$.fragment,x),k(d.$$.fragment,x),k($.$$.fragment,x),k(E.$$.fragment,x),k(R.$$.fragment,x),k(S.$$.fragment,x),k(v.$$.fragment,x),k(N.$$.fragment,x),ae=!1},d(x){x&&F(e),M(n),M(s),M(l),M(f),M(m),M(d),M($),M(E),M(R),M(S),M(v),M(N)}}}function An(i){i.preventDefault()}function Oi(i){return e=>{var r;e.preventDefault();const t=(r=e.dataTransfer)==null?void 0:r.files;if(!t)return;const n=Array.from(t).filter(s=>{var o;return(o=s.type)==null?void 0:o.match(/^image/)});n.length&&i(n)}}const Gi=i=>i.content.type=="text";function Rm(i,e,t){let{meme:n}=e,{frame:r}=e,{block:s}=e,{previews:o={}}=e,{canvasWebgl:a}=e,{canvasUI:l}=e,{version:u}=e,{memeExampleURL:f}=e;const c=gt();function m(x){c("changeBackground",{file:x})}function h(x){var Fe,ze;const j=document.activeElement;if(j instanceof HTMLInputElement||j instanceof HTMLTextAreaElement)return;const _e=(Fe=x.clipboardData)==null?void 0:Fe.items;if(_e)for(let Ue=0;Ue<_e.length;Ue++){const We=_e[Ue];if(!((ze=We.type)!=null&&ze.match(/^image/)))continue;const st=We.getAsFile();st&&m(st);return}}sn(()=>(document.addEventListener("paste",h),document.addEventListener("dragover",An),document.addEventListener("drop",An),()=>{document.removeEventListener("paste",h),document.removeEventListener("dragover",An),document.removeEventListener("drop",An)}));const d=()=>c("createFrame"),p=x=>c("shiftFrame",{frame:x,shift:-1}),g=x=>c("shiftFrame",{frame:x,shift:1}),_=x=>c("deleteFrame",{frame:x}),$=x=>c("createFrame",{origin:x});function w(x,j){i.$$.not_equal(o[j.id],x)&&(o[j.id]=x,t(2,o))}function E(x){r=x,t(0,r)}const C=x=>c("framesFromImages",{files:x}),P=()=>c("renderMeme",{meme:n}),R=()=>c("saveMeme",{meme:n}),V=x=>c("openMeme",{file:x.detail[0]}),O=()=>fetch(f).then(x=>x.blob()).then(x=>c("openMeme",{file:x})),L=x=>m(x.detail[0]),ue=()=>c("frameToClipboard",{frame:r});function S(x){a=x,t(3,a)}function T(x){l=x,t(4,l)}const v=x=>c("changeBackground",{file:x[0]}),Z=()=>c("createBlock");function pe(x){i.$$.not_equal(s.content.value.style,x)&&(s.content.value.style=x,t(1,s))}function N(x){i.$$.not_equal(s.container,x)&&(s.container=x,t(1,s))}const ae=x=>c("shiftBlock",{block:x,shift:1}),ee=x=>c("shiftBlock",{block:x,shift:-1}),ge=x=>c("deleteBlock",{block:x});function G(x){s=x,t(1,s)}function H(x){i.$$.not_equal(s.content.value,x)&&(s.content.value=x,t(1,s))}function X(x){Ae.call(this,i,x)}function J(x){Ae.call(this,i,x)}function le(x){i.$$.not_equal(s.container,x)&&(s.container=x,t(1,s))}return i.$$set=x=>{"meme"in x&&t(5,n=x.meme),"frame"in x&&t(0,r=x.frame),"block"in x&&t(1,s=x.block),"previews"in x&&t(2,o=x.previews),"canvasWebgl"in x&&t(3,a=x.canvasWebgl),"canvasUI"in x&&t(4,l=x.canvasUI),"version"in x&&t(6,u=x.version),"memeExampleURL"in x&&t(7,f=x.memeExampleURL)},[r,s,o,a,l,n,u,f,c,m,d,p,g,_,$,w,E,C,P,R,V,O,L,ue,S,T,v,Z,pe,N,ae,ee,ge,G,H,X,J,le]}class Nm extends ye{constructor(e){super(),Ee(this,e,Rm,Fm,ve,{meme:5,frame:0,block:1,previews:2,canvasWebgl:3,canvasUI:4,version:6,memeExampleURL:7},null,[-1,-1])}}function Pm(i){let e,t,n;const r=i[2].default,s=Ne(r,i,i[1],null);return{c(){e=ie("div"),s&&s.c(),this.h()},l(o){e=se(o,"DIV",{style:!0,class:!0});var a=fe(e);s&&s.l(a),a.forEach(F),this.h()},h(){K(e,"style",t=Hi(i[0])),K(e,"class","svelte-18sulqr")},m(o,a){q(o,e,a),s&&s.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&Pe(s,r,o,o[1],n?Be(r,o[1],a,null):xe(o[1]),null),(!n||a&1&&t!==(t=Hi(o[0])))&&K(e,"style",t)},i(o){n||(y(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&F(e),s&&s.d(o)}}}function Hi(i){return Object.entries(i).map(([e,t])=>`--${e.split(new RegExp("(?<=[a-z])(?=[A-Z])")).map(r=>r.toLowerCase()).join("-")}: ${t};`).join("")}function xm(i,e,t){let{$$slots:n={},$$scope:r}=e,{theme:s}=e;return i.$$set=o=>{"theme"in o&&t(0,s=o.theme),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class Bm extends ye{constructor(e){super(),Ee(this,e,xm,Pm,ve,{theme:0})}}const zm={textSecondary:"white",secondary:"#34352F",secondaryHover:"#3E3D32",secondaryActive:"#272822",borderSecondary:"1px solid #111111",borderSecondaryHover:"1px solid #222222",borderSecondaryActive:"1px solid #aaaaaa",border:"none",textError:"#ff0000"},Wi=Zn(zm);class Dm{constructor(e,t,n,r){Se(this,"position",{x:0,y:0});Se(this,"moveStart");Se(this,"ctrl",!1);Se(this,"shift",!1);this.canvas=e,e.addEventListener("touchmove",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&s.preventDefault(),r()}),e.addEventListener("mousemove",s=>{const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchstart",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)?s.preventDefault():this.moveStart=void 0),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()},{passive:!0}),e.addEventListener("mousedown",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchend",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this)&&s.preventDefault(),this.moveStart=void 0),s.preventDefault(),r()}),e.addEventListener("mouseup",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this),this.moveStart=void 0),r()})}get pressed(){return this.moveStart!==void 0}get scale(){const e=this.canvas;return e.width/e.clientWidth}get realSize(){return{width:this.canvas.clientWidth,height:this.canvas.clientHeight}}posFromTouchEvent(e){return this.posFromTouch(e.changedTouches[0])}posFromTouch(e){const t=this.canvas.getBoundingClientRect(),n=e.pageX-t.x,r=e.pageY-t.y;return{x:n,y:r}}}function ji(i,e){return{x:e.x-i.x,y:e.y-i.y}}function Mm(i,e,t=0){return Math.abs(i.x-e.x)<=t&&Math.abs(i.y-e.y)<=t}class Um{constructor(e,t,n){Se(this,"sprites",new Array);Se(this,"cursor");Se(this,"dragAndDrop");Se(this,"hoveredSprite");this.dragDropSystemSource=t,this.onupdate=n,this.cursor=new Dm(e,()=>{if(this.dragAndDrop)return!0;if(!this.hoveredSprite)return!1;const r=this.dragDropSystemSource(this.hoveredSprite);return r?(this.dragAndDrop={sprite:this.hoveredSprite,system:r,lastPosition:{x:NaN,y:NaN}},!0):!1},(r,s)=>{if(!this.dragAndDrop)return!1;const o=this.dragAndDrop.system;return this.dragAndDrop=void 0,o.drop(r,s,this.cursor),!0},()=>this.update())}add(e){return this.sprites.push(e),e}clear(){var e;(e=this.dragAndDrop)==null||e.system.drop(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop=void 0,this.hoveredSprite=void 0,this.sprites.length=0}update(){var t,n;if(this.dragAndDrop){Mm(this.cursor.position,this.dragAndDrop.lastPosition,.001)||(this.dragAndDrop.system.move(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop.lastPosition.x=this.cursor.position.x,this.dragAndDrop.lastPosition.y=this.cursor.position.y,(t=this.onupdate)==null||t.call(this));return}const e=this.hoveredSprite;this.hoveredSprite=void 0;for(let r=this.sprites.length-1;r>=0;r--){const s=this.sprites[r];if(s.interactive&&s.contains(this.cursor.position)){this.hoveredSprite=s;break}}e!==this.hoveredSprite&&((n=this.onupdate)==null||n.call(this))}draw(e){this.sprites.forEach(t=>{e.save(),t.draw(e,this.spriteState(t)),e.restore()})}spriteState(e){var t;return((t=this.dragAndDrop)==null?void 0:t.sprite)===e?"active":this.hoveredSprite===e?"hover":"default"}}class it{constructor(){Se(this,"data",[[0,0,0],[0,0,0],[0,0,0]])}static Zero(){return new it}static Ident(){const e=new it;return e.data[0][0]=1,e.data[1][1]=1,e.data[2][2]=1,e}static RotationAround(e,t){return it.Translate({x:-e.x,y:-e.y}).Multiply(this.Rotation(t)).Multiply(it.Translate(e))}static Rotation(e){const t=Math.sin(e),n=Math.cos(e);return this.RotationCosSin(n,t)}static RotationCosSin(e,t){const n=it.Ident();return n.data[0][0]=e,n.data[0][1]=t,n.data[1][0]=-t,n.data[1][1]=e,n}static Translate(e,t){const n=it.Ident();if(typeof e=="number"&&typeof t=="number")n.data[2][0]=e,n.data[2][1]=t;else if(typeof e!="number"){const r=e;n.data[2][0]=r.x,n.data[2][1]=r.y}else throw new Error(`Unexpected type combination in Matrix.Translate: x: ${typeof e}, y: ${typeof t}`);return n}Get(e,t){return this.data[e][t]}Set(e,t,n){this.data[e][t]=n}Multiply(e){const t=it.Zero();for(let n=0;n<3;++n)for(let r=0;r<3;++r)for(let s=0;s<3;++s)t.data[n][r]+=this.data[n][s]*e.data[s][r];return t}Transform(e,t={x:0,y:0}){const n=this.Get(0,0)*e.x+this.Get(1,0)*e.y+this.Get(2,0),r=this.Get(0,1)*e.x+this.Get(1,1)*e.y+this.Get(2,1),s=this.Get(0,2)*e.x+this.Get(1,2)*e.y+this.Get(2,2);return t.x=n/s,t.y=r/s,t}}class Cr{constructor(e,t,n){Se(this,"normal");Se(this,"normalization");this.a=e,this.b=t,this.c=n;const r=Math.sqrt(e*e+t*t);this.normal={x:e/r,y:t/r},this.normalization=r}static byTwoPoints({x:e,y:t},{x:n,y:r}){return new Cr(t-r,n-e,e*r-n*t)}onLine(e){return Math.abs(this.rawDistance(e))<1e-15}sign(e){return Math.sign(this.rawDistance(e))}rawDistance({x:e,y:t}){return this.a*e+this.b*t+this.c}distance(e){const t=this.rawDistance(e);return Math.abs(t)/this.normalization}projection(e){const t=this.rawDistance(e)/this.normalization;return{x:e.x-this.normal.x*t,y:e.y-this.normal.y*t}}}class Vi{constructor(e,t){Se(this,"line");this.p1=e,this.p2=t,this.line=Cr.byTwoPoints(e,t)}get left(){return Math.min(this.p1.x,this.p2.x)}get right(){return Math.max(this.p1.x,this.p2.x)}}class vn{constructor(e){Se(this,"edges");this.points=e,this.edges=new Array(e.length),this.updateEdges()}updateEdges(){const e=this.points;for(let t=0;t<e.length-1;t++)this.edges[t]=new Vi(e[t],e[t+1]);this.edges[e.length-1]=new Vi(e[e.length-1],e[0])}transform(e){const t=this.points,n=t.length;for(let r=0;r<n;r++)e.Transform(t[r],t[r]);this.updateEdges()}transformCopy(e){return new vn(this.points.map(t=>e.Transform(t)))}contains(e){let t=0;const n=this.edges.length;for(let r=0;r<n;r++){const s=this.edges[r];e.x<=s.left||e.x>s.right||(t+=s.line.sign(e))}return t!=0}center(){const e=this.points,t=e.length;let n=0,r=0;for(let s=0;s<t;s++)n+=e[s].x,r+=e[s].y;return{x:n/t,y:r/t}}area(){let e=0;const t=this.points.length-1,n=this.points;for(let r=0;r<t;r++)e+=n[r].x*n[r+1].x-n[r+1].y*n[r].y;return e+=n[t].x*n[0].y-n[0].x*n[t].y,e/2}repair(){this.area()<0&&this.points.reverse()}}class Lm{constructor(e=!1,t){this.interactive=e,this.settings=t}draw(e,t){const n=this.settings.fill[t],r=this.settings.stroke[t];this.makePath(e),n&&(e.fillStyle=n,e.fill()),r&&(e.strokeStyle=r,e.stroke())}}class Ts extends Lm{constructor(e=new Rt,t=!1,n){super(t,n),this.transform=e}getPolygon(){return this.localPolygon().transformCopy(this.transform.matrix())}makePath(e){Hm(e,this.getPolygon())}contains(e){return this.getPolygon().contains(e)}}class Zt extends Ts{constructor(e,t=new Rt,n=!1,r){super(t,n,r),this.polygon=e}localPolygon(){return this.polygon}}class Zi extends Ts{constructor(e,t=new Rt,n=!1,r){super(t,n,r),this.localPolygon=e}}function qt(i,e){const t=i/2,n=e/2;return new vn([{x:-t,y:-n},{x:t,y:-n},{x:t,y:n},{x:-t,y:n}])}class Rt{constructor(e=0,t=0,n=0,r){this.x=e,this.y=t,this.rotate=n,this.parent=r}matrix(){const e=it.Rotation(this.rotate).Multiply(it.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}class Tn{constructor(e=()=>0,t=()=>0,n=()=>0,r){this.xSource=e,this.ySource=t,this.rotateSource=n,this.parent=r}get rotate(){return this.rotateSource()}get x(){return this.xSource()}get y(){return this.ySource()}matrix(){const e=it.Rotation(this.rotate).Multiply(it.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}function Om(i,e){const t=e/3,n=t/2,r=[{x:i-n-2*t,y:n},{x:-n,y:n},{x:-n,y:-n},{x:i-n-2*t,y:-n},{x:i-n-3*t,y:-n-t},{x:i-n,y:0},{x:i-n-3*t,y:+n+t}];return new vn(r)}function Gm(i,e,t){const n=t/3,r=n/2,s=e/(Math.PI/45)|0,o=e/s,a=[],l=[],u=i-r,f=i+r;for(let h=0;h<s;h++){const d=Math.cos(o*h),p=Math.sin(o*h),g=d*u,_=p*u;a.push({x:g,y:_});const $=d*f,w=p*f;l.push({x:$,y:w})}const c=[{x:-t,y:+r+n},{x:t,y:0},{x:-t,y:-r-n}],m=it.Rotation(Math.PI/2).Multiply(it.Translate({x:i,y:0})).Multiply(it.RotationAround({x:0,y:0},e));return new vn([...a,...c.map(h=>m.Transform(h,h)),...l.reverse()])}function Hm(i,e){i.beginPath(),i.moveTo(e.points[0].x,e.points[0].y),e.points.forEach(t=>i.lineTo(t.x,t.y)),i.closePath()}class Wm{constructor(e,t,n,r,s){Se(this,"ctx");Se(this,"sprites");Se(this,"handlers",new Map);Se(this,"selectors",new Map);Se(this,"activeBlockId","");Se(this,"activeContainerType","");Se(this,"draw",Xi(()=>{const e=this.ctx.canvas,t=this.cursor.realSize;e.width!==t.width&&(e.width=t.width),e.height!==t.height&&(e.height=t.height),this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save(),this.ctx.scale(1/this.cursor.scale,1/this.cursor.scale),this.sprites.draw(this.ctx),this.ctx.restore()}));this.ctx=e.getContext("2d");let o=!1;this.sprites=new Um(t,a=>{var c;const l=this.selectors.get(a);if(l)return{move(){},drop(){s.set(r.value.blocks.find(({id:m})=>l===m))}};const u=s.value.container;if(!this.activeBlockId||u.type!=="rectangle")return;const f=(c=this.handlers.get(a))==null?void 0:c(u.value);if(f)return{move:Xi((m,h,d)=>{u.value=f(m,h,d),o=!0,s.set(s.value),o=!1}),drop(m,h,d){u.value=f(m,h,d),o=!0,s.set(s.value),o=!1}}},()=>this.draw()),n.subscribe(()=>{this.activeBlockId=""}),s.subscribe(a=>{o||this.draw(),!(a.id==this.activeBlockId&&a.container.type==this.activeContainerType)&&(this.activeBlockId=a.id,this.activeContainerType=a.container.type,this.setup(r.value.blocks,a))})}get cursor(){return this.sprites.cursor}clear(){this.selectors.clear(),this.handlers.clear(),this.sprites.clear()}setup(e,t){if(this.clear(),e.forEach(c=>{c===t||c.container.type!=="rectangle"||this.addSelector(c.id,c.container.value)}),t.container.type!=="rectangle")return;const n=new Zi(()=>qt(t.container.value.width,t.container.value.height),new Tn(()=>t.container.value.position.x,()=>t.container.value.position.y,()=>t.container.value.rotation),!0,{fill:{},stroke:{default:"#aaaa00 "}}),r=this.sprites.add(n),s=18*this.cursor.scale,o=Om(s*7,s*1.4),a=new Tn(()=>0,()=>0,()=>this.cursor.ctrl?-r.transform.rotation():0,r.transform),l=new Zt(o,new Rt(0,0,0,a),!0,Xt("#0000ff")),u=new Zt(o,new Rt(0,0,-Math.PI/2,a),!0,Xt("#ff0000"));this.addModifier(l,qi(l)),this.addModifier(u,qi(u)),this.addModifier(new Zt(qt(s*2,s*2),new Rt(0,0,0,r.transform),!0,Xt("#ff00ff")),c=>(m,h)=>{const d=h.x-m.x,p=h.y-m.y,{x:g,y:_}=c.position;return{...c,position:{x:g+d,y:_+p}}});const f=new Zt(Gm(4*s,Math.PI*1.5,s*1.5),new Rt(0,0,-Math.PI/4,r.transform),!0,Xt("#00ff00"));this.addModifier(f,jm),[{dim:"width",dir:{x:1,y:0}},{dim:"width",dir:{x:-1,y:0}},{dim:"height",dir:{x:0,y:1}},{dim:"height",dir:{x:0,y:-1}}].forEach(({dim:c,dir:m})=>{const h=c==="height"?()=>qt(t.container.value.width-s,s):()=>qt(s,t.container.value.height-s);this.addModifier(new Zi(h,new Tn(()=>m.x*t.container.value.width/2,()=>m.y*t.container.value.height/2,()=>0,r.transform),!0,Xt("#ff9900")),Vm(c,m))}),[{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}].forEach(c=>{this.addModifier(new Zt(qt(s,s),new Tn(()=>c.x*t.container.value.width/2,()=>c.y*t.container.value.height/2,()=>0,r.transform),!0,Xt("#ff99ff")),Zm(c))})}addSelector(e,t){const n=this.sprites.add(new Zt(qt(t.width,t.height),new Rt(t.position.x,t.position.y,t.rotation),!0,{fill:{hover:"#aaaaaa22",active:"#aaaaaa44"},stroke:{hover:"#aaaaaa99",active:"#aaaaaa"}}));this.selectors.set(n,e)}addModifier(e,t){this.handlers.set(this.sprites.add(e),t)}}function jm(i){const{rotation:e}=i,t=i.position;return(n,r,s)=>{const o=ji(t,n),a=ji(t,r),l=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x),f=Math.PI/180*1;let c=Math.round((u-l)/f)*f;const m=Math.PI/4;return s.shift&&(c=(c/m|0)*m),{...i,rotation:s.ctrl?c:e+c}}}function Xt(i){return{fill:{default:`${i}44`,hover:`${i}99`,active:`${i}`},stroke:{default:`${i}44`,hover:`${i}99`,active:`${i}`}}}function Vm(i,e){return t=>(n,r,s)=>{const o=r.x-n.x,a=r.y-n.y,l=it.Rotation(t.rotation).Transform(e);let u=o*l.x+a*l.y;return s.shift&&(u=(u/10|0)*10),s.ctrl?{...t,position:{x:t.position.x+l.x*u/2,y:t.position.y+l.y*u/2},[i]:t[i]+u}:{...t,[i]:t[i]+2*u}}}function Zm(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,a=it.Rotation(e.rotation).Transform({x:0,y:i.y}),l=it.Rotation(e.rotation).Transform({x:i.x,y:0});let u=s*a.x+o*a.y,f=s*l.x+o*l.y;return r.shift&&(u=f=Math.max(u,f)),r.ctrl?{...e,position:{x:e.position.x+a.x*u/2+l.x*f/2,y:e.position.y+a.y*u/2+l.y*f/2},height:e.height+u,width:e.width+f}:{...e,height:e.height+2*u,width:e.width+2*f}}}function qi(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,{x:a,y:l}=e.position,u=it.Rotation(i.transform.rotation()).Transform({x:1,y:0});let f=s*u.x+o*u.y;return r.shift&&(f=(f/10|0)*10),{...e,position:{x:a+u.x*f,y:l+u.y*f}}}}function Xi(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function In(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _n={},qm={get exports(){return _n},set exports(i){_n=i}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function o(u,f){if(!r[u]){if(!n[u]){var c=typeof In=="function"&&In;if(!f&&c)return c(u,!0);if(a)return a(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var h=r[u]={exports:{}};n[u][0].call(h.exports,function(d){var p=n[u][1][d];return o(p||d)},h,h.exports,t,n,r,s)}return r[u].exports}for(var a=typeof In=="function"&&In,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,f,c,m,h,d,p,g=[],_=0,$=l.length,w=$,E=s.getTypeOf(l)!=="string";_<l.length;)w=$-_,c=E?(u=l[_++],f=_<$?l[_++]:0,_<$?l[_++]:0):(u=l.charCodeAt(_++),f=_<$?l.charCodeAt(_++):0,_<$?l.charCodeAt(_++):0),m=u>>2,h=(3&u)<<4|f>>4,d=1<w?(15&f)<<2|c>>6:64,p=2<w?63&c:64,g.push(a.charAt(m)+a.charAt(h)+a.charAt(d)+a.charAt(p));return g.join("")},r.decode=function(l){var u,f,c,m,h,d,p=0,g=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var $,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=o.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(m=a.indexOf(l.charAt(p++)))>>4,f=(15&m)<<4|(h=a.indexOf(l.charAt(p++)))>>2,c=(3&h)<<6|(d=a.indexOf(l.charAt(p++))),$[g++]=u,h!==64&&($[g++]=f),d!==64&&($[g++]=c);return $}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(f,c,m,h,d){this.compressedSize=f,this.uncompressedSize=c,this.crc32=m,this.compression=h,this.compressedContent=d}u.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,c,m){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(c.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,f,c,m){var h=o,d=m+c;u^=-1;for(var p=m;p<d;p++)u=u>>>8^h[255&(u^f[p])];return-1^u}(0|l,a,a.length,0):function(u,f,c,m){var h=o,d=m+c;u^=-1;for(var p=m;p<d;p++)u=u>>>8^h[255&(u^f.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function f(c,m){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=m,this.meta={}}r.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,c.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(m){c.push({data:m,meta:c.meta})}},r.compressWorker=function(c){return new f("Deflate",c)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(h,d){var p,g="";for(p=0;p<d;p++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,d,p,g,_,$){var w,E,C=h.file,P=h.compression,R=$!==u.utf8encode,V=a.transformTo("string",$(C.name)),O=a.transformTo("string",u.utf8encode(C.name)),L=C.comment,ue=a.transformTo("string",$(L)),S=a.transformTo("string",u.utf8encode(L)),T=O.length!==C.name.length,v=S.length!==L.length,Z="",pe="",N="",ae=C.dir,ee=C.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};d&&!p||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var G=0;d&&(G|=8),R||!T&&!v||(G|=2048);var H=0,X=0;ae&&(H|=16),_==="UNIX"?(X=798,H|=function(le,x){var j=le;return le||(j=x?16893:33204),(65535&j)<<16}(C.unixPermissions,ae)):(X=20,H|=function(le){return 63&(le||0)}(C.dosPermissions)),w=ee.getUTCHours(),w<<=6,w|=ee.getUTCMinutes(),w<<=5,w|=ee.getUTCSeconds()/2,E=ee.getUTCFullYear()-1980,E<<=4,E|=ee.getUTCMonth()+1,E<<=5,E|=ee.getUTCDate(),T&&(pe=s(1,1)+s(f(V),4)+O,Z+="up"+s(pe.length,2)+pe),v&&(N=s(1,1)+s(f(ue),4)+S,Z+="uc"+s(N.length,2)+N);var J="";return J+=`
\0`,J+=s(G,2),J+=P.magic,J+=s(w,2),J+=s(E,2),J+=s(ge.crc32,4),J+=s(ge.compressedSize,4),J+=s(ge.uncompressedSize,4),J+=s(V.length,2),J+=s(Z.length,2),{fileRecord:c.LOCAL_FILE_HEADER+J+V+Z,dirRecord:c.CENTRAL_FILE_HEADER+s(X,2)+J+s(ue.length,2)+"\0\0\0\0"+s(H,4)+s(g,4)+V+Z+ue}}var a=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),f=t("../crc32"),c=t("../signature");function m(h,d,p,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(h){var d=h.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(d+100*(p-g-1))/p:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var d=this.streamFiles&&!h.file.dir;if(d){var p=o(h,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var d=this.streamFiles&&!h.file.dir,p=o(h,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),d)this.push({data:function(g){return c.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var p=this.bytesWritten-h,g=function(_,$,w,E,C){var P=a.transformTo("string",C(E));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s($,4)+s(w,4)+s(P.length,2)+P}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var d=this;return h.on("data",function(p){d.processChunk(p)}),h.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),h.on("error",function(p){d.error(p)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var d=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<d.length;p++)try{d[p].error(h)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,d=0;d<h.length;d++)h[d].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,u){var f=new o(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{a.forEach(function(m,h){c++;var d=function($,w){var E=$||w,C=s[E];if(!C)throw new Error(E+" is not a valid compression method !");return C}(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,_=h.date;h._compressWorker(d,p).withStreamInfo("file",{name:m,dir:g,date:_,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(f)}),f.entriesCount=c}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function c(m){return new o.Promise(function(h,d){var p=m.decompressed.getContentWorker().pipe(new u);p.on("error",function(g){d(g)}).on("end",function(){p.streamInfo.crc32!==m.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(m,h){var d=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(p){var g=new l(h);return g.load(p),g}).then(function(p){var g=[o.Promise.resolve(p)],_=p.files;if(h.checkCRC32)for(var $=0;$<_.length;$++)g.push(c(_[$]));return o.Promise.all(g)}).then(function(p){for(var g=p.shift(),_=g.files,$=0;$<_.length;$++){var w=_[$],E=w.fileNameStr,C=s.resolve(w.fileNameStr);d.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(d.file(C).unsafeOriginalName=E)}return g.zipComment.length&&(d.comment=g.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var f=this;a.on("data",function(c,m){f.push(c)||f._helper.pause(),u&&u(m)}).on("error",function(c){f.emit("error",c)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(C,P,R){var V,O=a.getTypeOf(P),L=a.extend(R||{},f);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(C=_(C)),L.createFolders&&(V=g(C))&&$.call(this,V,!0);var ue=O==="string"&&L.binary===!1&&L.base64===!1;R&&R.binary!==void 0||(L.binary=!ue),(P instanceof c&&P.uncompressedSize===0||L.dir||!P||P.length===0)&&(L.base64=!1,L.binary=!0,P="",L.compression="STORE",O="string");var S=null;S=P instanceof c||P instanceof l?P:d.isNode&&d.isStream(P)?new p(C,P):a.prepareContent(C,P,L.binary,L.optimizedBinaryString,L.base64);var T=new m(C,S,L);this.files[C]=T}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),c=t("./compressedObject"),m=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var P=C.lastIndexOf("/");return 0<P?C.substring(0,P):""},_=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},$=function(C,P){return P=P!==void 0?P:f.createFolders,C=_(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:P}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var P,R,V;for(P in this.files)V=this.files[P],(R=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&C(R,V)},filter:function(C){var P=[];return this.forEach(function(R,V){C(R,V)&&P.push(V)}),P},file:function(C,P,R){if(arguments.length!==1)return C=this.root+C,s.call(this,C,P,R),this;if(w(C)){var V=C;return this.filter(function(L,ue){return!ue.dir&&V.test(L)})}var O=this.files[this.root+C];return O&&!O.dir?O:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(O,L){return L.dir&&C.test(O)});var P=this.root+C,R=$.call(this,P),V=this.clone();return V.root=R.name,V},remove:function(C){C=this.root+C;var P=this.files[C];if(P||(C.slice(-1)!=="/"&&(C+="/"),P=this.files[C]),P&&!P.dir)delete this.files[C];else for(var R=this.filter(function(O,L){return L.name.slice(0,C.length)===C}),V=0;V<R.length;V++)delete this.files[R[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var P,R={};try{if((R=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var V=R.comment||this.comment||"";P=h.generateWorker(this,R,V)}catch(O){(P=new l("error")).error(O)}return new u(P,R.type||"string",R.mimeType)},generateAsync:function(C,P){return this.generateInternalStream(C).accumulate(P)},generateNodeStream:function(C,P){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(P)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===f&&this.data[m+3]===c)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&f===m[2]&&c===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(c){var m=s.getTypeOf(c);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(c):o.uint8array?new f(s.transformTo("uint8array",c)):new a(s.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=s.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),u=t("../support"),f=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(d,p){return new f.Promise(function(g,_){var $=[],w=d._internalType,E=d._outputType,C=d._mimeType;d.on("data",function(P,R){$.push(P),p&&p(R)}).on("error",function(P){$=[],_(P)}).on("end",function(){try{var P=function(R,V,O){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",V),O);case"base64":return l.encode(V);default:return s.transformTo(R,V)}}(E,function(R,V){var O,L=0,ue=null,S=0;for(O=0;O<V.length;O++)S+=V[O].length;switch(R){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(ue=new Uint8Array(S),O=0;O<V.length;O++)ue.set(V[O],L),L+=V[O].length;return ue;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,$),C);g(P)}catch(R){_(R)}$=[]}).resume()})}function h(d,p,g){var _=p;switch(p){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=p,this._mimeType=g,s.checkSupport(_),this._worker=d.pipe(new o(_)),d.lock()}catch($){this._worker=new a("error"),this._worker.error($)}}h.prototype={accumulate:function(d){return m(this,d)},on:function(d,p){var g=this;return d==="data"?this._worker.on(d,function(_){p.call(g,_.data,_.meta)}):this._worker.on(d,function(){s.delay(p,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}r.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(d){var p,g,_,$,w,E=d.length,C=0;for($=0;$<E;$++)(64512&(g=d.charCodeAt($)))==55296&&$+1<E&&(64512&(_=d.charCodeAt($+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),$++),C+=g<128?1:g<2048?2:g<65536?3:4;for(p=o.uint8array?new Uint8Array(C):new Array(C),$=w=0;w<C;$++)(64512&(g=d.charCodeAt($)))==55296&&$+1<E&&(64512&(_=d.charCodeAt($+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),$++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p}(h)},r.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(d){var p,g,_,$,w=d.length,E=new Array(2*w);for(p=g=0;p<w;)if((_=d[p++])<128)E[g++]=_;else if(4<($=u[_]))E[g++]=65533,p+=$-1;else{for(_&=$===2?31:$===3?15:7;1<$&&p<w;)_=_<<6|63&d[p++],$--;1<$?E[g++]=65533:_<65536?E[g++]=_:(_-=65536,E[g++]=55296|_>>10&1023,E[g++]=56320|1023&_)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),s.applyFromCharCode(E)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(c,l),c.prototype.processChunk=function(h){var d=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=d;(d=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),d.set(p,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var g=function($,w){var E;for((w=w||$.length)>$.length&&(w=$.length),E=w-1;0<=E&&(192&$[E])==128;)E--;return E<0||E===0?w:E+u[$[E]]>w?E:w}(d),_=d;g!==d.length&&(o.uint8array?(_=d.subarray(0,g),this.leftOver=d.subarray(g,d.length)):(_=d.slice(0,g),this.leftOver=d.slice(g,d.length))),this.push({data:r.utf8decode(_),meta:h.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,s.inherits(m,l),m.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function u(p){return p}function f(p,g){for(var _=0;_<p.length;++_)g[_]=255&p.charCodeAt(_);return g}t("setimmediate"),r.newBlob=function(p,g){r.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(p),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(p,g,_){var $=[],w=0,E=p.length;if(E<=_)return String.fromCharCode.apply(null,p);for(;w<E;)g==="array"||g==="nodebuffer"?$.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+_,E)))):$.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+_,E)))),w+=_;return $.join("")},stringifyByChar:function(p){for(var g="",_=0;_<p.length;_++)g+=String.fromCharCode(p[_]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(p){var g=65536,_=r.getTypeOf(p),$=!0;if(_==="uint8array"?$=c.applyCanBeUsed.uint8array:_==="nodebuffer"&&($=c.applyCanBeUsed.nodebuffer),$)for(;1<g;)try{return c.stringifyByChunk(p,_,g)}catch{g=Math.floor(g/2)}return c.stringifyByChar(p)}function h(p,g){for(var _=0;_<p.length;_++)g[_]=p[_];return g}r.applyFromCharCode=m;var d={};d.string={string:u,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return d.string.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:function(p){return f(p,a.allocBuffer(p.length))}},d.array={string:m,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},d.arraybuffer={string:function(p){return m(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},d.uint8array={string:m,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},d.nodebuffer={string:m,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return d.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},r.transformTo=function(p,g){if(g=g||"",!p)return g;r.checkSupport(p);var _=r.getTypeOf(g);return d[_][p](g)},r.resolve=function(p){for(var g=p.split("/"),_=[],$=0;$<g.length;$++){var w=g[$];w==="."||w===""&&$!==0&&$!==g.length-1||(w===".."?_.pop():_.push(w))}return _.join("/")},r.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(p){var g,_,$="";for(_=0;_<(p||"").length;_++)$+="\\x"+((g=p.charCodeAt(_))<16?"0":"")+g.toString(16).toUpperCase();return $},r.delay=function(p,g,_){setImmediate(function(){p.apply(_||null,g||[])})},r.inherits=function(p,g){function _(){}_.prototype=g.prototype,p.prototype=new _},r.extend=function(){var p,g,_={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&_[g]===void 0&&(_[g]=arguments[p][g]);return _},r.prepareContent=function(p,g,_,$,w){return l.Promise.resolve(g).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,P){var R=new FileReader;R.onload=function(V){C(V.target.result)},R.onerror=function(V){P(V.target.error)},R.readAsArrayBuffer(E)}):E}).then(function(E){var C=r.getTypeOf(E);return C?(C==="arraybuffer"?E=r.transformTo("uint8array",E):C==="string"&&(w?E=o.decode(E):_&&$!==!0&&(E=function(P){return f(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),u=t("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(c)+")")}},isSignature:function(c,m){var h=this.reader.index;this.reader.setIndex(c);var d=this.reader.readString(4)===m;return this.reader.setIndex(h),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",h=o.transformTo(m,c);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,m,h,d=this.zip64EndOfCentralSize-44;0<d;)c=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[c]={id:c,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,m;for(c=0;c<this.files.length;c++)m=this.files[c],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var m=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var d=m-h;if(0<d)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),f=t("./compressions"),c=t("./support");function m(h,d){this.options=h,this.loadOptions=d}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var d,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(g){for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)&&f[_].magic===g)return f[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,d,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var d=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(d),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var d,p,g,_=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<_;)d=h.readInt(2),p=h.readInt(2),g=h.readData(p),this.extraFields[d]={id:d,length:p,value:g};h.setIndex(_)},handleUTF8:function(){var h=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var _=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var d=s(h.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var d=s(h.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(d,p,g){this.name=d,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var p=null,g="string";try{if(!d)throw new Error("No output type specified.");var _=(g=d.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var $=!this._dataBinary;$&&!_&&(p=p.pipe(new l.Utf8EncodeWorker)),!$&&_&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new f("error")).error(w)}return new o(p,g,"")},async:function(d,p){return this.internalStream(d).accumulate(p)},nodeStream:function(d,p){return this.internalStream(d||"nodebuffer").toNodejsStream(p)},_compressWorker:function(d,p){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,d,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)s.prototype[c[h]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,f=new l(d),c=s.document.createTextNode("");f.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){d(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(d,0)};else{var m=new s.MessageChannel;m.port1.onmessage=d,o=function(){m.port2.postMessage(0)}}var h=[];function d(){var p,g;a=!0;for(var _=h.length;_;){for(g=h,h=[],p=-1;++p<_;)g[p]();_=h.length}a=!1}n.exports=function(p){h.push(p)!==1||a||o()}}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&p(this,_)}function m(_,$,w){this.promise=_,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(_,$,w){s(function(){var E;try{E=$(w)}catch(C){return a.reject(_,C)}E===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,E)})}function d(_){var $=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof $=="function")return function(){$.apply(_,arguments)}}function p(_,$){var w=!1;function E(R){w||(w=!0,a.reject(_,R))}function C(R){w||(w=!0,a.resolve(_,R))}var P=g(function(){$(C,E)});P.status==="error"&&E(P.value)}function g(_,$){var w={};try{w.value=_($),w.status="success"}catch(E){w.status="error",w.value=E}return w}(n.exports=c).prototype.finally=function(_){if(typeof _!="function")return this;var $=this.constructor;return this.then(function(w){return $.resolve(_()).then(function(){return w})},function(w){return $.resolve(_()).then(function(){throw w})})},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,$){if(typeof _!="function"&&this.state===u||typeof $!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==f?h(w,this.state===u?_:$,this.outcome):this.queue.push(new m(w,_,$)),w},m.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){h(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){a.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){h(this.promise,this.onRejected,_)},a.resolve=function(_,$){var w=g(d,$);if(w.status==="error")return a.reject(_,w.value);var E=w.value;if(E)p(_,E);else{_.state=u,_.outcome=$;for(var C=-1,P=_.queue.length;++C<P;)_.queue[C].callFulfilled($)}return _},a.reject=function(_,$){_.state=l,_.outcome=$;for(var w=-1,E=_.queue.length;++w<E;)_.queue[w].callRejected($);return _},c.resolve=function(_){return _ instanceof this?_:a.resolve(new this(o),_)},c.reject=function(_){var $=new this(o);return a.reject($,_)},c.all=function(_){var $=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,E=!1;if(!w)return this.resolve([]);for(var C=new Array(w),P=0,R=-1,V=new this(o);++R<w;)O(_[R],R);return V;function O(L,ue){$.resolve(L).then(function(S){C[ue]=S,++P!==w||E||(E=!0,a.resolve(V,C))},function(S){E||(E=!0,a.reject(V,S))})}},c.race=function(_){var $=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,E=!1;if(!w)return this.resolve([]);for(var C=-1,P=new this(o);++C<w;)R=_[C],$.resolve(R).then(function(V){E||(E=!0,a.resolve(P,V))},function(V){E||(E=!0,a.reject(P,V))});var R;return P}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,c=0,m=-1,h=0,d=8;function p(_){if(!(this instanceof p))return new p(_);this.options=o.assign({level:m,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(w!==c)throw new Error(l[w]);if($.header&&s.deflateSetHeader(this.strm,$.header),$.dictionary){var E;if(E=typeof $.dictionary=="string"?a.string2buf($.dictionary):f.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(w=s.deflateSetDictionary(this.strm,E))!==c)throw new Error(l[w]);this._dict_set=!0}}function g(_,$){var w=new p($);if(w.push(_,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(_,$){var w,E,C=this.strm,P=this.options.chunkSize;if(this.ended)return!1;E=$===~~$?$:$===!0?4:0,typeof _=="string"?C.input=a.string2buf(_):f.call(_)==="[object ArrayBuffer]"?C.input=new Uint8Array(_):C.input=_,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(P),C.next_out=0,C.avail_out=P),(w=s.deflate(C,E))!==1&&w!==c)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return E===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c):E!==2||(this.onEnd(c),!(C.avail_out=0))},p.prototype.onData=function(_){this.chunks.push(_)},p.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},r.Deflate=p,r.deflate=g,r.deflateRaw=function(_,$){return($=$||{}).raw=!0,g(_,$)},r.gzip=function(_,$){return($=$||{}).gzip=!0,g(_,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),f=t("./zlib/zstream"),c=t("./zlib/gzheader"),m=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,g.windowBits);if(_!==l.Z_OK)throw new Error(u[_]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}function d(p,g){var _=new h(g);if(_.push(p,!0),_.err)throw _.msg||u[_.err];return _.result}h.prototype.push=function(p,g){var _,$,w,E,C,P,R=this.strm,V=this.options.chunkSize,O=this.options.dictionary,L=!1;if(this.ended)return!1;$=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?R.input=a.binstring2buf(p):m.call(p)==="[object ArrayBuffer]"?R.input=new Uint8Array(p):R.input=p,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(V),R.next_out=0,R.avail_out=V),(_=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(P=typeof O=="string"?a.string2buf(O):m.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,_=s.inflateSetDictionary(this.strm,P)),_===l.Z_BUF_ERROR&&L===!0&&(_=l.Z_OK,L=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&_!==l.Z_STREAM_END&&(R.avail_in!==0||$!==l.Z_FINISH&&$!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(R.output,R.next_out),E=R.next_out-w,C=a.buf2string(R.output,w),R.next_out=E,R.avail_out=V-E,E&&o.arraySet(R.output,R.output,w,E,0),this.onData(C)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(L=!0)}while((0<R.avail_in||R.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&($=l.Z_FINISH),$===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):$!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(p,g){return(g=g||{}).raw=!0,d(p,g)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,f,c,m){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+c),m);else for(var h=0;h<c;h++)l[m+h]=u[f+h]},flattenChunks:function(l){var u,f,c,m,h,d;for(u=c=0,f=l.length;u<f;u++)c+=l[u].length;for(d=new Uint8Array(c),u=m=0,f=l.length;u<f;u++)h=l[u],d.set(h,m),m+=h.length;return d}},a={arraySet:function(l,u,f,c,m){for(var h=0;h<c;h++)l[m+h]=u[f+h]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(c,m){if(m<65537&&(c.subarray&&a||!c.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(c,m));for(var h="",d=0;d<m;d++)h+=String.fromCharCode(c[d]);return h}l[254]=l[254]=1,r.string2buf=function(c){var m,h,d,p,g,_=c.length,$=0;for(p=0;p<_;p++)(64512&(h=c.charCodeAt(p)))==55296&&p+1<_&&(64512&(d=c.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(d-56320),p++),$+=h<128?1:h<2048?2:h<65536?3:4;for(m=new s.Buf8($),p=g=0;g<$;p++)(64512&(h=c.charCodeAt(p)))==55296&&p+1<_&&(64512&(d=c.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(d-56320),p++),h<128?m[g++]=h:(h<2048?m[g++]=192|h>>>6:(h<65536?m[g++]=224|h>>>12:(m[g++]=240|h>>>18,m[g++]=128|h>>>12&63),m[g++]=128|h>>>6&63),m[g++]=128|63&h);return m},r.buf2binstring=function(c){return f(c,c.length)},r.binstring2buf=function(c){for(var m=new s.Buf8(c.length),h=0,d=m.length;h<d;h++)m[h]=c.charCodeAt(h);return m},r.buf2string=function(c,m){var h,d,p,g,_=m||c.length,$=new Array(2*_);for(h=d=0;h<_;)if((p=c[h++])<128)$[d++]=p;else if(4<(g=l[p]))$[d++]=65533,h+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&h<_;)p=p<<6|63&c[h++],g--;1<g?$[d++]=65533:p<65536?$[d++]=p:(p-=65536,$[d++]=55296|p>>10&1023,$[d++]=56320|1023&p)}return f($,d)},r.utf8border=function(c,m){var h;for((m=m||c.length)>c.length&&(m=c.length),h=m-1;0<=h&&(192&c[h])==128;)h--;return h<0||h===0?m:h+l[c[h]]>m?h:m}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,a,l){for(var u=65535&s|0,f=s>>>16&65535|0,c=0;a!==0;){for(a-=c=2e3<a?2e3:a;f=f+(u=u+o[l++]|0)|0,--c;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var f=s,c=u+l;o^=-1;for(var m=u;m<c;m++)o=o>>>8^f[255&(o^a[m])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),u=t("./crc32"),f=t("./messages"),c=0,m=4,h=0,d=-2,p=-1,g=4,_=2,$=8,w=9,E=286,C=30,P=19,R=2*E+1,V=15,O=3,L=258,ue=L+O+1,S=42,T=113,v=1,Z=2,pe=3,N=4;function ae(b,te){return b.msg=f[te],te}function ee(b){return(b<<1)-(4<b?9:0)}function ge(b){for(var te=b.length;0<=--te;)b[te]=0}function G(b){var te=b.state,Y=te.pending;Y>b.avail_out&&(Y=b.avail_out),Y!==0&&(o.arraySet(b.output,te.pending_buf,te.pending_out,Y,b.next_out),b.next_out+=Y,te.pending_out+=Y,b.total_out+=Y,b.avail_out-=Y,te.pending-=Y,te.pending===0&&(te.pending_out=0))}function H(b,te){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,te),b.block_start=b.strstart,G(b.strm)}function X(b,te){b.pending_buf[b.pending++]=te}function J(b,te){b.pending_buf[b.pending++]=te>>>8&255,b.pending_buf[b.pending++]=255&te}function le(b,te){var Y,I,A=b.max_chain_length,U=b.strstart,ne=b.prev_length,re=b.nice_match,W=b.strstart>b.w_size-ue?b.strstart-(b.w_size-ue):0,ce=b.window,be=b.w_mask,de=b.prev,Re=b.strstart+L,Ze=ce[U+ne-1],Le=ce[U+ne];b.prev_length>=b.good_match&&(A>>=2),re>b.lookahead&&(re=b.lookahead);do if(ce[(Y=te)+ne]===Le&&ce[Y+ne-1]===Ze&&ce[Y]===ce[U]&&ce[++Y]===ce[U+1]){U+=2,Y++;do;while(ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&ce[++U]===ce[++Y]&&U<Re);if(I=L-(Re-U),U=Re-L,ne<I){if(b.match_start=te,re<=(ne=I))break;Ze=ce[U+ne-1],Le=ce[U+ne]}}while((te=de[te&be])>W&&--A!=0);return ne<=b.lookahead?ne:b.lookahead}function x(b){var te,Y,I,A,U,ne,re,W,ce,be,de=b.w_size;do{if(A=b.window_size-b.lookahead-b.strstart,b.strstart>=de+(de-ue)){for(o.arraySet(b.window,b.window,de,de,0),b.match_start-=de,b.strstart-=de,b.block_start-=de,te=Y=b.hash_size;I=b.head[--te],b.head[te]=de<=I?I-de:0,--Y;);for(te=Y=de;I=b.prev[--te],b.prev[te]=de<=I?I-de:0,--Y;);A+=de}if(b.strm.avail_in===0)break;if(ne=b.strm,re=b.window,W=b.strstart+b.lookahead,ce=A,be=void 0,be=ne.avail_in,ce<be&&(be=ce),Y=be===0?0:(ne.avail_in-=be,o.arraySet(re,ne.input,ne.next_in,be,W),ne.state.wrap===1?ne.adler=l(ne.adler,re,be,W):ne.state.wrap===2&&(ne.adler=u(ne.adler,re,be,W)),ne.next_in+=be,ne.total_in+=be,be),b.lookahead+=Y,b.lookahead+b.insert>=O)for(U=b.strstart-b.insert,b.ins_h=b.window[U],b.ins_h=(b.ins_h<<b.hash_shift^b.window[U+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[U+O-1])&b.hash_mask,b.prev[U&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=U,U++,b.insert--,!(b.lookahead+b.insert<O)););}while(b.lookahead<ue&&b.strm.avail_in!==0)}function j(b,te){for(var Y,I;;){if(b.lookahead<ue){if(x(b),b.lookahead<ue&&te===c)return v;if(b.lookahead===0)break}if(Y=0,b.lookahead>=O&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,Y=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),Y!==0&&b.strstart-Y<=b.w_size-ue&&(b.match_length=le(b,Y)),b.match_length>=O)if(I=a._tr_tally(b,b.strstart-b.match_start,b.match_length-O),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=O){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,Y=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else I=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(I&&(H(b,!1),b.strm.avail_out===0))return v}return b.insert=b.strstart<O-1?b.strstart:O-1,te===m?(H(b,!0),b.strm.avail_out===0?pe:N):b.last_lit&&(H(b,!1),b.strm.avail_out===0)?v:Z}function _e(b,te){for(var Y,I,A;;){if(b.lookahead<ue){if(x(b),b.lookahead<ue&&te===c)return v;if(b.lookahead===0)break}if(Y=0,b.lookahead>=O&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,Y=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=O-1,Y!==0&&b.prev_length<b.max_lazy_match&&b.strstart-Y<=b.w_size-ue&&(b.match_length=le(b,Y),b.match_length<=5&&(b.strategy===1||b.match_length===O&&4096<b.strstart-b.match_start)&&(b.match_length=O-1)),b.prev_length>=O&&b.match_length<=b.prev_length){for(A=b.strstart+b.lookahead-O,I=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-O),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=A&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,Y=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=O-1,b.strstart++,I&&(H(b,!1),b.strm.avail_out===0))return v}else if(b.match_available){if((I=a._tr_tally(b,0,b.window[b.strstart-1]))&&H(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return v}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(I=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<O-1?b.strstart:O-1,te===m?(H(b,!0),b.strm.avail_out===0?pe:N):b.last_lit&&(H(b,!1),b.strm.avail_out===0)?v:Z}function Fe(b,te,Y,I,A){this.good_length=b,this.max_lazy=te,this.nice_length=Y,this.max_chain=I,this.func=A}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(V+1),this.heap=new o.Buf16(2*E+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(b){var te;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=_,(te=b.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?S:T,b.adler=te.wrap===2?0:1,te.last_flush=c,a._tr_init(te),h):ae(b,d)}function We(b){var te=Ue(b);return te===h&&function(Y){Y.window_size=2*Y.w_size,ge(Y.head),Y.max_lazy_match=s[Y.level].max_lazy,Y.good_match=s[Y.level].good_length,Y.nice_match=s[Y.level].nice_length,Y.max_chain_length=s[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=O-1,Y.match_available=0,Y.ins_h=0}(b.state),te}function st(b,te,Y,I,A,U){if(!b)return d;var ne=1;if(te===p&&(te=6),I<0?(ne=0,I=-I):15<I&&(ne=2,I-=16),A<1||w<A||Y!==$||I<8||15<I||te<0||9<te||U<0||g<U)return ae(b,d);I===8&&(I=9);var re=new ze;return(b.state=re).strm=b,re.wrap=ne,re.gzhead=null,re.w_bits=I,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=A+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+O-1)/O),re.window=new o.Buf8(2*re.w_size),re.head=new o.Buf16(re.hash_size),re.prev=new o.Buf16(re.w_size),re.lit_bufsize=1<<A+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new o.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=te,re.strategy=U,re.method=Y,We(b)}s=[new Fe(0,0,0,0,function(b,te){var Y=65535;for(Y>b.pending_buf_size-5&&(Y=b.pending_buf_size-5);;){if(b.lookahead<=1){if(x(b),b.lookahead===0&&te===c)return v;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var I=b.block_start+Y;if((b.strstart===0||b.strstart>=I)&&(b.lookahead=b.strstart-I,b.strstart=I,H(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-ue&&(H(b,!1),b.strm.avail_out===0))return v}return b.insert=0,te===m?(H(b,!0),b.strm.avail_out===0?pe:N):(b.strstart>b.block_start&&(H(b,!1),b.strm.avail_out),v)}),new Fe(4,4,8,4,j),new Fe(4,5,16,8,j),new Fe(4,6,32,32,j),new Fe(4,4,16,16,_e),new Fe(8,16,32,32,_e),new Fe(8,16,128,128,_e),new Fe(8,32,128,256,_e),new Fe(32,128,258,1024,_e),new Fe(32,258,258,4096,_e)],r.deflateInit=function(b,te){return st(b,te,$,15,8,0)},r.deflateInit2=st,r.deflateReset=We,r.deflateResetKeep=Ue,r.deflateSetHeader=function(b,te){return b&&b.state?b.state.wrap!==2?d:(b.state.gzhead=te,h):d},r.deflate=function(b,te){var Y,I,A,U;if(!b||!b.state||5<te||te<0)return b?ae(b,d):d;if(I=b.state,!b.output||!b.input&&b.avail_in!==0||I.status===666&&te!==m)return ae(b,b.avail_out===0?-5:d);if(I.strm=b,Y=I.last_flush,I.last_flush=te,I.status===S)if(I.wrap===2)b.adler=0,X(I,31),X(I,139),X(I,8),I.gzhead?(X(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),X(I,255&I.gzhead.time),X(I,I.gzhead.time>>8&255),X(I,I.gzhead.time>>16&255),X(I,I.gzhead.time>>24&255),X(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),X(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(X(I,255&I.gzhead.extra.length),X(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(b.adler=u(b.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(X(I,0),X(I,0),X(I,0),X(I,0),X(I,0),X(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),X(I,3),I.status=T);else{var ne=$+(I.w_bits-8<<4)<<8;ne|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(ne|=32),ne+=31-ne%31,I.status=T,J(I,ne),I.strstart!==0&&(J(I,b.adler>>>16),J(I,65535&b.adler)),b.adler=1}if(I.status===69)if(I.gzhead.extra){for(A=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),G(b),A=I.pending,I.pending!==I.pending_buf_size));)X(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){A=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),G(b),A=I.pending,I.pending===I.pending_buf_size)){U=1;break}U=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,X(I,U)}while(U!==0);I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),U===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){A=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),G(b),A=I.pending,I.pending===I.pending_buf_size)){U=1;break}U=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,X(I,U)}while(U!==0);I.gzhead.hcrc&&I.pending>A&&(b.adler=u(b.adler,I.pending_buf,I.pending-A,A)),U===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&G(b),I.pending+2<=I.pending_buf_size&&(X(I,255&b.adler),X(I,b.adler>>8&255),b.adler=0,I.status=T)):I.status=T),I.pending!==0){if(G(b),b.avail_out===0)return I.last_flush=-1,h}else if(b.avail_in===0&&ee(te)<=ee(Y)&&te!==m)return ae(b,-5);if(I.status===666&&b.avail_in!==0)return ae(b,-5);if(b.avail_in!==0||I.lookahead!==0||te!==c&&I.status!==666){var re=I.strategy===2?function(W,ce){for(var be;;){if(W.lookahead===0&&(x(W),W.lookahead===0)){if(ce===c)return v;break}if(W.match_length=0,be=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,be&&(H(W,!1),W.strm.avail_out===0))return v}return W.insert=0,ce===m?(H(W,!0),W.strm.avail_out===0?pe:N):W.last_lit&&(H(W,!1),W.strm.avail_out===0)?v:Z}(I,te):I.strategy===3?function(W,ce){for(var be,de,Re,Ze,Le=W.window;;){if(W.lookahead<=L){if(x(W),W.lookahead<=L&&ce===c)return v;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=O&&0<W.strstart&&(de=Le[Re=W.strstart-1])===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]){Ze=W.strstart+L;do;while(de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&de===Le[++Re]&&Re<Ze);W.match_length=L-(Ze-Re),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=O?(be=a._tr_tally(W,1,W.match_length-O),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(be=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),be&&(H(W,!1),W.strm.avail_out===0))return v}return W.insert=0,ce===m?(H(W,!0),W.strm.avail_out===0?pe:N):W.last_lit&&(H(W,!1),W.strm.avail_out===0)?v:Z}(I,te):s[I.level].func(I,te);if(re!==pe&&re!==N||(I.status=666),re===v||re===pe)return b.avail_out===0&&(I.last_flush=-1),h;if(re===Z&&(te===1?a._tr_align(I):te!==5&&(a._tr_stored_block(I,0,0,!1),te===3&&(ge(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),G(b),b.avail_out===0))return I.last_flush=-1,h}return te!==m?h:I.wrap<=0?1:(I.wrap===2?(X(I,255&b.adler),X(I,b.adler>>8&255),X(I,b.adler>>16&255),X(I,b.adler>>24&255),X(I,255&b.total_in),X(I,b.total_in>>8&255),X(I,b.total_in>>16&255),X(I,b.total_in>>24&255)):(J(I,b.adler>>>16),J(I,65535&b.adler)),G(b),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?h:1)},r.deflateEnd=function(b){var te;return b&&b.state?(te=b.state.status)!==S&&te!==69&&te!==73&&te!==91&&te!==103&&te!==T&&te!==666?ae(b,d):(b.state=null,te===T?ae(b,-3):h):d},r.deflateSetDictionary=function(b,te){var Y,I,A,U,ne,re,W,ce,be=te.length;if(!b||!b.state||(U=(Y=b.state).wrap)===2||U===1&&Y.status!==S||Y.lookahead)return d;for(U===1&&(b.adler=l(b.adler,te,be,0)),Y.wrap=0,be>=Y.w_size&&(U===0&&(ge(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),ce=new o.Buf8(Y.w_size),o.arraySet(ce,te,be-Y.w_size,Y.w_size,0),te=ce,be=Y.w_size),ne=b.avail_in,re=b.next_in,W=b.input,b.avail_in=be,b.next_in=0,b.input=te,x(Y);Y.lookahead>=O;){for(I=Y.strstart,A=Y.lookahead-(O-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[I+O-1])&Y.hash_mask,Y.prev[I&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=I,I++,--A;);Y.strstart=I,Y.lookahead=O-1,x(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=O-1,Y.match_available=0,b.next_in=re,b.input=W,b.avail_in=ne,Y.wrap=U,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var a,l,u,f,c,m,h,d,p,g,_,$,w,E,C,P,R,V,O,L,ue,S,T,v,Z;a=s.state,l=s.next_in,v=s.input,u=l+(s.avail_in-5),f=s.next_out,Z=s.output,c=f-(o-s.avail_out),m=f+(s.avail_out-257),h=a.dmax,d=a.wsize,p=a.whave,g=a.wnext,_=a.window,$=a.hold,w=a.bits,E=a.lencode,C=a.distcode,P=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{w<15&&($+=v[l++]<<w,w+=8,$+=v[l++]<<w,w+=8),V=E[$&P];t:for(;;){if($>>>=O=V>>>24,w-=O,(O=V>>>16&255)===0)Z[f++]=65535&V;else{if(!(16&O)){if(!(64&O)){V=E[(65535&V)+($&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}L=65535&V,(O&=15)&&(w<O&&($+=v[l++]<<w,w+=8),L+=$&(1<<O)-1,$>>>=O,w-=O),w<15&&($+=v[l++]<<w,w+=8,$+=v[l++]<<w,w+=8),V=C[$&R];n:for(;;){if($>>>=O=V>>>24,w-=O,!(16&(O=V>>>16&255))){if(!(64&O)){V=C[(65535&V)+($&(1<<O)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(ue=65535&V,w<(O&=15)&&($+=v[l++]<<w,(w+=8)<O&&($+=v[l++]<<w,w+=8)),h<(ue+=$&(1<<O)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if($>>>=O,w-=O,(O=f-c)<ue){if(p<(O=ue-O)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(T=_,(S=0)===g){if(S+=d-O,O<L){for(L-=O;Z[f++]=_[S++],--O;);S=f-ue,T=Z}}else if(g<O){if(S+=d+g-O,(O-=g)<L){for(L-=O;Z[f++]=_[S++],--O;);if(S=0,g<L){for(L-=O=g;Z[f++]=_[S++],--O;);S=f-ue,T=Z}}}else if(S+=g-O,O<L){for(L-=O;Z[f++]=_[S++],--O;);S=f-ue,T=Z}for(;2<L;)Z[f++]=T[S++],Z[f++]=T[S++],Z[f++]=T[S++],L-=3;L&&(Z[f++]=T[S++],1<L&&(Z[f++]=T[S++]))}else{for(S=f-ue;Z[f++]=Z[S++],Z[f++]=Z[S++],Z[f++]=Z[S++],2<(L-=3););L&&(Z[f++]=Z[S++],1<L&&(Z[f++]=Z[S++]))}break}}break}}while(l<u&&f<m);l-=L=w>>3,$&=(1<<(w-=L<<3))-1,s.next_in=l,s.next_out=f,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=f<m?m-f+257:257-(f-m),a.hold=$,a.bits=w}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),f=1,c=2,m=0,h=-2,d=1,p=852,g=592;function _(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(S){var T;return S&&S.state?(T=S.state,S.total_in=S.total_out=T.total=0,S.msg="",T.wrap&&(S.adler=1&T.wrap),T.mode=d,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new s.Buf32(p),T.distcode=T.distdyn=new s.Buf32(g),T.sane=1,T.back=-1,m):h}function E(S){var T;return S&&S.state?((T=S.state).wsize=0,T.whave=0,T.wnext=0,w(S)):h}function C(S,T){var v,Z;return S&&S.state?(Z=S.state,T<0?(v=0,T=-T):(v=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?h:(Z.window!==null&&Z.wbits!==T&&(Z.window=null),Z.wrap=v,Z.wbits=T,E(S))):h}function P(S,T){var v,Z;return S?(Z=new $,(S.state=Z).window=null,(v=C(S,T))!==m&&(S.state=null),v):h}var R,V,O=!0;function L(S){if(O){var T;for(R=new s.Buf32(512),V=new s.Buf32(32),T=0;T<144;)S.lens[T++]=8;for(;T<256;)S.lens[T++]=9;for(;T<280;)S.lens[T++]=7;for(;T<288;)S.lens[T++]=8;for(u(f,S.lens,0,288,R,0,S.work,{bits:9}),T=0;T<32;)S.lens[T++]=5;u(c,S.lens,0,32,V,0,S.work,{bits:5}),O=!1}S.lencode=R,S.lenbits=9,S.distcode=V,S.distbits=5}function ue(S,T,v,Z){var pe,N=S.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new s.Buf8(N.wsize)),Z>=N.wsize?(s.arraySet(N.window,T,v-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(Z<(pe=N.wsize-N.wnext)&&(pe=Z),s.arraySet(N.window,T,v-Z,pe,N.wnext),(Z-=pe)?(s.arraySet(N.window,T,v-Z,Z,0),N.wnext=Z,N.whave=N.wsize):(N.wnext+=pe,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=pe))),0}r.inflateReset=E,r.inflateReset2=C,r.inflateResetKeep=w,r.inflateInit=function(S){return P(S,15)},r.inflateInit2=P,r.inflate=function(S,T){var v,Z,pe,N,ae,ee,ge,G,H,X,J,le,x,j,_e,Fe,ze,Ue,We,st,b,te,Y,I,A=0,U=new s.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return h;(v=S.state).mode===12&&(v.mode=13),ae=S.next_out,pe=S.output,ge=S.avail_out,N=S.next_in,Z=S.input,ee=S.avail_in,G=v.hold,H=v.bits,X=ee,J=ge,te=m;e:for(;;)switch(v.mode){case d:if(v.wrap===0){v.mode=13;break}for(;H<16;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(2&v.wrap&&G===35615){U[v.check=0]=255&G,U[1]=G>>>8&255,v.check=a(v.check,U,2,0),H=G=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&G)<<8)+(G>>8))%31){S.msg="incorrect header check",v.mode=30;break}if((15&G)!=8){S.msg="unknown compression method",v.mode=30;break}if(H-=4,b=8+(15&(G>>>=4)),v.wbits===0)v.wbits=b;else if(b>v.wbits){S.msg="invalid window size",v.mode=30;break}v.dmax=1<<b,S.adler=v.check=1,v.mode=512&G?10:12,H=G=0;break;case 2:for(;H<16;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(v.flags=G,(255&v.flags)!=8){S.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){S.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=G>>8&1),512&v.flags&&(U[0]=255&G,U[1]=G>>>8&255,v.check=a(v.check,U,2,0)),H=G=0,v.mode=3;case 3:for(;H<32;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.head&&(v.head.time=G),512&v.flags&&(U[0]=255&G,U[1]=G>>>8&255,U[2]=G>>>16&255,U[3]=G>>>24&255,v.check=a(v.check,U,4,0)),H=G=0,v.mode=4;case 4:for(;H<16;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.head&&(v.head.xflags=255&G,v.head.os=G>>8),512&v.flags&&(U[0]=255&G,U[1]=G>>>8&255,v.check=a(v.check,U,2,0)),H=G=0,v.mode=5;case 5:if(1024&v.flags){for(;H<16;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.length=G,v.head&&(v.head.extra_len=G),512&v.flags&&(U[0]=255&G,U[1]=G>>>8&255,v.check=a(v.check,U,2,0)),H=G=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(ee<(le=v.length)&&(le=ee),le&&(v.head&&(b=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,Z,N,le,b)),512&v.flags&&(v.check=a(v.check,Z,le,N)),ee-=le,N+=le,v.length-=le),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(ee===0)break e;for(le=0;b=Z[N+le++],v.head&&b&&v.length<65536&&(v.head.name+=String.fromCharCode(b)),b&&le<ee;);if(512&v.flags&&(v.check=a(v.check,Z,le,N)),ee-=le,N+=le,b)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(ee===0)break e;for(le=0;b=Z[N+le++],v.head&&b&&v.length<65536&&(v.head.comment+=String.fromCharCode(b)),b&&le<ee;);if(512&v.flags&&(v.check=a(v.check,Z,le,N)),ee-=le,N+=le,b)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;H<16;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(G!==(65535&v.check)){S.msg="header crc mismatch",v.mode=30;break}H=G=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),S.adler=v.check=0,v.mode=12;break;case 10:for(;H<32;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}S.adler=v.check=_(G),H=G=0,v.mode=11;case 11:if(v.havedict===0)return S.next_out=ae,S.avail_out=ge,S.next_in=N,S.avail_in=ee,v.hold=G,v.bits=H,2;S.adler=v.check=1,v.mode=12;case 12:if(T===5||T===6)break e;case 13:if(v.last){G>>>=7&H,H-=7&H,v.mode=27;break}for(;H<3;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}switch(v.last=1&G,H-=1,3&(G>>>=1)){case 0:v.mode=14;break;case 1:if(L(v),v.mode=20,T!==6)break;G>>>=2,H-=2;break e;case 2:v.mode=17;break;case 3:S.msg="invalid block type",v.mode=30}G>>>=2,H-=2;break;case 14:for(G>>>=7&H,H-=7&H;H<32;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if((65535&G)!=(G>>>16^65535)){S.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&G,H=G=0,v.mode=15,T===6)break e;case 15:v.mode=16;case 16:if(le=v.length){if(ee<le&&(le=ee),ge<le&&(le=ge),le===0)break e;s.arraySet(pe,Z,N,le,ae),ee-=le,N+=le,ge-=le,ae+=le,v.length-=le;break}v.mode=12;break;case 17:for(;H<14;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(v.nlen=257+(31&G),G>>>=5,H-=5,v.ndist=1+(31&G),G>>>=5,H-=5,v.ncode=4+(15&G),G>>>=4,H-=4,286<v.nlen||30<v.ndist){S.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;H<3;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.lens[ne[v.have++]]=7&G,G>>>=3,H-=3}for(;v.have<19;)v.lens[ne[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,Y={bits:v.lenbits},te=u(0,v.lens,0,19,v.lencode,0,v.work,Y),v.lenbits=Y.bits,te){S.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;Fe=(A=v.lencode[G&(1<<v.lenbits)-1])>>>16&255,ze=65535&A,!((_e=A>>>24)<=H);){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(ze<16)G>>>=_e,H-=_e,v.lens[v.have++]=ze;else{if(ze===16){for(I=_e+2;H<I;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(G>>>=_e,H-=_e,v.have===0){S.msg="invalid bit length repeat",v.mode=30;break}b=v.lens[v.have-1],le=3+(3&G),G>>>=2,H-=2}else if(ze===17){for(I=_e+3;H<I;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}H-=_e,b=0,le=3+(7&(G>>>=_e)),G>>>=3,H-=3}else{for(I=_e+7;H<I;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}H-=_e,b=0,le=11+(127&(G>>>=_e)),G>>>=7,H-=7}if(v.have+le>v.nlen+v.ndist){S.msg="invalid bit length repeat",v.mode=30;break}for(;le--;)v.lens[v.have++]=b}}if(v.mode===30)break;if(v.lens[256]===0){S.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,Y={bits:v.lenbits},te=u(f,v.lens,0,v.nlen,v.lencode,0,v.work,Y),v.lenbits=Y.bits,te){S.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,Y={bits:v.distbits},te=u(c,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,Y),v.distbits=Y.bits,te){S.msg="invalid distances set",v.mode=30;break}if(v.mode=20,T===6)break e;case 20:v.mode=21;case 21:if(6<=ee&&258<=ge){S.next_out=ae,S.avail_out=ge,S.next_in=N,S.avail_in=ee,v.hold=G,v.bits=H,l(S,J),ae=S.next_out,pe=S.output,ge=S.avail_out,N=S.next_in,Z=S.input,ee=S.avail_in,G=v.hold,H=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;Fe=(A=v.lencode[G&(1<<v.lenbits)-1])>>>16&255,ze=65535&A,!((_e=A>>>24)<=H);){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(Fe&&!(240&Fe)){for(Ue=_e,We=Fe,st=ze;Fe=(A=v.lencode[st+((G&(1<<Ue+We)-1)>>Ue)])>>>16&255,ze=65535&A,!(Ue+(_e=A>>>24)<=H);){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}G>>>=Ue,H-=Ue,v.back+=Ue}if(G>>>=_e,H-=_e,v.back+=_e,v.length=ze,Fe===0){v.mode=26;break}if(32&Fe){v.back=-1,v.mode=12;break}if(64&Fe){S.msg="invalid literal/length code",v.mode=30;break}v.extra=15&Fe,v.mode=22;case 22:if(v.extra){for(I=v.extra;H<I;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.length+=G&(1<<v.extra)-1,G>>>=v.extra,H-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;Fe=(A=v.distcode[G&(1<<v.distbits)-1])>>>16&255,ze=65535&A,!((_e=A>>>24)<=H);){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(!(240&Fe)){for(Ue=_e,We=Fe,st=ze;Fe=(A=v.distcode[st+((G&(1<<Ue+We)-1)>>Ue)])>>>16&255,ze=65535&A,!(Ue+(_e=A>>>24)<=H);){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}G>>>=Ue,H-=Ue,v.back+=Ue}if(G>>>=_e,H-=_e,v.back+=_e,64&Fe){S.msg="invalid distance code",v.mode=30;break}v.offset=ze,v.extra=15&Fe,v.mode=24;case 24:if(v.extra){for(I=v.extra;H<I;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}v.offset+=G&(1<<v.extra)-1,G>>>=v.extra,H-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){S.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(ge===0)break e;if(le=J-ge,v.offset>le){if((le=v.offset-le)>v.whave&&v.sane){S.msg="invalid distance too far back",v.mode=30;break}x=le>v.wnext?(le-=v.wnext,v.wsize-le):v.wnext-le,le>v.length&&(le=v.length),j=v.window}else j=pe,x=ae-v.offset,le=v.length;for(ge<le&&(le=ge),ge-=le,v.length-=le;pe[ae++]=j[x++],--le;);v.length===0&&(v.mode=21);break;case 26:if(ge===0)break e;pe[ae++]=v.length,ge--,v.mode=21;break;case 27:if(v.wrap){for(;H<32;){if(ee===0)break e;ee--,G|=Z[N++]<<H,H+=8}if(J-=ge,S.total_out+=J,v.total+=J,J&&(S.adler=v.check=v.flags?a(v.check,pe,J,ae-J):o(v.check,pe,J,ae-J)),J=ge,(v.flags?G:_(G))!==v.check){S.msg="incorrect data check",v.mode=30;break}H=G=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;H<32;){if(ee===0)break e;ee--,G+=Z[N++]<<H,H+=8}if(G!==(4294967295&v.total)){S.msg="incorrect length check",v.mode=30;break}H=G=0}v.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return h}return S.next_out=ae,S.avail_out=ge,S.next_in=N,S.avail_in=ee,v.hold=G,v.bits=H,(v.wsize||J!==S.avail_out&&v.mode<30&&(v.mode<27||T!==4))&&ue(S,S.output,S.next_out,J-S.avail_out)?(v.mode=31,-4):(X-=S.avail_in,J-=S.avail_out,S.total_in+=X,S.total_out+=J,v.total+=J,v.wrap&&J&&(S.adler=v.check=v.flags?a(v.check,pe,J,S.next_out-J):o(v.check,pe,J,S.next_out-J)),S.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(X==0&&J===0||T===4)&&te===m&&(te=-5),te)},r.inflateEnd=function(S){if(!S||!S.state)return h;var T=S.state;return T.window&&(T.window=null),S.state=null,m},r.inflateGetHeader=function(S,T){var v;return S&&S.state&&2&(v=S.state).wrap?((v.head=T).done=!1,m):h},r.inflateSetDictionary=function(S,T){var v,Z=T.length;return S&&S.state?(v=S.state).wrap!==0&&v.mode!==11?h:v.mode===11&&o(1,T,Z,0)!==v.check?-3:ue(S,T,Z,Z)?(v.mode=31,-4):(v.havedict=1,m):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,c,m,h,d,p,g,_){var $,w,E,C,P,R,V,O,L,ue=_.bits,S=0,T=0,v=0,Z=0,pe=0,N=0,ae=0,ee=0,ge=0,G=0,H=null,X=0,J=new s.Buf16(16),le=new s.Buf16(16),x=null,j=0;for(S=0;S<=15;S++)J[S]=0;for(T=0;T<h;T++)J[c[m+T]]++;for(pe=ue,Z=15;1<=Z&&J[Z]===0;Z--);if(Z<pe&&(pe=Z),Z===0)return d[p++]=20971520,d[p++]=20971520,_.bits=1,0;for(v=1;v<Z&&J[v]===0;v++);for(pe<v&&(pe=v),S=ee=1;S<=15;S++)if(ee<<=1,(ee-=J[S])<0)return-1;if(0<ee&&(f===0||Z!==1))return-1;for(le[1]=0,S=1;S<15;S++)le[S+1]=le[S]+J[S];for(T=0;T<h;T++)c[m+T]!==0&&(g[le[c[m+T]]++]=T);if(R=f===0?(H=x=g,19):f===1?(H=o,X-=257,x=a,j-=257,256):(H=l,x=u,-1),S=v,P=p,ae=T=G=0,E=-1,C=(ge=1<<(N=pe))-1,f===1&&852<ge||f===2&&592<ge)return 1;for(;;){for(V=S-ae,L=g[T]<R?(O=0,g[T]):g[T]>R?(O=x[j+g[T]],H[X+g[T]]):(O=96,0),$=1<<S-ae,v=w=1<<N;d[P+(G>>ae)+(w-=$)]=V<<24|O<<16|L|0,w!==0;);for($=1<<S-1;G&$;)$>>=1;if($!==0?(G&=$-1,G+=$):G=0,T++,--J[S]==0){if(S===Z)break;S=c[m+g[T]]}if(pe<S&&(G&C)!==E){for(ae===0&&(ae=pe),P+=v,ee=1<<(N=S-ae);N+ae<Z&&!((ee-=J[N+ae])<=0);)N++,ee<<=1;if(ge+=1<<N,f===1&&852<ge||f===2&&592<ge)return 1;d[E=G&C]=pe<<24|N<<16|P-p|0}}return G!==0&&(d[P+G]=S-ae<<24|64<<16|0),_.bits=pe,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,a=1;function l(A){for(var U=A.length;0<=--U;)A[U]=0}var u=0,f=29,c=256,m=c+1+f,h=30,d=19,p=2*m+1,g=15,_=16,$=7,w=256,E=16,C=17,P=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=new Array(2*(m+2));l(ue);var S=new Array(2*h);l(S);var T=new Array(512);l(T);var v=new Array(256);l(v);var Z=new Array(f);l(Z);var pe,N,ae,ee=new Array(h);function ge(A,U,ne,re,W){this.static_tree=A,this.extra_bits=U,this.extra_base=ne,this.elems=re,this.max_length=W,this.has_stree=A&&A.length}function G(A,U){this.dyn_tree=A,this.max_code=0,this.stat_desc=U}function H(A){return A<256?T[A]:T[256+(A>>>7)]}function X(A,U){A.pending_buf[A.pending++]=255&U,A.pending_buf[A.pending++]=U>>>8&255}function J(A,U,ne){A.bi_valid>_-ne?(A.bi_buf|=U<<A.bi_valid&65535,X(A,A.bi_buf),A.bi_buf=U>>_-A.bi_valid,A.bi_valid+=ne-_):(A.bi_buf|=U<<A.bi_valid&65535,A.bi_valid+=ne)}function le(A,U,ne){J(A,ne[2*U],ne[2*U+1])}function x(A,U){for(var ne=0;ne|=1&A,A>>>=1,ne<<=1,0<--U;);return ne>>>1}function j(A,U,ne){var re,W,ce=new Array(g+1),be=0;for(re=1;re<=g;re++)ce[re]=be=be+ne[re-1]<<1;for(W=0;W<=U;W++){var de=A[2*W+1];de!==0&&(A[2*W]=x(ce[de]++,de))}}function _e(A){var U;for(U=0;U<m;U++)A.dyn_ltree[2*U]=0;for(U=0;U<h;U++)A.dyn_dtree[2*U]=0;for(U=0;U<d;U++)A.bl_tree[2*U]=0;A.dyn_ltree[2*w]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function Fe(A){8<A.bi_valid?X(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function ze(A,U,ne,re){var W=2*U,ce=2*ne;return A[W]<A[ce]||A[W]===A[ce]&&re[U]<=re[ne]}function Ue(A,U,ne){for(var re=A.heap[ne],W=ne<<1;W<=A.heap_len&&(W<A.heap_len&&ze(U,A.heap[W+1],A.heap[W],A.depth)&&W++,!ze(U,re,A.heap[W],A.depth));)A.heap[ne]=A.heap[W],ne=W,W<<=1;A.heap[ne]=re}function We(A,U,ne){var re,W,ce,be,de=0;if(A.last_lit!==0)for(;re=A.pending_buf[A.d_buf+2*de]<<8|A.pending_buf[A.d_buf+2*de+1],W=A.pending_buf[A.l_buf+de],de++,re===0?le(A,W,U):(le(A,(ce=v[W])+c+1,U),(be=R[ce])!==0&&J(A,W-=Z[ce],be),le(A,ce=H(--re),ne),(be=V[ce])!==0&&J(A,re-=ee[ce],be)),de<A.last_lit;);le(A,w,U)}function st(A,U){var ne,re,W,ce=U.dyn_tree,be=U.stat_desc.static_tree,de=U.stat_desc.has_stree,Re=U.stat_desc.elems,Ze=-1;for(A.heap_len=0,A.heap_max=p,ne=0;ne<Re;ne++)ce[2*ne]!==0?(A.heap[++A.heap_len]=Ze=ne,A.depth[ne]=0):ce[2*ne+1]=0;for(;A.heap_len<2;)ce[2*(W=A.heap[++A.heap_len]=Ze<2?++Ze:0)]=1,A.depth[W]=0,A.opt_len--,de&&(A.static_len-=be[2*W+1]);for(U.max_code=Ze,ne=A.heap_len>>1;1<=ne;ne--)Ue(A,ce,ne);for(W=Re;ne=A.heap[1],A.heap[1]=A.heap[A.heap_len--],Ue(A,ce,1),re=A.heap[1],A.heap[--A.heap_max]=ne,A.heap[--A.heap_max]=re,ce[2*W]=ce[2*ne]+ce[2*re],A.depth[W]=(A.depth[ne]>=A.depth[re]?A.depth[ne]:A.depth[re])+1,ce[2*ne+1]=ce[2*re+1]=W,A.heap[1]=W++,Ue(A,ce,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(Le,mt){var an,bt,ln,Qe,yn,ur,wt=mt.dyn_tree,Yr=mt.max_code,Bo=mt.stat_desc.static_tree,zo=mt.stat_desc.has_stree,Do=mt.stat_desc.extra_bits,Kr=mt.stat_desc.extra_base,un=mt.stat_desc.max_length,En=0;for(Qe=0;Qe<=g;Qe++)Le.bl_count[Qe]=0;for(wt[2*Le.heap[Le.heap_max]+1]=0,an=Le.heap_max+1;an<p;an++)un<(Qe=wt[2*wt[2*(bt=Le.heap[an])+1]+1]+1)&&(Qe=un,En++),wt[2*bt+1]=Qe,Yr<bt||(Le.bl_count[Qe]++,yn=0,Kr<=bt&&(yn=Do[bt-Kr]),ur=wt[2*bt],Le.opt_len+=ur*(Qe+yn),zo&&(Le.static_len+=ur*(Bo[2*bt+1]+yn)));if(En!==0){do{for(Qe=un-1;Le.bl_count[Qe]===0;)Qe--;Le.bl_count[Qe]--,Le.bl_count[Qe+1]+=2,Le.bl_count[un]--,En-=2}while(0<En);for(Qe=un;Qe!==0;Qe--)for(bt=Le.bl_count[Qe];bt!==0;)Yr<(ln=Le.heap[--an])||(wt[2*ln+1]!==Qe&&(Le.opt_len+=(Qe-wt[2*ln+1])*wt[2*ln],wt[2*ln+1]=Qe),bt--)}}(A,U),j(ce,Ze,A.bl_count)}function b(A,U,ne){var re,W,ce=-1,be=U[1],de=0,Re=7,Ze=4;for(be===0&&(Re=138,Ze=3),U[2*(ne+1)+1]=65535,re=0;re<=ne;re++)W=be,be=U[2*(re+1)+1],++de<Re&&W===be||(de<Ze?A.bl_tree[2*W]+=de:W!==0?(W!==ce&&A.bl_tree[2*W]++,A.bl_tree[2*E]++):de<=10?A.bl_tree[2*C]++:A.bl_tree[2*P]++,ce=W,Ze=(de=0)===be?(Re=138,3):W===be?(Re=6,3):(Re=7,4))}function te(A,U,ne){var re,W,ce=-1,be=U[1],de=0,Re=7,Ze=4;for(be===0&&(Re=138,Ze=3),re=0;re<=ne;re++)if(W=be,be=U[2*(re+1)+1],!(++de<Re&&W===be)){if(de<Ze)for(;le(A,W,A.bl_tree),--de!=0;);else W!==0?(W!==ce&&(le(A,W,A.bl_tree),de--),le(A,E,A.bl_tree),J(A,de-3,2)):de<=10?(le(A,C,A.bl_tree),J(A,de-3,3)):(le(A,P,A.bl_tree),J(A,de-11,7));ce=W,Ze=(de=0)===be?(Re=138,3):W===be?(Re=6,3):(Re=7,4)}}l(ee);var Y=!1;function I(A,U,ne,re){J(A,(u<<1)+(re?1:0),3),function(W,ce,be,de){Fe(W),de&&(X(W,be),X(W,~be)),s.arraySet(W.pending_buf,W.window,ce,be,W.pending),W.pending+=be}(A,U,ne,!0)}r._tr_init=function(A){Y||(function(){var U,ne,re,W,ce,be=new Array(g+1);for(W=re=0;W<f-1;W++)for(Z[W]=re,U=0;U<1<<R[W];U++)v[re++]=W;for(v[re-1]=W,W=ce=0;W<16;W++)for(ee[W]=ce,U=0;U<1<<V[W];U++)T[ce++]=W;for(ce>>=7;W<h;W++)for(ee[W]=ce<<7,U=0;U<1<<V[W]-7;U++)T[256+ce++]=W;for(ne=0;ne<=g;ne++)be[ne]=0;for(U=0;U<=143;)ue[2*U+1]=8,U++,be[8]++;for(;U<=255;)ue[2*U+1]=9,U++,be[9]++;for(;U<=279;)ue[2*U+1]=7,U++,be[7]++;for(;U<=287;)ue[2*U+1]=8,U++,be[8]++;for(j(ue,m+1,be),U=0;U<h;U++)S[2*U+1]=5,S[2*U]=x(U,5);pe=new ge(ue,R,c+1,m,g),N=new ge(S,V,0,h,g),ae=new ge(new Array(0),O,0,d,$)}(),Y=!0),A.l_desc=new G(A.dyn_ltree,pe),A.d_desc=new G(A.dyn_dtree,N),A.bl_desc=new G(A.bl_tree,ae),A.bi_buf=0,A.bi_valid=0,_e(A)},r._tr_stored_block=I,r._tr_flush_block=function(A,U,ne,re){var W,ce,be=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(de){var Re,Ze=4093624447;for(Re=0;Re<=31;Re++,Ze>>>=1)if(1&Ze&&de.dyn_ltree[2*Re]!==0)return o;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return a;for(Re=32;Re<c;Re++)if(de.dyn_ltree[2*Re]!==0)return a;return o}(A)),st(A,A.l_desc),st(A,A.d_desc),be=function(de){var Re;for(b(de,de.dyn_ltree,de.l_desc.max_code),b(de,de.dyn_dtree,de.d_desc.max_code),st(de,de.bl_desc),Re=d-1;3<=Re&&de.bl_tree[2*L[Re]+1]===0;Re--);return de.opt_len+=3*(Re+1)+5+5+4,Re}(A),W=A.opt_len+3+7>>>3,(ce=A.static_len+3+7>>>3)<=W&&(W=ce)):W=ce=ne+5,ne+4<=W&&U!==-1?I(A,U,ne,re):A.strategy===4||ce===W?(J(A,2+(re?1:0),3),We(A,ue,S)):(J(A,4+(re?1:0),3),function(de,Re,Ze,Le){var mt;for(J(de,Re-257,5),J(de,Ze-1,5),J(de,Le-4,4),mt=0;mt<Le;mt++)J(de,de.bl_tree[2*L[mt]+1],3);te(de,de.dyn_ltree,Re-1),te(de,de.dyn_dtree,Ze-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,be+1),We(A,A.dyn_ltree,A.dyn_dtree)),_e(A),re&&Fe(A)},r._tr_tally=function(A,U,ne){return A.pending_buf[A.d_buf+2*A.last_lit]=U>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&U,A.pending_buf[A.l_buf+A.last_lit]=255&ne,A.last_lit++,U===0?A.dyn_ltree[2*ne]++:(A.matches++,U--,A.dyn_ltree[2*(v[ne]+c+1)]++,A.dyn_dtree[2*H(U)]++),A.last_lit===A.lit_bufsize-1},r._tr_align=function(A){J(A,2,3),le(A,w,ue),function(U){U.bi_valid===16?(X(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,a){if(!o.setImmediate){var l,u,f,c,m=1,h={},d=!1,p=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(E){process.nextTick(function(){$(E)})}:function(){if(o.postMessage&&!o.importScripts){var E=!0,C=o.onmessage;return o.onmessage=function(){E=!1},o.postMessage("","*"),o.onmessage=C,E}}()?(c="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(E){o.postMessage(c+E,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(E){$(E.data)},function(E){f.port2.postMessage(E)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(E){var C=p.createElement("script");C.onreadystatechange=function(){$(E),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(E){setTimeout($,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),P=0;P<C.length;P++)C[P]=arguments[P+1];var R={callback:E,args:C};return h[m]=R,l(m),m++},g.clearImmediate=_}function _(E){delete h[E]}function $(E){if(d)setTimeout($,0,E);else{var C=h[E];if(C){d=!0;try{(function(P){var R=P.callback,V=P.args;switch(V.length){case 0:R();break;case 1:R(V[0]);break;case 2:R(V[0],V[1]);break;case 3:R(V[0],V[1],V[2]);break;default:R.apply(a,V)}})(C)}finally{_(E),d=!1}}}}function w(E){E.source===o&&typeof E.data=="string"&&E.data.indexOf(c)===0&&$(+E.data.slice(c.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Sn<"u"?Sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(qm);class Ss{constructor(e){Se(this,"i",0);this.prefix=e}generate(){return`${this.prefix}-${this.i++}`}}function mn(i,e){const t=URL.createObjectURL(i);return e(t).finally(()=>URL.revokeObjectURL(t))}function Is(i){return new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error(`Can't load image ${i}`))},n.src=i})}function Yi(i){return e=>{const t=document.createElement("a");t.download=i,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let Yn=Float32Array;function Nt(i,e,t){const n=new Yn(3);return i&&(n[0]=i),e&&(n[1]=e),t&&(n[2]=t),n}function Xm(i,e,t){return t=t||new Yn(3),t[0]=i[0]-e[0],t[1]=i[1]-e[1],t[2]=i[2]-e[2],t}function Ki(i,e,t){t=t||new Yn(3);const n=i[2]*e[0]-i[0]*e[2],r=i[0]*e[1]-i[1]*e[0];return t[0]=i[1]*e[2]-i[2]*e[1],t[1]=n,t[2]=r,t}function cr(i,e){e=e||new Yn(3);const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],n=Math.sqrt(t);return n>1e-5?(e[0]=i[0]/n,e[1]=i[1]/n,e[2]=i[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let Xe=Float32Array;function Ym(i){const e=Xe;return Xe=i,e}function Km(i,e){return e=e||new Xe(16),e[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=-i[3],e[4]=-i[4],e[5]=-i[5],e[6]=-i[6],e[7]=-i[7],e[8]=-i[8],e[9]=-i[9],e[10]=-i[10],e[11]=-i[11],e[12]=-i[12],e[13]=-i[13],e[14]=-i[14],e[15]=-i[15],e}function Jm(){return new Xe(16).fill(0)}function Cs(i,e){return e=e||new Xe(16),e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function Fs(i){return i=i||new Xe(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Qm(i,e){if(e=e||new Xe(16),e===i){let $;return $=i[1],i[1]=i[4],i[4]=$,$=i[2],i[2]=i[8],i[8]=$,$=i[3],i[3]=i[12],i[12]=$,$=i[6],i[6]=i[9],i[9]=$,$=i[7],i[7]=i[13],i[13]=$,$=i[11],i[11]=i[14],i[14]=$,e}const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],f=i[2*4+0],c=i[2*4+1],m=i[2*4+2],h=i[2*4+3],d=i[3*4+0],p=i[3*4+1],g=i[3*4+2],_=i[3*4+3];return e[0]=t,e[1]=o,e[2]=f,e[3]=d,e[4]=n,e[5]=a,e[6]=c,e[7]=p,e[8]=r,e[9]=l,e[10]=m,e[11]=g,e[12]=s,e[13]=u,e[14]=h,e[15]=_,e}function Rs(i,e){e=e||new Xe(16);const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],f=i[2*4+0],c=i[2*4+1],m=i[2*4+2],h=i[2*4+3],d=i[3*4+0],p=i[3*4+1],g=i[3*4+2],_=i[3*4+3],$=m*_,w=g*h,E=l*_,C=g*u,P=l*h,R=m*u,V=r*_,O=g*s,L=r*h,ue=m*s,S=r*u,T=l*s,v=f*p,Z=d*c,pe=o*p,N=d*a,ae=o*c,ee=f*a,ge=t*p,G=d*n,H=t*c,X=f*n,J=t*a,le=o*n,x=$*a+C*c+P*p-(w*a+E*c+R*p),j=w*n+V*c+ue*p-($*n+O*c+L*p),_e=E*n+O*a+S*p-(C*n+V*a+T*p),Fe=R*n+L*a+T*c-(P*n+ue*a+S*c),ze=1/(t*x+o*j+f*_e+d*Fe);return e[0]=ze*x,e[1]=ze*j,e[2]=ze*_e,e[3]=ze*Fe,e[4]=ze*(w*o+E*f+R*d-($*o+C*f+P*d)),e[5]=ze*($*t+O*f+L*d-(w*t+V*f+ue*d)),e[6]=ze*(C*t+V*o+T*d-(E*t+O*o+S*d)),e[7]=ze*(P*t+ue*o+S*f-(R*t+L*o+T*f)),e[8]=ze*(v*u+N*h+ae*_-(Z*u+pe*h+ee*_)),e[9]=ze*(Z*s+ge*h+X*_-(v*s+G*h+H*_)),e[10]=ze*(pe*s+G*u+J*_-(N*s+ge*u+le*_)),e[11]=ze*(ee*s+H*u+le*h-(ae*s+X*u+J*h)),e[12]=ze*(pe*m+ee*g+Z*l-(ae*g+v*l+N*m)),e[13]=ze*(H*g+v*r+G*m-(ge*m+X*g+Z*r)),e[14]=ze*(ge*l+le*g+N*r-(J*g+pe*r+G*l)),e[15]=ze*(J*m+ae*r+X*l-(H*l+le*m+ee*r)),e}function ed(i,e,t){t=t||new Xe(16);const n=i[0],r=i[1],s=i[2],o=i[3],a=i[4+0],l=i[4+1],u=i[4+2],f=i[4+3],c=i[8+0],m=i[8+1],h=i[8+2],d=i[8+3],p=i[12+0],g=i[12+1],_=i[12+2],$=i[12+3],w=e[0],E=e[1],C=e[2],P=e[3],R=e[4+0],V=e[4+1],O=e[4+2],L=e[4+3],ue=e[8+0],S=e[8+1],T=e[8+2],v=e[8+3],Z=e[12+0],pe=e[12+1],N=e[12+2],ae=e[12+3];return t[0]=n*w+a*E+c*C+p*P,t[1]=r*w+l*E+m*C+g*P,t[2]=s*w+u*E+h*C+_*P,t[3]=o*w+f*E+d*C+$*P,t[4]=n*R+a*V+c*O+p*L,t[5]=r*R+l*V+m*O+g*L,t[6]=s*R+u*V+h*O+_*L,t[7]=o*R+f*V+d*O+$*L,t[8]=n*ue+a*S+c*T+p*v,t[9]=r*ue+l*S+m*T+g*v,t[10]=s*ue+u*S+h*T+_*v,t[11]=o*ue+f*S+d*T+$*v,t[12]=n*Z+a*pe+c*N+p*ae,t[13]=r*Z+l*pe+m*N+g*ae,t[14]=s*Z+u*pe+h*N+_*ae,t[15]=o*Z+f*pe+d*N+$*ae,t}function td(i,e,t){return t=t||Fs(),i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function nd(i,e){return e=e||Nt(),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}function rd(i,e,t){t=t||Nt();const n=e*4;return t[0]=i[n+0],t[1]=i[n+1],t[2]=i[n+2],t}function id(i,e,t,n){n!==i&&(n=Cs(i,n));const r=t*4;return n[r+0]=e[0],n[r+1]=e[1],n[r+2]=e[2],n}function sd(i,e,t,n,r){r=r||new Xe(16);const s=Math.tan(Math.PI*.5-.5*i),o=1/(t-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(t+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=t*n*o*2,r[15]=0,r}function od(i,e,t,n,r,s,o){return o=o||new Xe(16),o[0]=2/(e-i),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(e+i)/(i-e),o[13]=(n+t)/(t-n),o[14]=(s+r)/(r-s),o[15]=1,o}function ad(i,e,t,n,r,s,o){o=o||new Xe(16);const a=e-i,l=n-t,u=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(i+e)/a,o[9]=(n+t)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/u,o[15]=0,o}let Ct,Ot,yt;function ld(i,e,t,n){return n=n||new Xe(16),Ct=Ct||Nt(),Ot=Ot||Nt(),yt=yt||Nt(),cr(Xm(i,e,yt),yt),cr(Ki(t,yt,Ct),Ct),cr(Ki(yt,Ct,Ot),Ot),n[0]=Ct[0],n[1]=Ct[1],n[2]=Ct[2],n[3]=0,n[4]=Ot[0],n[5]=Ot[1],n[6]=Ot[2],n[7]=0,n[8]=yt[0],n[9]=yt[1],n[10]=yt[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function ud(i,e){return e=e||new Xe(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function fd(i,e,t){t=t||new Xe(16);const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],u=i[3],f=i[1*4+0],c=i[1*4+1],m=i[1*4+2],h=i[1*4+3],d=i[2*4+0],p=i[2*4+1],g=i[2*4+2],_=i[2*4+3],$=i[3*4+0],w=i[3*4+1],E=i[3*4+2],C=i[3*4+3];return i!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=f,t[5]=c,t[6]=m,t[7]=h,t[8]=d,t[9]=p,t[10]=g,t[11]=_),t[12]=o*n+f*r+d*s+$,t[13]=a*n+c*r+p*s+w,t[14]=l*n+m*r+g*s+E,t[15]=u*n+h*r+_*s+C,t}function cd(i,e){e=e||new Xe(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hd(i,e,t){t=t||new Xe(16);const n=i[4],r=i[5],s=i[6],o=i[7],a=i[8],l=i[9],u=i[10],f=i[11],c=Math.cos(e),m=Math.sin(e);return t[4]=c*n+m*a,t[5]=c*r+m*l,t[6]=c*s+m*u,t[7]=c*o+m*f,t[8]=c*a-m*n,t[9]=c*l-m*r,t[10]=c*u-m*s,t[11]=c*f-m*o,i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function md(i,e){e=e||new Xe(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dd(i,e,t){t=t||new Xe(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[2*4+0],l=i[2*4+1],u=i[2*4+2],f=i[2*4+3],c=Math.cos(e),m=Math.sin(e);return t[0]=c*n-m*a,t[1]=c*r-m*l,t[2]=c*s-m*u,t[3]=c*o-m*f,t[8]=c*a+m*n,t[9]=c*l+m*r,t[10]=c*u+m*s,t[11]=c*f+m*o,i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function pd(i,e){e=e||new Xe(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _d(i,e,t){t=t||new Xe(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[1*4+0],l=i[1*4+1],u=i[1*4+2],f=i[1*4+3],c=Math.cos(e),m=Math.sin(e);return t[0]=c*n+m*a,t[1]=c*r+m*l,t[2]=c*s+m*u,t[3]=c*o+m*f,t[4]=c*a-m*n,t[5]=c*l-m*r,t[6]=c*u-m*s,t[7]=c*f-m*o,i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function gd(i,e,t){t=t||new Xe(16);let n=i[0],r=i[1],s=i[2];const o=Math.sqrt(n*n+r*r+s*s);n/=o,r/=o,s/=o;const a=n*n,l=r*r,u=s*s,f=Math.cos(e),c=Math.sin(e),m=1-f;return t[0]=a+(1-a)*f,t[1]=n*r*m+s*c,t[2]=n*s*m-r*c,t[3]=0,t[4]=n*r*m-s*c,t[5]=l+(1-l)*f,t[6]=r*s*m+n*c,t[7]=0,t[8]=n*s*m+r*c,t[9]=r*s*m-n*c,t[10]=u+(1-u)*f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bd(i,e,t,n){n=n||new Xe(16);let r=e[0],s=e[1],o=e[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,u=s*s,f=o*o,c=Math.cos(t),m=Math.sin(t),h=1-c,d=l+(1-l)*c,p=r*s*h+o*m,g=r*o*h-s*m,_=r*s*h-o*m,$=u+(1-u)*c,w=s*o*h+r*m,E=r*o*h+s*m,C=s*o*h-r*m,P=f+(1-f)*c,R=i[0],V=i[1],O=i[2],L=i[3],ue=i[4],S=i[5],T=i[6],v=i[7],Z=i[8],pe=i[9],N=i[10],ae=i[11];return n[0]=d*R+p*ue+g*Z,n[1]=d*V+p*S+g*pe,n[2]=d*O+p*T+g*N,n[3]=d*L+p*v+g*ae,n[4]=_*R+$*ue+w*Z,n[5]=_*V+$*S+w*pe,n[6]=_*O+$*T+w*N,n[7]=_*L+$*v+w*ae,n[8]=E*R+C*ue+P*Z,n[9]=E*V+C*S+P*pe,n[10]=E*O+C*T+P*N,n[11]=E*L+C*v+P*ae,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n}function vd(i,e){return e=e||new Xe(16),e[0]=i[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=i[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $d(i,e,t){t=t||new Xe(16);const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0],t[1]=n*i[0*4+1],t[2]=n*i[0*4+2],t[3]=n*i[0*4+3],t[4]=r*i[1*4+0],t[5]=r*i[1*4+1],t[6]=r*i[1*4+2],t[7]=r*i[1*4+3],t[8]=s*i[2*4+0],t[9]=s*i[2*4+1],t[10]=s*i[2*4+2],t[11]=s*i[2*4+3],i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function wd(i,e,t){t=t||Nt();const n=e[0],r=e[1],s=e[2],o=n*i[0*4+3]+r*i[1*4+3]+s*i[2*4+3]+i[3*4+3];return t[0]=(n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0]+i[3*4+0])/o,t[1]=(n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1]+i[3*4+1])/o,t[2]=(n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2]+i[3*4+2])/o,t}function yd(i,e,t){t=t||Nt();const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0],t[1]=n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1],t[2]=n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2],t}function Ed(i,e,t){t=t||Nt();const n=Rs(i),r=e[0],s=e[1],o=e[2];return t[0]=r*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=r*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=r*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var ct=Object.freeze({__proto__:null,axisRotate:bd,axisRotation:gd,copy:Cs,create:Jm,frustum:ad,getAxis:rd,getTranslation:nd,identity:Fs,inverse:Rs,lookAt:ld,multiply:ed,negate:Km,ortho:od,perspective:sd,rotateX:hd,rotateY:dd,rotateZ:_d,rotationX:cd,rotationY:md,rotationZ:pd,scale:$d,scaling:vd,setAxis:id,setDefaultType:Ym,setTranslation:td,transformDirection:yd,transformNormal:Ed,transformPoint:wd,translate:fd,translation:ud,transpose:Qm});const Fr=5120,gn=5121,Rr=5122,Nr=5123,Pr=5124,xr=5125,Br=5126,kd=32819,Ad=32820,Td=33635,Sd=5131,Id=33640,Cd=35899,Fd=35902,Rd=36269,Nd=34042,Ns={};{const i=Ns;i[Fr]=Int8Array,i[gn]=Uint8Array,i[Rr]=Int16Array,i[Nr]=Uint16Array,i[Pr]=Int32Array,i[xr]=Uint32Array,i[Br]=Float32Array,i[kd]=Uint16Array,i[Ad]=Uint16Array,i[Td]=Uint16Array,i[Sd]=Uint16Array,i[Id]=Uint32Array,i[Cd]=Uint32Array,i[Fd]=Uint32Array,i[Rd]=Uint32Array,i[Nd]=Uint32Array}function zr(i){if(i instanceof Int8Array)return Fr;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)return gn;if(i instanceof Int16Array)return Rr;if(i instanceof Uint16Array)return Nr;if(i instanceof Int32Array)return Pr;if(i instanceof Uint32Array)return xr;if(i instanceof Float32Array)return Br;throw new Error("unsupported typed array type")}function Ps(i){if(i===Int8Array)return Fr;if(i===Uint8Array||i===Uint8ClampedArray)return gn;if(i===Int16Array)return Rr;if(i===Uint16Array)return Nr;if(i===Int32Array)return Pr;if(i===Uint32Array)return xr;if(i===Float32Array)return Br;throw new Error("unsupported typed array type")}function xs(i){const e=Ns[i];if(!e)throw new Error("unknown gl type");return e}const Ln=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Bs(...i){console.error(...i)}const Ji=new Map;function Kn(i,e){if(!i||typeof i!="object")return!1;let t=Ji.get(e);t||(t=new WeakMap,Ji.set(e,t));let n=t.get(i);if(n===void 0){const r=Object.prototype.toString.call(i);n=r.substring(8,r.length-1)===e,t.set(i,n)}return n}function Pd(i,e){return typeof WebGLBuffer<"u"&&Kn(e,"WebGLBuffer")}function zs(i,e){return typeof WebGLRenderbuffer<"u"&&Kn(e,"WebGLRenderbuffer")}function Jn(i,e){return typeof WebGLTexture<"u"&&Kn(e,"WebGLTexture")}function xd(i,e){return typeof WebGLSampler<"u"&&Kn(e,"WebGLSampler")}const Ds=35044,jt=34962,Bd=34963,zd=34660,Dd=5120,Md=5121,Ud=5122,Ld=5123,Od=5124,Gd=5125,Ms=5126,Us={attribPrefix:""};function Hd(i,e,t,n,r){i.bindBuffer(e,t),i.bufferData(e,n,r||Ds)}function Ls(i,e,t,n){if(Pd(i,e))return e;t=t||jt;const r=i.createBuffer();return Hd(i,t,r,e,n),r}function Os(i){return i==="indices"}function Wd(i){return i===Int8Array||i===Uint8Array}function jd(i){return i.length?i:i.data}const Vd=/coord|texture/i,Zd=/color|colour/i;function qd(i,e){let t;if(Vd.test(i)?t=2:Zd.test(i)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${i}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function Xd(i,e,t){return i.numComponents||i.size||qd(e,t||jd(i).length)}function Gs(i,e){if(Ln(i))return i;if(Ln(i.data))return i.data;Array.isArray(i)&&(i={data:i});let t=i.type?Dr(i.type):void 0;return t||(Os(e)?t=Uint16Array:t=Float32Array),new t(i.data)}function Yd(i){return typeof i=="number"?i:i?Ps(i):Ms}function Dr(i){return typeof i=="number"?xs(i):i||Float32Array}function Kd(i,e){return{buffer:e.buffer,numValues:2*3*4,type:Yd(e.type),arrayType:Dr(e.type)}}function Jd(i,e){const t=e.data||e,n=Dr(e.type),r=t*n.BYTES_PER_ELEMENT,s=i.createBuffer();return i.bindBuffer(jt,s),i.bufferData(jt,r,e.drawType||Ds),{buffer:s,numValues:t,type:Ps(n),arrayType:n}}function Qd(i,e,t){const n=Gs(e,t);return{arrayType:n.constructor,buffer:Ls(i,n,void 0,e.drawType),type:zr(n),numValues:0}}function e0(i,e){const t={};return Object.keys(e).forEach(function(n){if(!Os(n)){const r=e[n],s=r.attrib||r.name||r.attribName||Us.attribPrefix+n;if(r.value){if(!Array.isArray(r.value)&&!Ln(r.value))throw new Error("array.value is not array or typedarray");t[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=Kd:typeof r=="number"||typeof r.data=="number"?o=Jd:o=Qd;const{buffer:a,type:l,numValues:u,arrayType:f}=o(i,r,n),c=r.normalize!==void 0?r.normalize:Wd(f),m=Xd(r,n,u);t[s]={buffer:a,numComponents:m,type:l,normalize:c,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),i.bindBuffer(jt,null),t}function t0(i,e){return e===Dd||e===Md?1:e===Ud||e===Ld?2:e===Od||e===Gd||e===Ms?4:0}const hr=["position","positions","a_position"];function n0(i,e){let t,n;for(n=0;n<hr.length&&(t=hr[n],!(t in e||(t=Us.attribPrefix+t,t in e)));++n);n===hr.length&&(t=Object.keys(e)[0]);const r=e[t];if(!r.buffer)return 1;i.bindBuffer(jt,r.buffer);const s=i.getBufferParameter(jt,zd);i.bindBuffer(jt,null);const o=t0(i,r.type),a=s/o,l=r.numComponents||r.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function r0(i,e,t){const n=e0(i,e),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=Gs(s,"indices");r.indices=Ls(i,o,Bd),r.numElements=o.length,r.elementType=zr(o)}else r.numElements||(r.numElements=n0(i,r.attribs));return r}function $n(i){return!!i.texStorage2D}const Hs=function(){const i={},e={};function t(n){const r=n.constructor.name;if(!i[r]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}i[r]=!0}}return function(r,s){return t(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Mt={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},nn=Ln,Ws=function(){let i;return function(){return i=i||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),i}}(),Qi=6406,vt=6407,Ke=6408,es=6409,ts=6410,cn=6402,ns=34041,On=33071,i0=9728,s0=9729,It=3553,Tt=34067,zt=32879,Dt=35866,Qn=34069,o0=34070,a0=34071,l0=34072,u0=34073,f0=34074,$r=10241,wr=10240,Gn=10242,Hn=10243,rs=32882,c0=33082,h0=33083,m0=33084,d0=33085,Mr=3317,js=3314,Vs=32878,Zs=3316,qs=3315,Xs=32877,p0=37443,_0=37441,g0=37440,b0=33321,v0=36756,$0=33325,w0=33326,y0=33330,E0=33329,k0=33338,A0=33337,T0=33340,S0=33339,I0=33323,C0=36757,F0=33327,R0=33328,N0=33336,P0=33335,x0=33332,B0=33331,z0=33334,D0=33333,M0=32849,U0=35905,L0=36194,O0=36758,G0=35898,H0=35901,W0=34843,j0=34837,V0=36221,Z0=36239,q0=36215,X0=36233,Y0=36209,K0=36227,J0=32856,Q0=35907,ep=36759,tp=32855,np=32854,rp=32857,ip=34842,sp=34836,op=36220,ap=36238,lp=36975,up=36214,fp=36232,cp=36226,hp=36208,mp=33189,dp=33190,pp=36012,_p=36013,gp=35056,Ft=5120,Ye=5121,Cn=5122,Yt=5123,Fn=5124,Gt=5125,ot=5126,is=32819,ss=32820,os=33635,dt=5131,hn=36193,mr=33640,bp=35899,vp=35902,$p=36269,wp=34042,Rn=33319,Kt=33320,Nn=6403,Jt=36244,Qt=36248,Ht=36249;let dr;function er(i){if(!dr){const e={};e[Qi]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ye,dt,hn,ot]},e[es]={textureFormat:es,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ye,dt,hn,ot]},e[ts]={textureFormat:ts,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ye,dt,hn,ot]},e[vt]={textureFormat:vt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ye,dt,hn,ot,os]},e[Ke]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ye,dt,hn,ot,is,ss]},e[cn]={textureFormat:cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Gt,Yt]},e[b0]={textureFormat:Nn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ye]},e[v0]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Ft]},e[$0]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[ot,dt]},e[w0]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[ot]},e[y0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ye]},e[E0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ft]},e[x0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Yt]},e[B0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Cn]},e[z0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Gt]},e[D0]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Fn]},e[I0]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ye]},e[C0]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Ft]},e[F0]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[ot,dt]},e[R0]={textureFormat:Rn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[ot]},e[N0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ye]},e[P0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ft]},e[k0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Yt]},e[A0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Cn]},e[T0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Gt]},e[S0]={textureFormat:Kt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Fn]},e[M0]={textureFormat:vt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ye]},e[U0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ye]},e[L0]={textureFormat:vt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ye,os]},e[O0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ft]},e[G0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ot,dt,bp]},e[H0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ot,dt,vp]},e[W0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[ot,dt]},e[j0]={textureFormat:vt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ot]},e[V0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ye]},e[Z0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ft]},e[q0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Yt]},e[X0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Cn]},e[Y0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Gt]},e[K0]={textureFormat:Qt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Fn]},e[J0]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ye]},e[Q0]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ye]},e[ep]={textureFormat:Ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Ft]},e[tp]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ye,ss,mr]},e[np]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ye,is]},e[rp]={textureFormat:Ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[mr]},e[ip]={textureFormat:Ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[ot,dt]},e[sp]={textureFormat:Ke,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[ot]},e[op]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ye]},e[ap]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ft]},e[lp]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[mr]},e[up]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Yt]},e[fp]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Cn]},e[cp]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Fn]},e[hp]={textureFormat:Ht,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Gt]},e[mp]={textureFormat:cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Yt,Gt]},e[dp]={textureFormat:cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Gt]},e[pp]={textureFormat:cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ot]},e[gp]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[wp]},e[_p]={textureFormat:ns,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$p]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(r,s){const o=n.type[s];n.bytesPerElementMap[o]=r})}),dr=e}return dr[i]}function yp(i,e){const t=er(i);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function on(i){const e=er(i);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function as(i){return(i&i-1)===0}function Ep(i,e,t,n){if(!$n(i))return as(e)&&as(t);const r=er(n);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function kp(i){const e=er(i);if(!e)throw"unknown internal format";return e.textureFilterable}function Ys(i,e,t){return nn(e)?zr(e):t||Ye}function Pn(i,e,t,n,r){if(r%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(r/(e===Tt?6:1));s%1===0?(t=s,n=s):(t=r,n=1)}else if(n){if(!t&&(t=r/n,t%1))throw"can't guess dimensions"}else if(n=r/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function rn(i,e){e.colorspaceConversion!==void 0&&i.pixelStorei(p0,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&i.pixelStorei(_0,e.premultiplyAlpha),e.flipY!==void 0&&i.pixelStorei(g0,e.flipY)}function Ks(i){i.pixelStorei(Mr,4),$n(i)&&(i.pixelStorei(js,0),i.pixelStorei(Vs,0),i.pixelStorei(Zs,0),i.pixelStorei(qs,0),i.pixelStorei(Xs,0))}function Ap(i,e,t,n){n.minMag&&(t.call(i,e,$r,n.minMag),t.call(i,e,wr,n.minMag)),n.min&&t.call(i,e,$r,n.min),n.mag&&t.call(i,e,wr,n.mag),n.wrap&&(t.call(i,e,Gn,n.wrap),t.call(i,e,Hn,n.wrap),(e===zt||xd(i,e))&&t.call(i,e,rs,n.wrap)),n.wrapR&&t.call(i,e,rs,n.wrapR),n.wrapS&&t.call(i,e,Gn,n.wrapS),n.wrapT&&t.call(i,e,Hn,n.wrapT),n.minLod&&t.call(i,e,c0,n.minLod),n.maxLod&&t.call(i,e,h0,n.maxLod),n.baseLevel&&t.call(i,e,m0,n.baseLevel),n.maxLevel&&t.call(i,e,d0,n.maxLevel)}function Js(i,e,t){const n=t.target||It;i.bindTexture(n,e),Ap(i,n,i.texParameteri,t)}function Tp(i){return i=i||Mt.textureColor,nn(i)?i:new Uint8Array([i[0]*255,i[1]*255,i[2]*255,i[3]*255])}function yr(i,e,t,n,r,s){t=t||Mt.textureOptions,s=s||Ke;const o=t.target||It;if(n=n||t.width,r=r||t.height,i.bindTexture(o,e),Ep(i,n,r,s))i.generateMipmap(o);else{const a=kp(s)?s0:i0;i.texParameteri(o,$r,a),i.texParameteri(o,wr,a),i.texParameteri(o,Gn,On),i.texParameteri(o,Hn,On)}}function bn(i){return i.auto===!0||i.auto===void 0&&i.level===void 0}function Er(i,e){return e=e||{},e.cubeFaceOrder||[Qn,o0,a0,l0,u0,f0]}function kr(i,e){const n=Er(i,e).map(function(r,s){return{face:r,ndx:s}});return n.sort(function(r,s){return r.face-s.face}),n}function Ur(i,e,t,n){n=n||Mt.textureOptions;const r=n.target||It,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||Ke,u=on(l),f=n.format||u.format,c=n.type||u.type;if(rn(i,n),i.bindTexture(r,e),r===Tt){const m=t.width,h=t.height;let d,p;if(m/6===h)d=h,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===m)d=m,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(m/3===h/2)d=m/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(m/2===h/3)d=m/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const g=Ws();g?(g.canvas.width=d,g.canvas.height=d,o=d,a=d,kr(i,n).forEach(function(_){const $=p[_.ndx*2+0]*d,w=p[_.ndx*2+1]*d;g.drawImage(t,$,w,d,d,0,0,d,d),i.texImage2D(_.face,s,l,f,c,g.canvas)}),g.canvas.width=1,g.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,kr(i,n).forEach(function(_){const $=p[_.ndx*2+0]*d,w=p[_.ndx*2+1]*d;i.texImage2D(_.face,s,l,d,d,0,f,c,null),createImageBitmap(t,$,w,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(E){rn(i,n),i.bindTexture(r,e),i.texImage2D(_.face,s,l,f,c,E),bn(n)&&yr(i,e,n,o,a,l)})}))}else if(r===zt||r===Dt){const m=Math.min(t.width,t.height),h=Math.max(t.width,t.height),d=h/m;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=t.width===h?1:0,g=t.height===h?1:0;i.pixelStorei(Mr,1),i.pixelStorei(js,t.width),i.pixelStorei(Vs,0),i.pixelStorei(Xs,0),i.texImage3D(r,s,l,m,m,m,0,f,c,null);for(let _=0;_<d;++_){const $=_*m*p,w=_*m*g;i.pixelStorei(Zs,$),i.pixelStorei(qs,w),i.texSubImage3D(r,s,0,0,_,m,m,1,f,c,t)}Ks(i)}else i.texImage2D(r,s,l,f,c,t);bn(n)&&yr(i,e,n,o,a,l),Js(i,e,n)}function wn(){}function Sp(i){if(typeof document<"u"){const e=document.createElement("a");return e.href=i,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(i,location.href).origin===e}}function Ip(i,e){return e===void 0&&!Sp(i)?"anonymous":e}function Cp(i,e,t){t=t||wn;let n;if(e=e!==void 0?e:Mt.crossOrigin,e=Ip(i,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const r=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+i;Bs(l),t(l,n),r()},o=function(){t(null,n),r()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=i,n}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){t(r,s)},a={};e&&(a.mode="cors"),fetch(i,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),n=null}return n}function Qs(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap||typeof ImageData<"u"&&i instanceof ImageData||typeof HTMLElement<"u"&&i instanceof HTMLElement}function Lr(i,e,t){return Qs(i)?(setTimeout(function(){t(null,i)}),i):Cp(i,e,t)}function Or(i,e,t){t=t||Mt.textureOptions;const n=t.target||It;if(i.bindTexture(n,e),t.color===!1)return;const r=Tp(t.color);if(n===Tt)for(let s=0;s<6;++s)i.texImage2D(Qn+s,0,Ke,1,1,0,Ke,Ye,r);else n===zt||n===Dt?i.texImage3D(n,0,Ke,1,1,1,0,Ke,Ye,r):i.texImage2D(n,0,Ke,1,1,0,Ke,Ye,r)}function Fp(i,e,t,n){return n=n||wn,t=t||Mt.textureOptions,Or(i,e,t),t=Object.assign({},t),Lr(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(Ur(i,e,o,t),n(null,e,o))})}function Rp(i,e,t,n){n=n||wn;const r=t.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||Ke,a=on(o),l=t.format||a.format,u=t.type||Ye,f=t.target||It;if(f!==Tt)throw"target must be TEXTURE_CUBE_MAP";Or(i,e,t),t=Object.assign({},t);let c=6;const m=[],h=Er(i,t);let d;function p(g){return function(_,$){--c,_?m.push(_):$.width!==$.height?m.push("cubemap face img is not a square: "+$.src):(rn(i,t),i.bindTexture(f,e),c===5?Er().forEach(function(w){i.texImage2D(w,s,o,l,u,$)}):i.texImage2D(g,s,o,l,u,$),bn(t)&&i.generateMipmap(f)),c===0&&n(m.length?m:void 0,e,d)}}d=r.map(function(g,_){return Lr(g,t.crossOrigin,p(h[_]))})}function Np(i,e,t,n){n=n||wn;const r=t.src,s=t.internalFormat||t.format||Ke,o=on(s),a=t.format||o.format,l=t.type||Ye,u=t.target||Dt;if(u!==zt&&u!==Dt)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Or(i,e,t),t=Object.assign({},t);let f=r.length;const c=[];let m;const h=t.level||0;let d=t.width,p=t.height;const g=r.length;let _=!0;function $(w){return function(E,C){if(--f,E)c.push(E);else{if(rn(i,t),i.bindTexture(u,e),_){_=!1,d=t.width||C.width,p=t.height||C.height,i.texImage3D(u,h,s,d,p,g,0,a,l,null);for(let P=0;P<g;++P)i.texSubImage3D(u,h,0,0,P,d,p,1,a,l,C)}else{let P=C,R;(C.width!==d||C.height!==p)&&(R=Ws(),P=R.canvas,R.canvas.width=d,R.canvas.height=p,R.drawImage(C,0,0,d,p)),i.texSubImage3D(u,h,0,0,w,d,p,1,a,l,P),R&&P===R.canvas&&(R.canvas.width=0,R.canvas.height=0)}bn(t)&&i.generateMipmap(u)}f===0&&n(c.length?c:void 0,e,m)}}m=r.map(function(w,E){return Lr(w,t.crossOrigin,$(E))})}function Pp(i,e,t,n){n=n||Mt.textureOptions;const r=n.target||It;i.bindTexture(r,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,u=n.internalFormat||n.format||Ke,f=on(u),c=n.format||f.format,m=n.type||Ys(i,t,f.type);if(nn(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const g=xs(m);t=new g(t)}const h=yp(u,m),d=t.byteLength/h;if(d%1)throw"length wrong size for format: "+Hs(i,c);let p;if(r===zt||r===Dt)if(!s&&!o&&!a){const g=Math.cbrt(d);if(g%1!==0)throw"can't guess cube size of array of numElements: "+d;s=g,o=g,a=g}else s&&(!o||!a)?(p=Pn(i,r,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=Pn(i,r,s,a,d/o),s=p.width,a=p.height):(p=Pn(i,r,s,o,d/a),s=p.width,o=p.height);else p=Pn(i,r,s,o,d),s=p.width,o=p.height;if(Ks(i),i.pixelStorei(Mr,n.unpackAlignment||1),rn(i,n),r===Tt){const g=h/t.BYTES_PER_ELEMENT,_=d/6*g;kr(i,n).forEach($=>{const w=_*$.ndx,E=t.subarray(w,w+_);i.texImage2D($.face,l,u,s,o,0,c,m,E)})}else r===zt||r===Dt?i.texImage3D(r,l,u,s,o,a,0,c,m,t):i.texImage2D(r,l,u,s,o,0,c,m,t);return{width:s,height:o,depth:a,type:m}}function xp(i,e,t){const n=t.target||It;i.bindTexture(n,e);const r=t.level||0,s=t.internalFormat||t.format||Ke,o=on(s),a=t.format||o.format,l=t.type||o.type;if(rn(i,t),n===Tt)for(let u=0;u<6;++u)i.texImage2D(Qn+u,r,s,t.width,t.height,0,a,l,null);else n===zt||n===Dt?i.texImage3D(n,r,s,t.width,t.height,t.depth,0,a,l,null):i.texImage2D(n,r,s,t.width,t.height,0,a,l,null)}function eo(i,e,t){t=t||wn,e=e||Mt.textureOptions;const n=i.createTexture(),r=e.target||It;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Ke;i.bindTexture(r,n),r===Tt&&(i.texParameteri(r,Gn,On),i.texParameteri(r,Hn,On));let l=e.src;if(l)if(typeof l=="function"&&(l=l(i,e)),typeof l=="string")Fp(i,n,e,t);else if(nn(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||nn(l[0]))){const u=Pp(i,n,l,e);s=u.width,o=u.height}else Array.isArray(l)&&(typeof l[0]=="string"||Qs(l[0]))?r===Tt?Rp(i,n,e,t):Np(i,n,e,t):(Ur(i,n,l,e),s=l.width,o=l.height);else xp(i,n,e);return bn(e)&&yr(i,n,e,s,o,a),Js(i,n,e),n}function Bp(i,e,t,n,r,s){n=n||t.width,r=r||t.height,s=s||t.depth;const o=t.target||It;i.bindTexture(o,e);const a=t.level||0,l=t.internalFormat||t.format||Ke,u=on(l),f=t.format||u.format;let c;const m=t.src;if(m&&(nn(m)||Array.isArray(m)&&typeof m[0]=="number")?c=t.type||Ys(i,m,u.type):c=t.type||u.type,o===Tt)for(let h=0;h<6;++h)i.texImage2D(Qn+h,a,l,n,r,0,f,c,null);else o===zt||o===Dt?i.texImage3D(o,a,l,n,r,s,0,f,c,null):i.texImage2D(o,a,l,n,r,0,f,c,null)}const Gr=Bs;function zp(i){return typeof document<"u"&&document.getElementById?document.getElementById(i):null}const Wn=33984,tr=34962,Dp=34963,Mp=35713,Up=35714,Lp=35632,Op=35633,Gp=35981,to=35718,Hp=35721,Wp=35971,jp=35382,Vp=35396,Zp=35398,qp=35392,Xp=35395,nr=5126,no=35664,ro=35665,io=35666,Hr=5124,so=35667,oo=35668,ao=35669,lo=35670,uo=35671,fo=35672,co=35673,ho=35674,mo=35675,po=35676,Yp=35678,Kp=35680,Jp=35679,Qp=35682,e1=35685,t1=35686,n1=35687,r1=35688,i1=35689,s1=35690,o1=36289,a1=36292,l1=36293,Wr=5125,_o=36294,go=36295,bo=36296,u1=36298,f1=36299,c1=36300,h1=36303,m1=36306,d1=36307,p1=36308,_1=36311,rr=3553,ir=34067,jr=32879,sr=35866,Me={};function vo(i,e){return Me[e].bindPoint}function g1(i,e){return function(t){i.uniform1f(e,t)}}function b1(i,e){return function(t){i.uniform1fv(e,t)}}function v1(i,e){return function(t){i.uniform2fv(e,t)}}function $1(i,e){return function(t){i.uniform3fv(e,t)}}function w1(i,e){return function(t){i.uniform4fv(e,t)}}function $o(i,e){return function(t){i.uniform1i(e,t)}}function wo(i,e){return function(t){i.uniform1iv(e,t)}}function yo(i,e){return function(t){i.uniform2iv(e,t)}}function Eo(i,e){return function(t){i.uniform3iv(e,t)}}function ko(i,e){return function(t){i.uniform4iv(e,t)}}function y1(i,e){return function(t){i.uniform1ui(e,t)}}function E1(i,e){return function(t){i.uniform1uiv(e,t)}}function k1(i,e){return function(t){i.uniform2uiv(e,t)}}function A1(i,e){return function(t){i.uniform3uiv(e,t)}}function T1(i,e){return function(t){i.uniform4uiv(e,t)}}function S1(i,e){return function(t){i.uniformMatrix2fv(e,!1,t)}}function I1(i,e){return function(t){i.uniformMatrix3fv(e,!1,t)}}function C1(i,e){return function(t){i.uniformMatrix4fv(e,!1,t)}}function F1(i,e){return function(t){i.uniformMatrix2x3fv(e,!1,t)}}function R1(i,e){return function(t){i.uniformMatrix3x2fv(e,!1,t)}}function N1(i,e){return function(t){i.uniformMatrix2x4fv(e,!1,t)}}function P1(i,e){return function(t){i.uniformMatrix4x2fv(e,!1,t)}}function x1(i,e){return function(t){i.uniformMatrix3x4fv(e,!1,t)}}function B1(i,e){return function(t){i.uniformMatrix4x3fv(e,!1,t)}}function lt(i,e,t,n){const r=vo(i,e);return $n(i)?function(s){let o,a;!s||Jn(i,s)?(o=s,a=null):(o=s.texture,a=s.sampler),i.uniform1i(n,t),i.activeTexture(Wn+t),i.bindTexture(r,o),i.bindSampler(t,a)}:function(s){i.uniform1i(n,t),i.activeTexture(Wn+t),i.bindTexture(r,s)}}function ut(i,e,t,n,r){const s=vo(i,e),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=t+a;return $n(i)?function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Wn+o[u]);let f,c;Jn(i,l)?(f=l,c=null):(f=l.texture,c=l.sampler),i.bindSampler(t,c),i.bindTexture(s,f)})}:function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Wn+o[u]),i.bindTexture(s,l)})}}Me[nr]={Type:Float32Array,size:4,setter:g1,arraySetter:b1};Me[no]={Type:Float32Array,size:8,setter:v1,cols:2};Me[ro]={Type:Float32Array,size:12,setter:$1,cols:3};Me[io]={Type:Float32Array,size:16,setter:w1,cols:4};Me[Hr]={Type:Int32Array,size:4,setter:$o,arraySetter:wo};Me[so]={Type:Int32Array,size:8,setter:yo,cols:2};Me[oo]={Type:Int32Array,size:12,setter:Eo,cols:3};Me[ao]={Type:Int32Array,size:16,setter:ko,cols:4};Me[Wr]={Type:Uint32Array,size:4,setter:y1,arraySetter:E1};Me[_o]={Type:Uint32Array,size:8,setter:k1,cols:2};Me[go]={Type:Uint32Array,size:12,setter:A1,cols:3};Me[bo]={Type:Uint32Array,size:16,setter:T1,cols:4};Me[lo]={Type:Uint32Array,size:4,setter:$o,arraySetter:wo};Me[uo]={Type:Uint32Array,size:8,setter:yo,cols:2};Me[fo]={Type:Uint32Array,size:12,setter:Eo,cols:3};Me[co]={Type:Uint32Array,size:16,setter:ko,cols:4};Me[ho]={Type:Float32Array,size:32,setter:S1,rows:2,cols:2};Me[mo]={Type:Float32Array,size:48,setter:I1,rows:3,cols:3};Me[po]={Type:Float32Array,size:64,setter:C1,rows:4,cols:4};Me[e1]={Type:Float32Array,size:32,setter:F1,rows:2,cols:3};Me[t1]={Type:Float32Array,size:32,setter:N1,rows:2,cols:4};Me[n1]={Type:Float32Array,size:48,setter:R1,rows:3,cols:2};Me[r1]={Type:Float32Array,size:48,setter:x1,rows:3,cols:4};Me[i1]={Type:Float32Array,size:64,setter:P1,rows:4,cols:2};Me[s1]={Type:Float32Array,size:64,setter:B1,rows:4,cols:3};Me[Yp]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:rr};Me[Kp]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:ir};Me[Jp]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:jr};Me[Qp]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:rr};Me[o1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:sr};Me[a1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:sr};Me[l1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:ir};Me[u1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:rr};Me[f1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:jr};Me[c1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:ir};Me[h1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:sr};Me[m1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:rr};Me[d1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:jr};Me[p1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:ir};Me[_1]={Type:null,size:0,setter:lt,arraySetter:ut,bindPoint:sr};function or(i,e){return function(t){if(t.value)switch(i.disableVertexAttribArray(e),t.value.length){case 4:i.vertexAttrib4fv(e,t.value);break;case 3:i.vertexAttrib3fv(e,t.value);break;case 2:i.vertexAttrib2fv(e,t.value);break;case 1:i.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribPointer(e,t.numComponents||t.size,t.type||nr,t.normalize||!1,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Ut(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Hr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function ar(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Wr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Vr(i,e,t){const n=t.size,r=t.count;return function(s){i.bindBuffer(tr,s.buffer);const o=s.size||s.numComponents||n,a=o/r,l=s.type||nr,f=Me[l].size*o,c=s.normalize||!1,m=s.offset||0,h=f/r;for(let d=0;d<r;++d)i.enableVertexAttribArray(e+d),i.vertexAttribPointer(e+d,a,l,c,f,m+h*d),i.vertexAttribDivisor&&i.vertexAttribDivisor(e+d,s.divisor||0)}}const rt={};rt[nr]={size:4,setter:or};rt[no]={size:8,setter:or};rt[ro]={size:12,setter:or};rt[io]={size:16,setter:or};rt[Hr]={size:4,setter:Ut};rt[so]={size:8,setter:Ut};rt[oo]={size:12,setter:Ut};rt[ao]={size:16,setter:Ut};rt[Wr]={size:4,setter:ar};rt[_o]={size:8,setter:ar};rt[go]={size:12,setter:ar};rt[bo]={size:16,setter:ar};rt[lo]={size:4,setter:Ut};rt[uo]={size:8,setter:Ut};rt[fo]={size:12,setter:Ut};rt[co]={size:16,setter:Ut};rt[ho]={size:4,setter:Vr,count:2};rt[mo]={size:9,setter:Vr,count:3};rt[po]={size:16,setter:Vr,count:4};const z1=/ERROR:\s*\d+:(\d+)/gi;function D1(i,e="",t=0){const n=[...e.matchAll(z1)],r=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],u=l?l.index:e.length,f=e.substring(s.index,u);return[a-1,f]}));return i.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const ls=/^[ \t]*\n/;function Ao(i){let e=0;return ls.test(i)&&(e=1,i=i.replace(ls,"")),{lineOffset:e,shaderSource:i}}function M1(i,e,t,n){if(n=n||Gr,!i.getShaderParameter(t,Mp)){const s=i.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=Ao(i.getShaderSource(t)),l=`${D1(a,s,o)}
Error compiling ${Hs(i,e)}: ${s}`;return n(l),l}return""}function To(i,e,t){let n,r,s;if(typeof e=="function"&&(t=e,e=void 0),typeof i=="function")t=i,i=void 0;else if(i&&!Array.isArray(i)){const u=i;t=u.errorCallback,i=u.attribLocations,n=u.transformFeedbackVaryings,r=u.transformFeedbackMode,s=u.callback}const o=t||Gr,a=[],l={errorCallback(u,...f){a.push(u),o(u,...f)},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:s,errors:a};{let u={};Array.isArray(i)?i.forEach(function(f,c){u[f]=e?e[c]:c}):u=i||{},l.attribLocations=u}return l}const U1=["VERTEX_SHADER","FRAGMENT_SHADER"];function L1(i,e){if(e.indexOf("frag")>=0)return Lp;if(e.indexOf("vert")>=0)return Op}const O1=(i=0)=>new Promise(e=>setTimeout(e,i));function G1(i,e,t){const n=i.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=To(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const u=zp(l),f=u?u.text:l;let c=i[U1[a]];u&&u.type&&(c=L1(i,u.type)||c),l=i.createShader(c),i.shaderSource(l,Ao(f).shaderSource),i.compileShader(l),i.attachShader(n,l)}}Object.entries(r).forEach(([a,l])=>i.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),i.transformFeedbackVaryings(n,a,o||Gp))}return i.linkProgram(n),n}async function H1(i,e){const t=i.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await O1(r),r=1e3/60;while(!n(i,e))}async function W1(i,e){for(const t of Object.values(e))await H1(i,t)}function j1(i,e,t){if(t=t||Gr,!i.getProgramParameter(e,Up)){const r=i.getProgramInfoLog(e);t(`Error in program linking: ${r}`);const o=i.getAttachedShaders(e).map(a=>M1(i,i.getShaderParameter(a,i.SHADER_TYPE),a,t));return`${r}
${o.filter(a=>a).join(`
`)}`}}function So(i){const e=i.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const V1=/(\.|\[|]|\w+)/g,Z1=i=>i>="0"&&i<="9";function q1(i,e,t,n){const r=i.split(V1).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=Z1(a[0]),u=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){t[u]=e;break}else{const c=r[s++],m=c==="[",h=t[u]||(m?[]:{});t[u]=h,t=h,n[o]=n[o]||function(d){return function(p){Io(d,p)}}(h),o+=c}}}function X1(i,e){let t=0;function n(a,l,u){const f=l.name.endsWith("[0]"),c=l.type,m=Me[c];if(!m)throw new Error(`unknown type: 0x${c.toString(16)}`);let h;if(m.bindPoint){const d=t;t+=l.size,f?h=m.arraySetter(i,c,d,u,l.size):h=m.setter(i,c,d,u,l.size)}else m.arraySetter&&f?h=m.arraySetter(i,u):h=m.setter(i,u);return h.location=u,h}const r={},s={},o=i.getProgramParameter(e,to);for(let a=0;a<o;++a){const l=i.getActiveUniform(e,a);if(So(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const f=i.getUniformLocation(e,l.name);if(f){const c=n(e,l,f);r[u]=c,q1(u,c,s,r)}}return r}function Y1(i,e){const t={},n=i.getProgramParameter(e,Wp);for(let r=0;r<n;++r){const s=i.getTransformFeedbackVarying(e,r);t[s.name]={index:r,type:s.type,size:s.size}}return t}function K1(i,e){const t=i.getProgramParameter(e,to),n=[],r=[];for(let a=0;a<t;++a){r.push(a),n.push({});const l=i.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];i.getActiveUniforms(e,r,i[l]).forEach(function(f,c){n[c][u]=f})});const s={},o=i.getProgramParameter(e,jp);for(let a=0;a<o;++a){const l=i.getActiveUniformBlockName(e,a),u={index:i.getUniformBlockIndex(e,l),usedByVertexShader:i.getActiveUniformBlockParameter(e,a,Vp),usedByFragmentShader:i.getActiveUniformBlockParameter(e,a,Zp),size:i.getActiveUniformBlockParameter(e,a,qp),uniformIndices:i.getActiveUniformBlockParameter(e,a,Xp)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:n}}function Io(i,e){for(const t in e){const n=i[t];typeof n=="function"?n(e[t]):Io(i[t],e[t])}}function dn(i,...e){const t=i.uniformSetters||i,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)dn(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function J1(i,e){const t={},n=i.getProgramParameter(e,Hp);for(let r=0;r<n;++r){const s=i.getActiveAttrib(e,r);if(So(s))continue;const o=i.getAttribLocation(e,s.name),a=rt[s.type],l=a.setter(i,o,a);l.location=o,t[s.name]=l}return t}function Q1(i,e){for(const t in e){const n=i[t];n&&n(e[t])}}function us(i,e,t){t.vertexArrayObject?i.bindVertexArray(t.vertexArrayObject):(Q1(e.attribSetters||e,t.attribs),t.indices&&i.bindBuffer(Dp,t.indices))}function e_(i,e){const t=X1(i,e),n=J1(i,e),r={program:e,uniformSetters:t,attribSetters:n};return $n(i)&&(r.uniformBlockSpec=K1(i,e),r.transformFeedbackInfo=Y1(i,e)),r}function fs(i,e,t,n,r){for(const[s,o]of Object.entries(e)){const a={...r},l=t[s];Array.isArray(l)||Object.assign(a,l);const u=j1(i,o,a.errorCallback);if(u){for(const f of Object.values(e)){const c=i.getAttachedShaders(f);i.deleteProgram(f);for(const m of c)n.has(m)||i.deleteShader(m)}return u}}}function t_(i,e,t={}){const n=new Set,r=Object.fromEntries(Object.entries(e).map(([o,a])=>{const l={...t},u=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(l,a),u.forEach(n.add,n),[o,G1(i,u,l)]}));if(t.callback){W1(i,r).then(()=>{const o=fs(i,r,e,n,t);t.callback(o,o?void 0:r)});return}return fs(i,r,e,n,t)?void 0:r}function n_(i,e,t){t=To(t);function n(o,a){return Object.fromEntries(Object.entries(a).map(([l,u])=>[l,e_(o,u)]))}const r=t.callback;r&&(t.callback=(o,a)=>{r(o,o?void 0:n(i,a))});const s=t_(i,e,t);if(!(r||!s))return n(i,s)}const r_=36160,Wt=36161,i_=3553,s_=5121,o_=6402,a_=6408,l_=33190,u_=36012,f_=35056,c_=36013,h_=32854,m_=32855,d_=36194,Co=33189,Fo=6401,Ro=36168,Zr=34041,Ar=36064,lr=36096,No=36128,qr=33306,Tr=33071,Sr=9729,Po=[{format:a_,type:s_,min:Sr,wrap:Tr},{format:Zr}],_t={};_t[Zr]=qr;_t[Fo]=No;_t[Ro]=No;_t[o_]=lr;_t[Co]=lr;_t[l_]=lr;_t[u_]=lr;_t[f_]=qr;_t[c_]=qr;function p_(i,e){return _t[i]||_t[e]}const Lt={};Lt[h_]=!0;Lt[m_]=!0;Lt[d_]=!0;Lt[Zr]=!0;Lt[Co]=!0;Lt[Fo]=!0;Lt[Ro]=!0;function __(i){return Lt[i]}const g_=32;function b_(i){return i>=Ar&&i<Ar+g_}function cs(i,e,t,n){const r=r_,s=i.createFramebuffer();i.bindFramebuffer(r,s),t=t||i.drawingBufferWidth,n=n||i.drawingBufferHeight,e=e||Po;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,u){let f=l.attachment;const c=l.samples,m=l.format;let h=l.attachmentPoint||p_(m,l.internalFormat);if(h||(h=Ar+u),b_(h)&&o.push(h),!f)if(c!==void 0||__(m))f=i.createRenderbuffer(),i.bindRenderbuffer(Wt,f),c>1?i.renderbufferStorageMultisample(Wt,c,m,t,n):i.renderbufferStorage(Wt,m,t,n);else{const d=Object.assign({},l);d.width=t,d.height=n,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||Sr,d.mag=d.mag||d.minMag||Sr,d.wrapS=d.wrapS||d.wrap||Tr,d.wrapT=d.wrapT||d.wrap||Tr),f=eo(i,d)}if(zs(i,f))i.framebufferRenderbuffer(r,h,Wt,f);else if(Jn(i,f))l.layer!==void 0?i.framebufferTextureLayer(r,h,f,l.level||0,l.layer):i.framebufferTexture2D(r,h,l.target||i_,f,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(f)}),i.drawBuffers&&i.drawBuffers(o),a}function v_(i,e,t,n,r){n=n||i.drawingBufferWidth,r=r||i.drawingBufferHeight,e.width=n,e.height=r,t=t||Po,t.forEach(function(s,o){const a=e.attachments[o],l=s.format,u=s.samples;if(u!==void 0||zs(i,a))i.bindRenderbuffer(Wt,a),u>1?i.renderbufferStorageMultisample(Wt,u,l,n,r):i.renderbufferStorage(Wt,l,n,r);else if(Jn(i,a))Bp(i,a,s,n,r);else throw new Error("unknown attachment type")})}class $_{constructor(e,t,n,r){this.id=e,this.original=t,this.texture=n,this.meta=r}get width(){return this.original.width}get height(){return this.original.height}}class w_{constructor(e,t=new Ss("textures")){Se(this,"textures",new Map);this.gl=e,this.idGenerator=t}addImage(e,t){let n=t==null?void 0:t.id;if(n&&this.textures.has(n))throw new Error(`Texture with id ${n} already exists`);if(!n){for(let o=0;o<this.textures.size+5&&(n=this.idGenerator.generate(),!!this.textures.has(n));o++)n=void 0;if(!n)throw new Error("Textures overflow!")}const r=eo(this.gl,{src:e}),s=new $_(n,e,r,t.meta);return this.textures.set(n,s),s}downloadImage(e,t){return Is(e).then(n=>this.addImage(n,t))}delete(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} already deleted`);return this.gl.deleteTexture(t.texture),this.textures.delete(e),t.original}get(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} not found`);return t}has(e){return this.textures.has(e)}clear(){this.textures.forEach(e=>this.gl.deleteTexture(e.texture)),this.textures.clear()}}const y_=`#version 300 es
precision highp  float;
precision highp  int;

vec2[6] v;
vec2[6] t;

out vec2 texCoord;
void main() {
    v[0] = vec2(-1, -1);
    v[1] = vec2(1, -1);
    v[2] = vec2(1, 1);
    v[3] = vec2(1, 1);
    v[4] = vec2(-1, 1);
    v[5] = vec2(-1, -1);
    int i = gl_VertexID;
    gl_Position = vec4(v[i], 0, 1);
    t[0] = vec2(0, 0);
    t[1] = vec2(1, 0);
    t[2] = vec2(1, 1);
    t[3] = vec2(1, 1);
    t[4] = vec2(0, 1);
    t[5] = vec2(0, 0);
    texCoord = vec2(t[i].x, t[i].y);
}`,E_=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform float blur;
uniform vec2 resolution;
uniform bool dim;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    if(blur <= 0.) {
        vec4 origin = texture(stencilSampler, texCoord);
        FragColor = vec4(color, alpha * origin.a);
        return;
    }

    float sum = 0.0;
    float r = blur * 0.5;
    float scaleX = 1. / resolution.x;
    float scaleY = 1. / resolution.y;
    float from = -2.0 * r;
    float to = 2.0 * r;
    float C1 = 2. * r * r;
    float C2 = sqrt(C1 * PI);
    float channel = float(dim);
    for(float delta = from; delta <= to; delta++) {
        float x = (1. - channel) * delta;
        float y = channel * delta;
        vec2 shift = vec2(x * scaleX, y * scaleY);
        vec4 origin = texture(stencilSampler, texCoord + shift);
        float g = exp(-(x * x + y * y) / C1) / C2;
        sum += origin.a * g;
    }
    FragColor = vec4(color, alpha * sum);
}`,k_=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D textureSampler;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    FragColor = texture(textureSampler, vec2(texCoord.x, texCoord.y));
}`,pr=`float channelAlpha(int currentChannel, int channels, vec4 o);

float fillAlpha(vec4 o) {
    return o.g * o.a;
}

float strokeFullAlpha(vec4 o) {
    float a = (1. - fillAlpha(o));
    if(a == 0.0)
        return o.a * o.r;
    return o.a * o.r / a;
}

float strokeSimpleAlpha(vec4 o) {
    return o.r * o.a;
}

#define STENCIL_CHANNEL_STROKE 1
#define STENCIL_CHANNEL_FILL 2

float channelAlpha(int currentChannel, int channels, vec4 o) {
    if(currentChannel == STENCIL_CHANNEL_FILL)
        return fillAlpha(o);
    if((channels & STENCIL_CHANNEL_FILL) != 0)
        return strokeFullAlpha(o);
    return strokeSimpleAlpha(o);
}

void main();`,hs=`#version 300 es
precision highp  float;
precision highp  int;

in vec3 position;
in vec2 textureCoordinate;

uniform mat4 transform;
uniform mat4 camera;

out vec2 texCoord;
void main() {
    gl_Position = camera * transform * vec4(position, 1);

    texCoord = textureCoordinate;
}`,A_=`#version 300 es
precision highp  float;
precision highp  int;

uniform sampler2D stencilSampler;
uniform float alpha;
uniform int channel;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int channel, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    FragColor = vec4(texCoord, 0, channelAlpha(channel, origin) * alpha);
}
`;function xo(i){const e=parseInt(i.slice(1),16);return[(e>>2*8)/255,(e>>8&255)/255,(e&255)/255]}class T_{constructor(e,t,n){Se(this,"shaders");Se(this,"shadowBuffer");Se(this,"shadowProgram");Se(this,"imageProgram");Se(this,"rectangleBuffer");this.gl=e,this.textures=t,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);{const o=[{format:e.RGBA}];this.shadowBuffer=[{options:o,info:cs(e,o,e.canvas.width,e.canvas.height)},{options:o,info:cs(e,o,e.canvas.width,e.canvas.height)}]}const r=Object.entries(n),s=n_(e,Object.fromEntries(r.map(([o,{vertex:a,fragment:l}])=>[o,[a||hs,(l||A_)+pr]]).concat([["__shadow__",[y_,E_+pr]],["__image__",[hs,k_+pr]]])));this.shaders=Object.fromEntries(r.map(([o,a])=>[o,{uniforms:(l,u,f)=>a.uniforms(l,u,f),info:s[o]}])),this.shadowProgram=s.__shadow__,this.imageProgram=s.__image__,this.rectangleBuffer=r0(e,{position:[[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]].flat(),textureCoordinate:[[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]].flat()})}get size(){return{width:this.gl.canvas.width,height:this.gl.canvas.height}}resize(e,t){this.size.width==e&&this.size.height==t||(this.gl.canvas.width=e,this.gl.canvas.height=t,this.shadowBuffer.forEach(n=>{v_(this.gl,n.info,n.options,e,t)}),this.gl.viewport(0,0,e,t))}drawImage(e){this.gl.useProgram(this.imageProgram.program),this.imageProgram.uniformSetters.textureSampler(e),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawShadow(e,t,n,r,s,o){const a=this.gl,l=this.shadowBuffer[0].info;a.bindFramebuffer(a.FRAMEBUFFER,l.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.drawStencilLayer(e,t,n,{...r,position:{x:r.position.x+o.offset.x,y:r.position.y+o.offset.y}},s,!1);const u={color:xo(o.color),alpha:1,resolution:[this.size.width,this.size.height],blur:Math.min(o.blur,3600)};a.useProgram(this.shadowProgram.program);const f=this.shadowBuffer[1].info;a.bindFramebuffer(a.FRAMEBUFFER,f.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),dn(this.shadowProgram,{...u,stencilSampler:l.attachments[0],dim:0}),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),dn(this.shadowProgram,{...u,stencilSampler:f.attachments[0],dim:1}),a.drawArrays(a.TRIANGLES,0,6)}drawStencilLayer(e,t,n,r,s,o=!0){const a=this.gl;if(s.settings.type=="disabled")return;o&&s.shadow&&this.drawShadow(e,t,n,r,s,s.shadow);const l=this.shaders[s.settings.type],u={camera:ct.ortho(0,this.size.width,this.size.height,0,-100,100),transform:ct.scale(ct.rotateZ(ct.translation([r.position.x,r.position.y,0]),r.rotation),[r.width,r.height,1]),stencilSampler:e,channel:t,channels:n,alpha:s.alpha,...l.uniforms(s.settings,r,this)};a.useProgram(l.info.program),dn(l.info,u),us(a,l.info,this.rectangleBuffer),a.drawArrays(a.TRIANGLES,0,6)}drawRectImage(e,t){const n=this.gl,r=this.imageProgram,s={camera:ct.ortho(0,this.size.width,this.size.height,0,-100,100),transform:ct.scale(ct.rotateZ(ct.translation([t.position.x,t.position.y,0]),t.rotation),[t.width,t.height,1]),textureSampler:e};n.useProgram(r.program),dn(r,s),us(n,r,this.rectangleBuffer),n.drawArrays(n.TRIANGLES,0,6)}}const S_=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec2 tcoords = texCoord;
    vec4 origin = texture(stencilSampler, tcoords);
    float originAlpha = channelAlpha(channel, channels, origin);
    FragColor = vec4(color, originAlpha * alpha);
}
`,I_={fragment:S_,uniforms(i){return{color:xo(i.value)}}},C_=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D stencilSampler;
uniform vec3 colors[4];
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec3 color = (1.0 - texCoord.x) * colors[0];
    color += (texCoord.x) * colors[1];
    color += (1.0 - texCoord.y) * colors[2];
    color += (texCoord.y) * colors[3];
    FragColor = vec4(color, channelAlpha(channel, channels, origin) * alpha);
}
`,F_={fragment:C_,uniforms(i){return{colors:[[1,0,0],[0,1,0],[0,1,1],[0,0,1]].flat()}}},R_=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform sampler2D patternSampler;
uniform float alpha;
uniform int channel;
uniform int channels;
uniform mat4 patternTransform;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec4 patternCoord = patternTransform * vec4(texCoord, 0, 1);
    FragColor = texture(patternSampler, patternCoord.xy / patternCoord.w);
    FragColor.a *= channelAlpha(channel, channels, origin) * alpha;
}
`;function N_(i){return{fragment:R_,uniforms(e,t,n){const r=n.textures.get(i.getTexture(e.name)),s=e.scale=="font"?ct.identity():ct.scaling([t.width/(r.width*e.scale.x),t.height/(r.height*e.scale.y),1]);return{patternSampler:r.texture,patternTransform:ct.multiply(ct.rotateZ(ct.translation([e.shift.x/r.width,e.shift.y/r.height,0]),e.rotate/180*Math.PI),s)}}}}function P_(i,e){switch(e){case"As is":return i;case"UPPER":return i.toUpperCase();case"lower":return i.toLowerCase()}throw new Error(`Unsupported text case type: ${e}`)}class x_{constructor(e=document.createElement("canvas").getContext("2d")){this.ctx=e}set baseline(e){this.ctx.textBaseline=e}get baseline(){return this.ctx.textBaseline}set align(e){this.ctx.textAlign=e}get align(){return this.ctx.textAlign}measureText(e,t,n){n&&t&&(this.ctx.font=Vt(t,n));const r=this.ctx.measureText(e);return{advancedWidth:r.width,width:r.actualBoundingBoxLeft+r.actualBoundingBoxRight,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,boundingBox:{top:r.actualBoundingBoxAscent,bottom:r.actualBoundingBoxDescent,left:r.actualBoundingBoxLeft,right:r.actualBoundingBoxRight}}}}const Xr=class{constructor(e=new x_,t=100){Se(this,"heightMeasuresCache",new Map);this.measurer=e,this.interpolationPoint=t,e.baseline="bottom"}drawTextInfo(e,t,n,r){const s=P_(e,t.case).split(`
`);return this.drawLinesInfo(s,t.font,t.strokeWidth/100,t.align,t.baseline,t.lineSpacing,n,r)}fontSize(e,t,n,r,s,o,a){if(e<2||t<2)return Math.min(e,t);const l=n.map($=>{const w=this.measurer.measureText($,r,o);return{line:$,width:w.width}}).reduce(($,w)=>w.width>$.width?w:$).line,u=s*o,f=this.measureHeight(r,o)+u/2,m=(this.linesHeight(f,n.length,a)+u/2)/o,p=(this.measurer.measureText(l,r,o).width+u)/o,g=e/p,_=t/m;return Math.min(_,g)}measureHeight(e,t){return this.measureReference(e,t).height}measureReference(e,t){const n=Vt(e,t),r=this.heightMeasuresCache.get(n);if(r)return r;const s=this.measurer.measureText(Xr.MAX_HEIGHT_TEXT_EXAMPLE,e,t);return this.heightMeasuresCache.set(n,s),s}linesHeight(e,t,n){return e*(t+n*(t-1))}drawLinesInfo(e,t,n,r,s,o,a,l){const u=this.fontSize(a-2,l-2,e,t,n,this.interpolationPoint,o),f=n*u,c=f/2,m=r=="left"?c:r=="right"?a-c:a/2|0,h=this.measureReference(t,u),d=h.height+f/2,p=d*(1+o),g=this.linesHeight(d,e.length,o)+f/2,_=s=="top"?0:s=="middle"?(l-g)/2|0:l-g,$=d+_-h.boundingBox.bottom,w=new Array;this.measurer.align=r;for(let E=0;E<e.length;E++){const C=e[E],P=this.measurer.measureText(C,t,u).boundingBox,R=$+E*p;let V=m;switch(r){case"center":V+=(P.left-P.right)/2;break;case"left":V+=P.left;break;case"right":V-=P.right;break}w.push({text:C,x:V,y:R})}return{lines:w,font:t,fontSize:u,lineWidth:f,stringHeight:d,totalHeight:g,baseline:"bottom",align:r}}};let Bn=Xr;Se(Bn,"MAX_HEIGHT_TEXT_EXAMPLE","AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZzАаБбВвГгДдЕеЁёЖжЗзИиЙйКкЛлМмНнОоПпРрСсТтУуФфХхЦцЧчШшЩщЪъЫыЬьЭэЮюЯя");class B_{constructor(e,t=document.createElement("canvas").getContext("2d")){Se(this,"textManager");Se(this,"stencilTexture");Se(this,"ctx");if(this.gl=e,!t)throw new Error("TextStencilService require not null ctx: CanvasRenderingContext2D.");this.ctx=t,this.textManager=new Bn;const n=e.createTexture();if(!n)throw new Error("Failed to create WebGL texture in TextStencilService.");this.stencilTexture=n}getTextStencil(e,t,n,r){const s=Math.ceil(Math.abs(n)),o=Math.ceil(Math.abs(r)),a=this.textManager.drawTextInfo(e,t,s,o),l=this.ctx.canvas;l.height!=o&&(l.height=o),l.width!=s&&(l.width=s),this.ctx.clearRect(0,0,s,o),this.draw(this.ctx,a);const u=this.gl;return Ur(u,this.stencilTexture,l,{wrap:u.CLAMP_TO_EDGE,min:u.LINEAR}),{stencil:this.stencilTexture,info:a}}draw(e,t,n=!1){e.lineJoin="round",e.miterLimit=2,e.textAlign=t.align,e.textBaseline=t.baseline,e.lineWidth=t.lineWidth,e.font=Vt(t.font,t.fontSize),e.strokeStyle="#ff0000",e.fillStyle="#00ff00";const r=t.lines;for(let s=0;s<r.length;s++){const o=r[s];e.strokeText(o.text,o.x,o.y)}for(let s=0;s<r.length;s++){const o=r[s];e.fillText(o.text,o.x,o.y)}if(n){e.strokeStyle="#ffffff",e.lineWidth=1;for(let s=0;s<r.length;s++){const o=r[s],a=o.y,l=o.x,u=e.measureText(o.text);console.debug(o),console.debug(u),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke(),e.moveTo(l,a-u.actualBoundingBoxAscent),e.lineTo(l,a+u.actualBoundingBoxDescent),e.stroke(),e.strokeRect(l-u.actualBoundingBoxLeft,a-u.actualBoundingBoxAscent,u.actualBoundingBoxLeft+u.actualBoundingBoxRight,u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}e.lineWidth=3,e.strokeRect(0,0,e.canvas.width,e.canvas.height)}}}class z_{constructor(e,t){Se(this,"textService");Se(this,"graphics");this.gl=e,this.textures=t,this.textService=new B_(e),this.graphics=new T_(e,t,{color:I_,pattern:N_(pt),gradient4:F_})}drawFrame(e){this.graphics.resize(e.width,e.height);const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.blocks.forEach(n=>this.drawBlock(e,n))}drawBlock(e,t){const{graphics:n,textures:r}=this,s=this.blockSize(e,t),{container:o,content:a}=t;switch(a.type){case"image":{const l=r.get(a.value.id);switch(o.type){case"global":{const u=n.size;n.drawRectImage(l.texture,{...s,position:{x:u.width/2,y:u.height/2},rotation:0});break}case"rectangle":{n.drawRectImage(l.texture,o.value);break}}break}case"text":{const{text:l,style:u}=a.value,f=this.textService.getTextStencil(l,u,s.width,s.height),c=this.textRectangle(e,t,s,u.baseline,f.info),m=u.stroke.settings.type!=="disabled",h=u.fill.settings.type!=="disabled",d=+m*1|+h*2;m&&n.drawStencilLayer(f.stencil,1,d,c,u.stroke),h&&n.drawStencilLayer(f.stencil,2,d,c,u.fill);break}}}blockSize(e,t){const n=t.container,r=t.content;if(n.type=="rectangle")return n.value;if(r.type=="text"){const s=r.value.text.split(`
`),o=s.length,a=Math.max(...s.map(l=>l.length));return{width:e.width*n.value.maxWidth,height:e.height*Math.max(n.value.minHeight,Math.min(n.value.maxHeight,o*(.175+Math.max(-.05,.03*(2.5-a/10)))))}}return{width:e.width*n.value.maxWidth,height:e.height*n.value.maxHeight}}textRectangle(e,t,n,r,s){const o=t.container;if(o.type=="rectangle")return o.value;const a=2/9,l=n.height/2+s.fontSize*a,u=r=="top"?l:r=="middle"?e.height/2:e.height-l;return{...n,rotation:0,position:{x:e.width/2,y:u}}}}function D_(i,e){if(!e)return 1;if(i===e)return 0;const[t,n,r]=i.split(".").map(l=>Number(l)),[s,o,a]=i.split(".").map(l=>Number(l));return t<s?-1:t>s?1:n<o?-1:n>o?1:r<a?-1:r>a?1:0}const jn=class{static fromFile(e){return new _n().loadAsync(e).then(n=>{const r=n.file("index.json");return r?r.async("string").then(s=>{const o=JSON.parse(s,(a,l)=>(a==="container"&&l.type==="global"&&(l.value.minHeight=.1),l));if(D_(this.FormatVersion,o.formatVersion)==-1)throw new zn(`application version ${this.FormatVersion} lower than file version ${o.formatVersion}`);return Promise.all([Promise.all(o.resources.images.map(a=>{const l=n.file(this.imageFilepath(a));if(!l)throw new Error(`Not found image with id ${a}`);return l.async("blob").then(u=>({id:a,blob:u}))})),Promise.all((o.resources.patterns||[]).map(a=>{const l=n.file(this.patternFilepath(a));if(!l)throw new Error(`Not found pattern with id ${a}`);return l.async("blob").then(u=>({name:a,blob:u}))}))]).then(([a,l])=>({meme:o.meme,resources:{images:a,patterns:l}}))}):jn.zeroVersion(n).then(jn.fromV0_2_0ToV0_2_1)})}static fromV0_2_0ToV0_2_1(e){return{...e,resources:{...e.resources,patterns:[]}}}static toFile(e){const t=new _n;e.resources.images.forEach(({id:r,blob:s})=>{t.file(this.imageFilepath(r),s,{binary:!0})}),e.resources.patterns.forEach(({name:r,blob:s})=>{t.file(this.patternFilepath(r),s,{binary:!0})});const n={meme:e.meme,formatVersion:this.FormatVersion,editorVersion:this.EditorVersion,resources:{images:e.resources.images.map(r=>r.id),patterns:e.resources.patterns.map(r=>r.name)}};return t.file("index.json",JSON.stringify(n)),t.generateAsync({type:"blob"})}static imageFilepath(e){return`resources/images/${e}.png`}static patternFilepath(e){return`resources/patterns/${e}.png`}static zeroVersion(e){const t=e.file("text.json");if(!t)throw new zn("Unknown format");const n=t.comment;return t.async("string").then(r=>{const s=JSON.parse(r),o=e.file(/.*\.png/),a=new Array(o.length);return Promise.all(o.map(l=>l.async("blob").then(u=>{const f=+l.name.substring(0,l.name.length-4);return this.imageSizes(u).then(({width:c,height:m})=>{const h={id:`old-frame-${f}`,blocks:[{id:`old-frame-${f}-background`,container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:l.name}}}],height:m,width:c};a[f]=h}).then(()=>({id:l.name,blob:u}))}))).then(l=>{for(let u=0;u<s.length;u++){const f=s[u],c=a[u];if(n)switch(n){case"v0.0.3":c.blocks.push(...f.textContent.map((m,h)=>{const d=m.box,p=Et.mergePartials(Et.DefaultStyle(),m.style);return{id:`old-frame-${u}-block-${h}`,container:m.main?{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}}:{type:"rectangle",value:{height:d.height,width:d.width,position:{x:d.x,y:d.y},rotation:0}},content:{type:"text",value:{text:m.text,style:_r(p,m.main)}}}}));break;case"v0.0.4":c.blocks.push(...f.textContent.map((m,h)=>{const d=m.box,p=Et.mergePartials(Et.DefaultStyle(),m.style);return{id:`old-frame-${u}-block-${h}`,container:m.main?{type:"global",value:{maxHeight:.4,minHeight:.1,maxWidth:.96}}:{type:"rectangle",value:{height:d._height,width:d._width,position:{x:d.transform.x,y:d.transform.y},rotation:d.transform.rotate}},content:{type:"text",value:{text:m.text,style:_r(p,m.main)}}}}));break;default:throw new zn(`Unexpected legacy version ${n}`)}else{const m=typeof f=="string"?f:f.text,h=typeof f=="string"?Et.DefaultStyle():f.textContent.style,d={text:m,style:_r(Et.mergePartials(Et.DefaultStyle(),h),!0)};c.blocks.push({id:`old-frame-${u}-block-0`,container:{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}},content:{type:"text",value:d}})}}return{meme:{frames:a},resources:{images:l}}})})}static imageSizes(e){return mn(e,Is)}};let en=jn;Se(en,"FormatVersion","0.2.1"),Se(en,"EditorVersion","v0.2.2");class zn extends Error{constructor(e,t){super(`Unsupported version: ${e}`,{cause:t})}}function _r(i,e){var n;const t=(n=i.shadow)!=null&&n.enabled?{blur:i.shadow.blur,color:i.shadow.color,offset:i.shadow.offset}:void 0;return{align:"center",baseline:e?"bottom":"middle",case:i.case,experimental:{},fill:{alpha:1,shadow:t,settings:ms(i.fill)},stroke:{alpha:1,shadow:t,settings:ms(i.stroke)},lineSpacing:i.experimental.lineWidthCoefficient*(i.experimental.lineSpacingCoefficient-.5),strokeWidth:i.experimental.lineWidthCoefficient*100,font:i.font}}function ms(i){switch(i.type){case"color":return{type:"color",value:i.name};case"pattern":return{type:"pattern",name:i.name,rotate:i.patternSettings.rotate,scale:i.patternSettings.scale,shift:i.patternSettings.shift};case"none":return{type:"disabled"};default:throw new zn(`Failed convert old brush ${JSON.stringify(i)} to material settings`)}}var Et;(i=>{function e(){return{case:"UPPER",fill:{name:"#ffffff",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},stroke:{name:"#000000",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},name:"custom",font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},shadow:{enabled:!1,color:"#000000",blur:10,offset:{x:0,y:0}},experimental:{lineSpacingCoefficient:.5,lineWidthCoefficient:.1385,interpolationPoint:100}}}i.DefaultStyle=e;function t(r){return r!==null&&typeof r=="object"}function n(r,s){for(const o in r){const a=s[o],l=r[o];t(l)&&(!a||t(a))?s[o]=n(l,a||{}):a===void 0&&(s[o]=l)}return s}i.mergePartials=n})(Et||(Et={}));function M_(i){const e=new Set(Object.keys(i));return["empty","await"].every(t=>e.has(t))}function U_(i){return Object.values(i).every(M_)}class L_{constructor(e,t,n,r,s){Se(this,"textures");Se(this,"drawer");Se(this,"meme",{frames:[]});Se(this,"activeFrame");Se(this,"activeBlock");Se(this,"inUpdate",{meme:!1,frame:!1,block:!1});Se(this,"gl");Se(this,"backgroundTasks",new Map);Se(this,"placeholdersTextures",new Array);Se(this,"usedImages",new Map);Se(this,"blockIdGenerator",new Ss("v.0.2.0-"+Date.now().toString()+"-"));Se(this,"setBackground",e=>{const t=new FileReader,n=new Promise((r,s)=>{t.addEventListener("load",()=>r(t.result)),t.addEventListener("error",()=>s(t.error))});t.readAsDataURL(e),this.runTask("Меняем фон",n.then(r=>this.textures.downloadImage(r,{meta:{source:"user",type:"image"}}).then(s=>{this.removeImageUsage(this.activeFrame.blocks[0]),this.activeFrame.blocks[0].content={type:"image",value:{id:s.id}},this.activeFrame.width=s.width,this.activeFrame.height=s.height,this.addImageUsage(this.activeFrame.blocks[0]),this.frameUpdated()})))});Se(this,"drawPreviewAsync",G_(e=>{this.drawer.drawFrame(e),this.drawPreview(e)},250));Se(this,"zipCanvas",document.createElement("canvas"));Se(this,"zipCtx",this.zipCanvas.getContext("2d"));this.stores=e;const o=t.getContext("webgl2",{premultipliedAlpha:!1});if(!o)throw new Error("Failed to create WebGL2 context!");this.gl=o,this.textures=new w_(o),this.drawer=new z_(o,this.textures),this.runTask("Загрузка ресурсов",Promise.all(n.map(({name:l,url:u})=>this.textures.downloadImage(u,{id:l,wrap:o.REPEAT,meta:{source:"default",type:"pattern"}}).then(f=>[l,f]))).then(l=>l.map(([u,f])=>({name:u,textureId:f.id}))).then(l=>pt.addPattern(...l))),this.runTask("Загрузка шрифтов",Lc()),this.runTask("Загрузка плейсхолдеров",Promise.all(Object.entries(r).map(([l,{empty:u}])=>Promise.all(u.map(({name:f,url:c})=>this.textures.downloadImage(c,{id:`placeholder-${l}-${f}`,meta:{source:"default",type:"image"}}))).then(f=>[l,f]))).then(Object.fromEntries).then(l=>this.placeholdersTextures=l[s]??l.default).then(()=>this.deleteFrame(this.activeFrame)).then(()=>this.draw(this.activeFrame,!0)));const a=O_(()=>this.draw());e.meme.subscribe(l=>{this.inUpdate.meme||(this.meme=l)}),e.frame.subscribe(l=>{a(),!this.inUpdate.frame&&(this.activeFrame=l)}),e.block.subscribe(l=>{a(),!this.inUpdate.block&&(this.activeBlock=l)})}get busy(){return this.backgroundTasks.size!=0}get currentTask(){return this.busy?this.backgroundTasks.values().next().value:""}runTask(e,t){return this.backgroundTasks.set(t,e),this.stores.busy.set(this.currentTask),t.finally(()=>{this.backgroundTasks.delete(t),this.stores.busy.set(this.currentTask)}),t}addImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;let r=this.usedImages.get(t);r||this.usedImages.set(t,r=new Set),r.add(e)}removeImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;const r=this.usedImages.get(t);r&&(r.delete(e),r.size==0&&this.textures.delete(t))}memeUpdated(){this.inUpdate.meme=!0,this.stores.meme.set(this.meme),this.inUpdate.meme=!1}frameUpdated(){this.inUpdate.frame=!0,this.stores.frame.set(this.activeFrame),this.inUpdate.frame=!1}blockUpdated(){this.inUpdate.block=!0,this.stores.block.set(this.activeBlock),this.inUpdate.block=!1}shiftBlock(e,t){const n=this.activeFrame.blocks,r=n.indexOf(e);let s=-1;const o=n.length;for(let a=r+t;a>0&&a<o;a+=t)if(n[a].content.type=="text"){s=a;break}s!=-1&&(n[r]=n[s],n[s]=e,this.frameUpdated())}shiftFrame(e,t){const n=this.meme.frames,r=n.indexOf(e),s=r+t;s<0||s>=n.length||(n[r]=n[s],n[s]=e,this.memeUpdated())}addBlock(e=this.activeBlock){e=tn(e),e.id=this.blockIdGenerator.generate(),e.content.type==="text"&&(e.content.value.text="Текст",e.container.type==="global"&&(e.content.value.style.baseline="middle",e.content.value.style.align="center"));const t=this.activeFrame;e.container={type:"rectangle",value:{width:t.width*.5|0,height:t.height*.5|0,position:{x:t.width*.5|0,y:t.height*.5|0},rotation:0}},this.activeFrame.blocks.push(e),this.frameUpdated(),this.activeBlock=e,this.blockUpdated()}newFrame(e){var n,r;const t={...tn(((r=(n=this.activeBlock)==null?void 0:n.content)==null?void 0:r.type)==="text"?this.activeBlock.content.value.style:Es),baseline:"bottom"};return{id:this.blockIdGenerator.generate(),blocks:[{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:e.id}}},{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxWidth:.96,maxHeight:.4,minHeight:0}},content:{type:"text",value:{text:"",style:t}}}],height:e.height,width:e.width}}copyFrame(e){const t=tn(e);return t.id=this.blockIdGenerator.generate(),e.blocks.forEach(n=>n.id=this.blockIdGenerator.generate()),t}addFrame(e){const t=e?this.copyFrame(e):this.newFrame(this.placeholdersTextures[Math.floor(Math.random()*this.placeholdersTextures.length)]);return this.meme.frames.push(t),this.activeFrame=t,t.blocks.forEach(n=>this.addImageUsage(n)),this.memeUpdated(),this.frameUpdated(),t}deleteBlock(e){if(e.id==this.activeBlock.id){const t=this.activeFrame.blocks.find(n=>n.id!=e.id&&n.content.type==="text");t?(this.activeBlock=t,this.blockUpdated()):this.addBlock()}this.removeImageUsage(e),this.activeFrame.blocks.splice(this.activeFrame.blocks.indexOf(e),1),this.frameUpdated()}deleteFrame(e){if(e.id==this.activeFrame.id){const t=this.meme.frames.find(n=>n.id!=e.id);t?(this.activeFrame=t,this.frameUpdated()):this.addFrame()}this.meme.frames.splice(this.meme.frames.indexOf(e),1),e.blocks.forEach(t=>this.removeImageUsage(t)),this.memeUpdated()}copyFrameToClipboard(){return this.runTask("Копируем",this.frameBlob(this.activeFrame).then(e=>{window.navigator.clipboard.write([new ClipboardItem({[e.type]:e})])}))}frameBlob(e){return this.drawer.drawFrame(e),gr(this.gl.canvas)}drawPreview(e){var t,n;(n=(t=this.stores.previews.value)[e.id])==null||n.call(t,this.gl.canvas)}draw(e=this.activeFrame,t=!1){this.busy&&!t||(this.drawer.drawFrame(e),t?this.drawPreview(e):this.drawPreviewAsync(e))}renderMeme(){return this.runTask("Пакуем мем",Promise.all(this.meme.frames.map(e=>this.frameBlob(e))).then(e=>{if(this.drawer.drawFrame(this.activeFrame),e.length==1)return{ext:"png",blob:e[0]};const t=new _n,n=e.length.toString().length;return e.forEach((r,s)=>{t.file(`${(s+1).toString().padStart(n,"0")}.png`,r,{binary:!0})}),t.generateAsync({type:"blob"}).then(r=>({ext:"zip",blob:r}))}))}getImagesList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).map(n=>n.type=="image"?this.textures.get(n.value.id):"").filter(n=>n&&n.meta.source=="user"&&n.meta.type=="image"))))}getPatternsList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).flatMap(n=>{if(n.type!="text")return[];const r=[],s=n.value.style;return s.fill.settings.type=="pattern"&&r.push(s.fill.settings.name),s.stroke.settings.type=="pattern"&&r.push(s.stroke.settings.name),r}).filter(n=>n)))).map(t=>({name:t,texture:this.textures.get(pt.getTexture(t))})).filter(({texture:t})=>t.meta.source=="user")}exportMeme(){const e=this.getImagesList(),t=this.getPatternsList();return this.runTask("Пакуем мем",Promise.all([Promise.all(e.map(n=>(this.zipCanvas.width=n.width,this.zipCanvas.height=n.height,this.zipCtx.drawImage(n.original,0,0),gr(this.zipCanvas).then(r=>({id:n.id,blob:r}))))),Promise.all(t.map(({name:n,texture:r})=>(this.zipCanvas.width=r.width,this.zipCanvas.height=r.height,this.zipCtx.drawImage(r.original,0,0),gr(this.zipCanvas).then(s=>({name:n,blob:s})))))]).then(([n,r])=>en.toFile({meme:this.meme,resources:{images:n,patterns:r}})))}openMeme(e){return this.runTask("Распаковываем мем",en.fromFile(e).then(t=>(this.getImagesList().forEach(n=>this.textures.delete(n.id)),this.usedImages.clear(),Promise.all(t.resources.images.map(({id:n,blob:r})=>mn(r,s=>this.textures.downloadImage(s,{id:n,meta:{source:"user",type:"image"}}))).concat(t.resources.patterns.map(({name:n,blob:r})=>mn(r,s=>(pt.has(n)&&(this.textures.delete(pt.getTexture(n)),pt.delete(n)),this.textures.downloadImage(s,{meta:{source:"user",type:"pattern"}}).then(o=>pt.addPattern({name:n,textureId:o.id}))))))).then(()=>(this.meme=t.meme,this.meme.frames.flatMap(n=>n.blocks).forEach(n=>this.addImageUsage(n)),this.activeFrame=this.meme.frames[0],this.memeUpdated(),this.frameUpdated(),br())).then(()=>{this.meme.frames.forEach(n=>this.draw(n,!0)),this.draw()}))))}framesFromImages(e){return this.runTask("Загружаем картинки",Promise.all(e.map(t=>mn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"image"}})))).then(t=>t.map(n=>this.addFrame(this.newFrame(n)))).then(t=>br().then(()=>t)).then(t=>{t.forEach(n=>this.draw(n,!0))}))}addPattern(e,t){return this.runTask("Добавляем паттерн",mn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"pattern"}})).then(n=>{const r={name:e,textureId:n.id};return pt.addPattern(r),r})).then(()=>this.draw(this.activeFrame))}clear(){pt.clear(),this.textures.clear(),this.usedImages.clear()}}function O_(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}function G_(i,e){let t=0;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,i.apply(void 0,n)},e)}}function gr(i){return new Promise((e,t)=>i.toBlob(n=>{if(!n){t(new Error("Failed to get blob from canvas"));return}e(n)}))}function H_(i){let e,t;return{c(){e=ie("article"),t=$e(i[5]),this.h()},l(n){e=se(n,"ARTICLE",{class:!0});var r=fe(e);t=we(r,i[5]),r.forEach(F),this.h()},h(){K(e,"class","svelte-1ow4yee")},m(n,r){q(n,e,r),Q(e,t)},p(n,r){r[0]&32&&at(t,n[5])},d(n){n&&F(e)}}}function W_(i){let e,t,n,r,s,o,a,l,u,f;e=new Un({props:{open:i[5]!=="",closable:!1,$$slots:{default:[H_]},$$scope:{ctx:i}}});function c($){i[18]($)}function m($){i[19]($)}function h($){i[20]($)}function d($){i[21]($)}function p($){i[22]($)}function g($){i[23]($)}let _={version:"v0.2.2",memeExampleURL:i[0]};return i[6]!==void 0&&(_.meme=i[6]),i[7]!==void 0&&(_.frame=i[7]),i[8]!==void 0&&(_.block=i[8]),i[3]!==void 0&&(_.canvasUI=i[3]),i[2]!==void 0&&(_.canvasWebgl=i[2]),i[9]!==void 0&&(_.previews=i[9]),n=new Nm({props:_}),Te.push(()=>Ie(n,"meme",c)),Te.push(()=>Ie(n,"frame",m)),Te.push(()=>Ie(n,"block",h)),Te.push(()=>Ie(n,"canvasUI",d)),Te.push(()=>Ie(n,"canvasWebgl",p)),Te.push(()=>Ie(n,"previews",g)),n.$on("openMeme",i[24]),n.$on("saveMeme",i[25]),n.$on("renderMeme",i[26]),n.$on("changeBackground",i[27]),n.$on("frameToClipboard",i[28]),n.$on("createBlock",i[29]),n.$on("shiftBlock",i[30]),n.$on("deleteBlock",i[31]),n.$on("createFrame",i[32]),n.$on("shiftFrame",i[33]),n.$on("deleteFrame",i[34]),n.$on("framesFromImages",i[35]),n.$on("addPattern",i[36]),{c(){B(e.$$.fragment),t=he(),B(n.$$.fragment)},l($){z(e.$$.fragment,$),t=me($),z(n.$$.fragment,$)},m($,w){D(e,$,w),q($,t,w),D(n,$,w),f=!0},p($,w){const E={};w[0]&32&&(E.open=$[5]!==""),w[0]&32|w[1]&512&&(E.$$scope={dirty:w,ctx:$}),e.$set(E);const C={};w[0]&1&&(C.memeExampleURL=$[0]),!r&&w[0]&64&&(r=!0,C.meme=$[6],Ce(()=>r=!1)),!s&&w[0]&128&&(s=!0,C.frame=$[7],Ce(()=>s=!1)),!o&&w[0]&256&&(o=!0,C.block=$[8],Ce(()=>o=!1)),!a&&w[0]&8&&(a=!0,C.canvasUI=$[3],Ce(()=>a=!1)),!l&&w[0]&4&&(l=!0,C.canvasWebgl=$[2],Ce(()=>l=!1)),!u&&w[0]&512&&(u=!0,C.previews=$[9],Ce(()=>u=!1)),n.$set(C)},i($){f||(y(e.$$.fragment,$),y(n.$$.fragment,$),f=!0)},o($){k(e.$$.fragment,$),k(n.$$.fragment,$),f=!1},d($){M(e,$),$&&F(t),M(n,$)}}}function j_(i){let e,t,n;function r(o){i[37](o)}let s={$$slots:{default:[W_]},$$scope:{ctx:i}};return i[4]!==void 0&&(s.theme=i[4]),e=new Bm({props:s}),Te.push(()=>Ie(e,"theme",r)),{c(){B(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){D(e,o,a),n=!0},p(o,a){const l={};a[0]&1007|a[1]&512&&(l.$$scope={dirty:a,ctx:o}),!t&&a[0]&16&&(t=!0,l.theme=o[4],Ce(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function V_(i,e,t){let n,r,s,o,a,l;kt(i,Wi,j=>t(4,n=j));let{patternUrls:u}=e,{placeholdersUrls:f}=e,{memeURL:c=null}=e,{memeExampleURL:m}=e;const h=new kn({frames:[{height:300,width:600,id:"loading-placeholder",blocks:[{id:"loading-block-placeholder",container:{type:"global",value:{maxHeight:.9,maxWidth:.9,minHeight:0}},content:{type:"text",value:{text:"Loading...",style:Es}}}]}]});kt(i,h,j=>t(6,s=j));const d=new kn(h.value.frames[0]);kt(i,d,j=>t(7,o=j));const p=new kn(d.value.blocks.find(j=>j.content.type=="text"));kt(i,p,j=>t(8,a=j));let g=d.value.id;h.subscribe(()=>{g=""}),d.subscribe(j=>{g!=j.id&&(g=j.id,p.set(j.blocks.find(_e=>_e.content.type=="text")))});let _,$,w,E=new kn({});kt(i,E,j=>t(9,l=j));let C=Zn("Собираем интерфейс...");kt(i,C,j=>t(5,r=j));let P="default";sn(()=>(P=new URL(location.href).searchParams.get("skin")??P,t(1,_=new L_({block:p,frame:d,meme:h,busy:C,previews:E},$,u,f,P)),new Wm(w,$,h,d,p),c&&br().then(()=>fetch(c)).then(j=>j.blob()).then(j=>_.openMeme(j)),()=>_.clear()));function R(j){s=j,h.set(s)}function V(j){o=j,d.set(o)}function O(j){a=j,p.set(a)}function L(j){w=j,t(3,w)}function ue(j){$=j,t(2,$)}function S(j){l=j,E.set(l)}const T=j=>_==null?void 0:_.openMeme(j.detail.file),v=()=>{var j;return(j=_==null?void 0:_.exportMeme())==null?void 0:j.then(Yi("meme.meme"))},Z=()=>{var j;return(j=_==null?void 0:_.renderMeme())==null?void 0:j.then(({ext:_e,blob:Fe})=>Yi(`meme.${_e}`)(Fe))},pe=j=>_==null?void 0:_.setBackground(j.detail.file),N=()=>_==null?void 0:_.copyFrameToClipboard(),ae=j=>{var _e;return _==null?void 0:_.addBlock((_e=j.detail)==null?void 0:_e.origin)},ee=j=>_==null?void 0:_.shiftBlock(j.detail.block,j.detail.shift),ge=j=>_==null?void 0:_.deleteBlock(j.detail.block),G=j=>{var _e;return _==null?void 0:_.addFrame((_e=j.detail)==null?void 0:_e.origin)},H=j=>_==null?void 0:_.shiftFrame(j.detail.frame,j.detail.shift),X=j=>_==null?void 0:_.deleteFrame(j.detail.frame),J=j=>_==null?void 0:_.framesFromImages(j.detail.files),le=j=>_==null?void 0:_.addPattern(j.detail.name,j.detail.image);function x(j){n=j,Wi.set(n)}return i.$$set=j=>{"patternUrls"in j&&t(15,u=j.patternUrls),"placeholdersUrls"in j&&t(16,f=j.placeholdersUrls),"memeURL"in j&&t(17,c=j.memeURL),"memeExampleURL"in j&&t(0,m=j.memeExampleURL)},[m,_,$,w,n,r,s,o,a,l,h,d,p,E,C,u,f,c,R,V,O,L,ue,S,T,v,Z,pe,N,ae,ee,ge,G,H,X,J,le,x]}class Z_ extends ye{constructor(e){super(),Ee(this,e,V_,j_,ve,{patternUrls:15,placeholdersUrls:16,memeURL:17,memeExampleURL:0},null,[-1,-1])}}const q_=""+new URL("../assets/docs.382a62e4.meme",import.meta.url).href,X_=""+new URL("../assets/checkered.07b41575.webp",import.meta.url).href,Y_=""+new URL("../assets/debug.ca573084.webp",import.meta.url).href,K_=""+new URL("../assets/fire.f2d0e917.webp",import.meta.url).href,J_=""+new URL("../assets/glitter-gold.b5c4520e.webp",import.meta.url).href,Q_=""+new URL("../assets/rainbow.3197970b.webp",import.meta.url).href,eg=""+new URL("../assets/stars.049cd9a5.webp",import.meta.url).href,tg=""+new URL("../assets/1.fc1781c3.webp",import.meta.url).href,ng=""+new URL("../assets/1.218b17fc.webp",import.meta.url).href,rg=""+new URL("../assets/1.949784d4.webp",import.meta.url).href,ig=""+new URL("../assets/1.11d6ce27.webp",import.meta.url).href,sg=""+new URL("../assets/2.97d5dc7d.webp",import.meta.url).href,og=""+new URL("../assets/3.e8249041.webp",import.meta.url).href,ag=""+new URL("../assets/4.94ed153e.webp",import.meta.url).href,lg=""+new URL("../assets/5.843b6f84.webp",import.meta.url).href,ug=""+new URL("../assets/6.056d0cf4.webp",import.meta.url).href,fg=""+new URL("../assets/7.6fc2d0f6.webp",import.meta.url).href;function cg([i,e]){const t=i.split("/");let n=t[t.length-1];return n=n.slice(0,n.lastIndexOf(".")),{name:n,url:e}}function hg(i){return Object.entries(i).map(cg)}const mg=hg(Object.assign({"/src/lib/resources/patterns/checkered.png":X_,"/src/lib/resources/patterns/debug.png":Y_,"/src/lib/resources/patterns/fire.png":K_,"/src/lib/resources/patterns/glitter-gold.jpg":J_,"/src/lib/resources/patterns/rainbow.png":Q_,"/src/lib/resources/patterns/stars.png":eg})),Ir=Object.entries(Object.assign({"/src/lib/resources/placeholders/default/await/1.png":tg,"/src/lib/resources/placeholders/default/empty/1.png":ng,"/src/lib/resources/placeholders/inside/await/1.png":rg,"/src/lib/resources/placeholders/inside/empty/1.png":ig,"/src/lib/resources/placeholders/inside/empty/2.png":sg,"/src/lib/resources/placeholders/inside/empty/3.png":og,"/src/lib/resources/placeholders/inside/empty/4.png":ag,"/src/lib/resources/placeholders/inside/empty/5.png":lg,"/src/lib/resources/placeholders/inside/empty/6.png":ug,"/src/lib/resources/placeholders/inside/empty/7.png":fg})).map(([i,e])=>{const t=/placeholders\//.exec(i);if(!t)throw Error(`Not found prefix 'placeholder' in '${i}''`);const n=t.index+t[0].length,r=i.substring(n),[s,o,a]=r.split("/"),l=a.slice(0,a.lastIndexOf("."));return{skin:s,category:o,name:l,url:e}}).reduce((i,e)=>(i[e.skin]=i[e.skin]??{},i[e.skin][e.category]=i[e.skin][e.category]??[],i[e.skin][e.category].push(e),i),{});if(!U_(Ir))throw Error(`Incorrect configuration: this is not skins map: ${JSON.stringify(Ir)}`);const ds={patternUrls:mg,placeholdersUrls:Ir};function dg(i){let e,t;return e=new Z_({props:{patternUrls:ds.patternUrls,placeholdersUrls:ds.placeholdersUrls,memeExampleURL:q_}}),{c(){B(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){D(e,n,r),t=!0},p:Je,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class bg extends ye{constructor(e){super(),Ee(this,e,null,dg,ve,{})}}export{bg as default};
