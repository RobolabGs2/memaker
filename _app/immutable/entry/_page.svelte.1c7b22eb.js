var Fo=Object.defineProperty;var xo=(i,e,t)=>e in i?Fo(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Ie=(i,e,t)=>(xo(i,typeof e!="symbol"?e+"":e,t),t);import{S as we,i as ye,s as $e,C as xe,k as oe,l as ae,m as ce,h as C,n as Q,b as J,D as Be,E as Ne,F as Pe,g as A,d as E,a as de,c as pe,G as q,v as Ze,f as Xe,J as _n,K as gt,L as ze,p as yt,M as Bo,N as pt,O as No,P as Oe,H as ot,w as Te,y as L,z as H,A as G,B as W,q as Ae,r as Ee,Q as ln,R as ue,T as ms,e as qe,U as ds,V as Mn,W as He,X as qr,Y as ve,Z as We,_ as jn,$ as Pt,a0 as Mt,u as ft,o as $n,a1 as Ce,a2 as Re,I as St,a3 as Yr,a4 as Kr,a5 as Po,t as pr}from"../chunks/index.b43c09c5.js";import{w as Vn}from"../chunks/index.e91b6d86.js";const Do="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAChSURBVHhe7dSxDcMwEMVQOVtkG20ub5MxnATgDleQr+G1+jB8nXOeNWjvzTXjRbUagGo1ANVqAKrVAFSrAahWA1CtBqBaDUC1GoBqNQDVagCq1QBUqwGoVgNQrQagWtfzwz3hc9/3m3vE9Bcw+vi//gFUqwGoVgNQrQagWg1AtRqAajUA1WoAqtUAVKsBqFYDUK0GoFoNQLUagGo1AJVa6wuY7gvQ/iAN1QAAAABJRU5ErkJggg==",Uo=""+new URL("../assets/debug.447941fc.png",import.meta.url).href,zo=""+new URL("../assets/fire.dbcd833b.png",import.meta.url).href,Mo=""+new URL("../assets/glitter-gold.b2781063.png",import.meta.url).href,Oo=""+new URL("../assets/rainbow.898263c2.png",import.meta.url).href,Lo=""+new URL("../assets/stars.071676c2.png",import.meta.url).href,Ho=""+new URL("../assets/1.57fde67f.png",import.meta.url).href,Go=""+new URL("../assets/1.26fc9e0e.png",import.meta.url).href,Wo=""+new URL("../assets/1.f15c459b.png",import.meta.url).href,jo=""+new URL("../assets/1.b48b13e9.png",import.meta.url).href,Vo=""+new URL("../assets/2.4b6d9732.png",import.meta.url).href,Zo=""+new URL("../assets/3.0fd519fb.png",import.meta.url).href,Xo=""+new URL("../assets/4.30b50d35.png",import.meta.url).href,qo=""+new URL("../assets/5.9461fe06.png",import.meta.url).href,Yo=""+new URL("../assets/6.5c13e235.png",import.meta.url).href,Ko=""+new URL("../assets/7.d465af8c.png",import.meta.url).href;function Qo(i){let e,t,n;const r=i[2].default,s=xe(r,i,i[1],null);return{c(){e=oe("div"),s&&s.c(),this.h()},l(o){e=ae(o,"DIV",{style:!0,class:!0});var a=ce(e);s&&s.l(a),a.forEach(C),this.h()},h(){Q(e,"style",t=Qr(i[0])),Q(e,"class","svelte-1u48p2s")},m(o,a){J(o,e,a),s&&s.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&Be(s,r,o,o[1],n?Pe(r,o[1],a,null):Ne(o[1]),null),(!n||a&1&&t!==(t=Qr(o[0])))&&Q(e,"style",t)},i(o){n||(A(s,o),n=!0)},o(o){E(s,o),n=!1},d(o){o&&C(e),s&&s.d(o)}}}function Qr(i){return Object.entries(i).map(([e,t])=>`--${e.split(new RegExp("(?<=[a-z])(?=[A-Z])")).map(r=>r.toLowerCase()).join("-")}: ${t};`).join("")}function Jo(i,e,t){let{$$slots:n={},$$scope:r}=e,{theme:s}=e;return i.$$set=o=>{"theme"in o&&t(0,s=o.theme),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class ea extends we{constructor(e){super(),ye(this,e,Jo,Qo,$e,{theme:0})}}const ta={textSecondary:"white",secondary:"#34352F",secondaryHover:"#3E3D32",secondaryActive:"#272822",borderSecondary:"1px solid #111111",borderSecondaryHover:"1px solid #222222",borderSecondaryActive:"1px solid #aaaaaa",border:"none"},Jr=Vn(ta);class Tn{constructor(e){Ie(this,"subscribers",new Set);this.value=e}update(e){this.set(e(this.value))}subscribe(e){return e(this.value),this.subscribers.add(e),()=>{this.subscribers.delete(e)}}set(e){this.value=e,this.subscribers.forEach(t=>t(e))}}function an(i){return JSON.parse(JSON.stringify(i))}class na{constructor(e,t,n,r){Ie(this,"position",{x:0,y:0});Ie(this,"moveStart");Ie(this,"ctrl",!1);Ie(this,"shift",!1);this.canvas=e,e.addEventListener("touchmove",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&s.preventDefault(),r()}),e.addEventListener("mousemove",s=>{const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchstart",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)?s.preventDefault():this.moveStart=void 0),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("mousedown",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchend",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this)&&s.preventDefault(),this.moveStart=void 0),s.preventDefault(),r()}),e.addEventListener("mouseup",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this),this.moveStart=void 0),r()})}get pressed(){return this.moveStart!==void 0}get scale(){const e=this.canvas;return e.width/e.clientWidth}get realSize(){return{width:this.canvas.clientWidth,height:this.canvas.clientHeight}}posFromTouchEvent(e){return this.posFromTouch(e.changedTouches[0])}posFromTouch(e){const t=this.canvas.getBoundingClientRect(),n=e.pageX-t.x,r=e.pageY-t.y;return{x:n,y:r}}}function ei(i,e){return{x:e.x-i.x,y:e.y-i.y}}function ra(i,e,t=0){return Math.abs(i.x-e.x)<=t&&Math.abs(i.y-e.y)<=t}class ia{constructor(e,t,n){Ie(this,"sprites",new Array);Ie(this,"cursor");Ie(this,"dragAndDrop");Ie(this,"hoveredSprite");this.dragDropSystemSource=t,this.onupdate=n,this.cursor=new na(e,()=>{if(this.dragAndDrop)return!0;if(!this.hoveredSprite)return!1;const r=this.dragDropSystemSource(this.hoveredSprite);return r?(this.dragAndDrop={sprite:this.hoveredSprite,system:r,lastPosition:{x:NaN,y:NaN}},!0):!1},(r,s)=>{if(!this.dragAndDrop)return!1;const o=this.dragAndDrop.system;return this.dragAndDrop=void 0,o.drop(r,s,this.cursor),!0},()=>this.update())}add(e){return this.sprites.push(e),e}clear(){var e;(e=this.dragAndDrop)==null||e.system.drop(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop=void 0,this.hoveredSprite=void 0,this.sprites.length=0}update(){var t,n;if(this.dragAndDrop){ra(this.cursor.position,this.dragAndDrop.lastPosition,.001)||(this.dragAndDrop.system.move(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop.lastPosition.x=this.cursor.position.x,this.dragAndDrop.lastPosition.y=this.cursor.position.y,(t=this.onupdate)==null||t.call(this));return}const e=this.hoveredSprite;this.hoveredSprite=void 0;for(let r=this.sprites.length-1;r>=0;r--){const s=this.sprites[r];if(s.interactive&&s.contains(this.cursor.position)){this.hoveredSprite=s;break}}e!==this.hoveredSprite&&((n=this.onupdate)==null||n.call(this))}draw(e){this.sprites.forEach(t=>{e.save(),t.draw(e,this.spriteState(t)),e.restore()})}spriteState(e){var t;return((t=this.dragAndDrop)==null?void 0:t.sprite)===e?"active":this.hoveredSprite===e?"hover":"default"}}class nt{constructor(){Ie(this,"data",[[0,0,0],[0,0,0],[0,0,0]])}static Zero(){return new nt}static Ident(){const e=new nt;return e.data[0][0]=1,e.data[1][1]=1,e.data[2][2]=1,e}static RotationAround(e,t){return nt.Translate({x:-e.x,y:-e.y}).Multiply(this.Rotation(t)).Multiply(nt.Translate(e))}static Rotation(e){const t=Math.sin(e),n=Math.cos(e);return this.RotationCosSin(n,t)}static RotationCosSin(e,t){const n=nt.Ident();return n.data[0][0]=e,n.data[0][1]=t,n.data[1][0]=-t,n.data[1][1]=e,n}static Translate(e,t){const n=nt.Ident();if(typeof e=="number"&&typeof t=="number")n.data[2][0]=e,n.data[2][1]=t;else if(typeof e!="number"){const r=e;n.data[2][0]=r.x,n.data[2][1]=r.y}else throw new Error(`Unexpected type combination in Matrix.Translate: x: ${typeof e}, y: ${typeof t}`);return n}Get(e,t){return this.data[e][t]}Set(e,t,n){this.data[e][t]=n}Multiply(e){const t=nt.Zero();for(let n=0;n<3;++n)for(let r=0;r<3;++r)for(let s=0;s<3;++s)t.data[n][r]+=this.data[n][s]*e.data[s][r];return t}Transform(e,t={x:0,y:0}){const n=this.Get(0,0)*e.x+this.Get(1,0)*e.y+this.Get(2,0),r=this.Get(0,1)*e.x+this.Get(1,1)*e.y+this.Get(2,1),s=this.Get(0,2)*e.x+this.Get(1,2)*e.y+this.Get(2,2);return t.x=n/s,t.y=r/s,t}}class Tr{constructor(e,t,n){Ie(this,"normal");Ie(this,"normalization");this.a=e,this.b=t,this.c=n;const r=Math.sqrt(e*e+t*t);this.normal={x:e/r,y:t/r},this.normalization=r}static byTwoPoints({x:e,y:t},{x:n,y:r}){return new Tr(t-r,n-e,e*r-n*t)}onLine(e){return Math.abs(this.rawDistance(e))<1e-15}sign(e){return Math.sign(this.rawDistance(e))}rawDistance({x:e,y:t}){return this.a*e+this.b*t+this.c}distance(e){const t=this.rawDistance(e);return Math.abs(t)/this.normalization}projection(e){const t=this.rawDistance(e)/this.normalization;return{x:e.x-this.normal.x*t,y:e.y-this.normal.y*t}}}class ti{constructor(e,t){Ie(this,"line");this.p1=e,this.p2=t,this.line=Tr.byTwoPoints(e,t)}get left(){return Math.min(this.p1.x,this.p2.x)}get right(){return Math.max(this.p1.x,this.p2.x)}}class wn{constructor(e){Ie(this,"edges");this.points=e,this.edges=new Array(e.length),this.updateEdges()}updateEdges(){const e=this.points;for(let t=0;t<e.length-1;t++)this.edges[t]=new ti(e[t],e[t+1]);this.edges[e.length-1]=new ti(e[e.length-1],e[0])}transform(e){const t=this.points,n=t.length;for(let r=0;r<n;r++)e.Transform(t[r],t[r]);this.updateEdges()}transformCopy(e){return new wn(this.points.map(t=>e.Transform(t)))}contains(e){let t=0;const n=this.edges.length;for(let r=0;r<n;r++){const s=this.edges[r];e.x<=s.left||e.x>s.right||(t+=s.line.sign(e))}return t!=0}center(){const e=this.points,t=e.length;let n=0,r=0;for(let s=0;s<t;s++)n+=e[s].x,r+=e[s].y;return{x:n/t,y:r/t}}area(){let e=0;const t=this.points.length-1,n=this.points;for(let r=0;r<t;r++)e+=n[r].x*n[r+1].x-n[r+1].y*n[r].y;return e+=n[t].x*n[0].y-n[0].x*n[t].y,e/2}repair(){this.area()<0&&this.points.reverse()}}class sa{constructor(e=!1,t){this.interactive=e,this.settings=t}draw(e,t){const n=this.settings.fill[t],r=this.settings.stroke[t];this.makePath(e),n&&(e.fillStyle=n,e.fill()),r&&(e.strokeStyle=r,e.stroke())}}class ps extends sa{constructor(e=new Bt,t=!1,n){super(t,n),this.transform=e}getPolygon(){return this.localPolygon().transformCopy(this.transform.matrix())}makePath(e){la(e,this.getPolygon())}contains(e){return this.getPolygon().contains(e)}}class Qt extends ps{constructor(e,t=new Bt,n=!1,r){super(t,n,r),this.polygon=e}localPolygon(){return this.polygon}}class ni extends ps{constructor(e,t=new Bt,n=!1,r){super(t,n,r),this.localPolygon=e}}function Jt(i,e){const t=i/2,n=e/2;return new wn([{x:-t,y:-n},{x:t,y:-n},{x:t,y:n},{x:-t,y:n}])}class Bt{constructor(e=0,t=0,n=0,r){this.x=e,this.y=t,this.rotate=n,this.parent=r}matrix(){const e=nt.Rotation(this.rotate).Multiply(nt.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}class Sn{constructor(e=()=>0,t=()=>0,n=()=>0,r){this.xSource=e,this.ySource=t,this.rotateSource=n,this.parent=r}get rotate(){return this.rotateSource()}get x(){return this.xSource()}get y(){return this.ySource()}matrix(){const e=nt.Rotation(this.rotate).Multiply(nt.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}function oa(i,e){const t=e/3,n=t/2,r=[{x:i-n-2*t,y:n},{x:-n,y:n},{x:-n,y:-n},{x:i-n-2*t,y:-n},{x:i-n-3*t,y:-n-t},{x:i-n,y:0},{x:i-n-3*t,y:+n+t}];return new wn(r)}function aa(i,e,t){const n=t/3,r=n/2,s=e/(Math.PI/45)|0,o=e/s,a=[],l=[],u=i-r,c=i+r;for(let h=0;h<s;h++){const d=Math.cos(o*h),p=Math.sin(o*h),$=d*u,g=p*u;a.push({x:$,y:g});const v=d*c,w=p*c;l.push({x:v,y:w})}const f=[{x:-t,y:+r+n},{x:t,y:0},{x:-t,y:-r-n}],m=nt.Rotation(Math.PI/2).Multiply(nt.Translate({x:i,y:0})).Multiply(nt.RotationAround({x:0,y:0},e));return new wn([...a,...f.map(h=>m.Transform(h,h)),...l.reverse()])}function la(i,e){i.beginPath(),i.moveTo(e.points[0].x,e.points[0].y),e.points.forEach(t=>i.lineTo(t.x,t.y)),i.closePath()}class ua{constructor(e,t,n,r,s){Ie(this,"ctx");Ie(this,"sprites");Ie(this,"handlers",new Map);Ie(this,"selectors",new Map);Ie(this,"activeBlockId","");Ie(this,"activeContainerType","");Ie(this,"draw",ii(()=>{const e=this.ctx.canvas,t=this.cursor.realSize;e.width!==t.width&&(e.width=t.width),e.height!==t.height&&(e.height=t.height),this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save(),this.ctx.scale(1/this.cursor.scale,1/this.cursor.scale),this.sprites.draw(this.ctx),this.ctx.restore()}));this.ctx=e.getContext("2d");let o=!1;this.sprites=new ia(t,a=>{var f;const l=this.selectors.get(a);if(l)return{move(){},drop(){s.set(r.value.blocks.find(({id:m})=>l===m))}};const u=s.value.container;if(!this.activeBlockId||u.type!=="rectangle")return;const c=(f=this.handlers.get(a))==null?void 0:f(u.value);if(c)return{move:ii((m,h,d)=>{u.value=c(m,h,d),o=!0,s.set(s.value),o=!1}),drop(m,h,d){u.value=c(m,h,d),o=!0,s.set(s.value),o=!1}}},()=>this.draw()),n.subscribe(()=>{this.activeBlockId=""}),s.subscribe(a=>{o||this.draw(),!(a.id==this.activeBlockId&&a.container.type==this.activeContainerType)&&(this.activeBlockId=a.id,this.activeContainerType=a.container.type,this.setup(r.value.blocks,a))})}get cursor(){return this.sprites.cursor}clear(){this.selectors.clear(),this.handlers.clear(),this.sprites.clear()}setup(e,t){if(this.clear(),e.forEach(f=>{f===t||f.container.type!=="rectangle"||this.addSelector(f.id,f.container.value)}),t.container.type!=="rectangle")return;const n=new ni(()=>Jt(t.container.value.width,t.container.value.height),new Sn(()=>t.container.value.position.x,()=>t.container.value.position.y,()=>t.container.value.rotation),!0,{fill:{},stroke:{default:"#aaaa00 "}}),r=this.sprites.add(n),s=18*this.cursor.scale,o=oa(s*7,s*1.4),a=new Sn(()=>0,()=>0,()=>this.cursor.ctrl?-r.transform.rotation():0,r.transform),l=new Qt(o,new Bt(0,0,0,a),!0,en("#0000ff")),u=new Qt(o,new Bt(0,0,-Math.PI/2,a),!0,en("#ff0000"));this.addModifier(l,ri(l)),this.addModifier(u,ri(u)),this.addModifier(new Qt(Jt(s*2,s*2),new Bt(0,0,0,r.transform),!0,en("#ff00ff")),f=>(m,h)=>{const d=h.x-m.x,p=h.y-m.y,{x:$,y:g}=f.position;return{...f,position:{x:$+d,y:g+p}}});const c=new Qt(aa(4*s,Math.PI*1.5,s*1.5),new Bt(0,0,-Math.PI/4,r.transform),!0,en("#00ff00"));this.addModifier(c,ca),[{dim:"width",dir:{x:1,y:0}},{dim:"width",dir:{x:-1,y:0}},{dim:"height",dir:{x:0,y:1}},{dim:"height",dir:{x:0,y:-1}}].forEach(({dim:f,dir:m})=>{const h=f==="height"?()=>Jt(t.container.value.width-s,s):()=>Jt(s,t.container.value.height-s);this.addModifier(new ni(h,new Sn(()=>m.x*t.container.value.width/2,()=>m.y*t.container.value.height/2,()=>0,r.transform),!0,en("#ff9900")),fa(f,m))}),[{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}].forEach(f=>{this.addModifier(new Qt(Jt(s,s),new Sn(()=>f.x*t.container.value.width/2,()=>f.y*t.container.value.height/2,()=>0,r.transform),!0,en("#ff99ff")),ha(f))})}addSelector(e,t){const n=this.sprites.add(new Qt(Jt(t.width,t.height),new Bt(t.position.x,t.position.y,t.rotation),!0,{fill:{hover:"#aaaaaa22",active:"#aaaaaa44"},stroke:{hover:"#aaaaaa99",active:"#aaaaaa"}}));this.selectors.set(n,e)}addModifier(e,t){this.handlers.set(this.sprites.add(e),t)}}function ca(i){const{rotation:e}=i,t=i.position;return(n,r,s)=>{const o=ei(t,n),a=ei(t,r),l=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x),c=Math.PI/180*1;let f=Math.round((u-l)/c)*c;const m=Math.PI/4;return s.shift&&(f=(f/m|0)*m),{...i,rotation:s.ctrl?f:e+f}}}function en(i){return{fill:{default:`${i}44`,hover:`${i}99`,active:`${i}`},stroke:{default:`${i}44`,hover:`${i}99`,active:`${i}`}}}function fa(i,e){return t=>(n,r,s)=>{const o=r.x-n.x,a=r.y-n.y,l=nt.Rotation(t.rotation).Transform(e);let u=o*l.x+a*l.y;return s.shift&&(u=(u/10|0)*10),s.ctrl?{...t,position:{x:t.position.x+l.x*u/2,y:t.position.y+l.y*u/2},[i]:t[i]+u}:{...t,[i]:t[i]+2*u}}}function ha(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,a=nt.Rotation(e.rotation).Transform({x:0,y:i.y}),l=nt.Rotation(e.rotation).Transform({x:i.x,y:0});let u=s*a.x+o*a.y,c=s*l.x+o*l.y;return r.shift&&(u=c=Math.max(u,c)),r.ctrl?{...e,position:{x:e.position.x+a.x*u/2+l.x*c/2,y:e.position.y+a.y*u/2+l.y*c/2},height:e.height+u,width:e.width+c}:{...e,height:e.height+2*u,width:e.width+2*c}}}function ri(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,{x:a,y:l}=e.position,u=nt.Rotation(i.transform.rotation()).Transform({x:1,y:0});let c=s*u.x+o*u.y;return r.shift&&(c=(c/10|0)*10),{...e,position:{x:a+u.x*c,y:l+u.y*c}}}}function ii(i){let e=0;return(...t)=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)})}}function si(i,e,t){const n=i.slice();return n[5]=e[t],n}const ma=i=>({tab:i&2}),oi=i=>({tab:i[5]});function ai(i,e,t){const n=i.slice();return n[5]=e[t],n}const da=i=>({tab:i&2}),li=i=>({tab:i[5]});function ui(i){let e,t,n,r,s;const o=i[3].default,a=xe(o,i,i[2],li);function l(){return i[4](i[5])}return{c(){e=oe("section"),a&&a.c(),t=de(),this.h()},l(u){e=ae(u,"SECTION",{class:!0});var c=ce(e);a&&a.l(c),t=pe(c),c.forEach(C),this.h()},h(){Q(e,"class","tab svelte-1kfk1mv"),gt(e,"active",i[0]===i[5])},m(u,c){J(u,e,c),a&&a.m(e,null),q(e,t),n=!0,r||(s=ze(e,"click",l),r=!0)},p(u,c){i=u,a&&a.p&&(!n||c&6)&&Be(a,o,i,i[2],n?Pe(o,i[2],c,da):Ne(i[2]),li),(!n||c&3)&&gt(e,"active",i[0]===i[5])},i(u){n||(A(a,u),n=!0)},o(u){E(a,u),n=!1},d(u){u&&C(e),a&&a.d(u),r=!1,s()}}}function ci(i){let e,t,n;const r=i[3].content,s=xe(r,i,i[2],oi);return{c(){e=oe("section"),s&&s.c(),t=de(),this.h()},l(o){e=ae(o,"SECTION",{class:!0});var a=ce(e);s&&s.l(a),t=pe(a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1kfk1mv"),gt(e,"hide",i[0]!==i[5])},m(o,a){J(o,e,a),s&&s.m(e,null),q(e,t),n=!0},p(o,a){s&&s.p&&(!n||a&6)&&Be(s,r,o,o[2],n?Pe(r,o[2],a,ma):Ne(o[2]),oi),(!n||a&3)&&gt(e,"hide",o[0]!==o[5])},i(o){n||(A(s,o),n=!0)},o(o){E(s,o),n=!1},d(o){o&&C(e),s&&s.d(o)}}}function pa(i){let e,t,n,r,s=i[1],o=[];for(let f=0;f<s.length;f+=1)o[f]=ui(ai(i,s,f));const a=f=>E(o[f],1,1,()=>{o[f]=null});let l=i[1],u=[];for(let f=0;f<l.length;f+=1)u[f]=ci(si(i,l,f));const c=f=>E(u[f],1,1,()=>{u[f]=null});return{c(){e=oe("article"),t=oe("header");for(let f=0;f<o.length;f+=1)o[f].c();n=de();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=ae(f,"ARTICLE",{class:!0});var m=ce(e);t=ae(m,"HEADER",{class:!0});var h=ce(t);for(let d=0;d<o.length;d+=1)o[d].l(h);h.forEach(C),n=pe(m);for(let d=0;d<u.length;d+=1)u[d].l(m);m.forEach(C),this.h()},h(){Q(t,"class","svelte-1kfk1mv"),Q(e,"class","svelte-1kfk1mv")},m(f,m){J(f,e,m),q(e,t);for(let h=0;h<o.length;h+=1)o[h].m(t,null);q(e,n);for(let h=0;h<u.length;h+=1)u[h].m(e,null);r=!0},p(f,[m]){if(m&7){s=f[1];let h;for(h=0;h<s.length;h+=1){const d=ai(f,s,h);o[h]?(o[h].p(d,m),A(o[h],1)):(o[h]=ui(d),o[h].c(),A(o[h],1),o[h].m(t,null))}for(Ze(),h=s.length;h<o.length;h+=1)a(h);Xe()}if(m&7){l=f[1];let h;for(h=0;h<l.length;h+=1){const d=si(f,l,h);u[h]?(u[h].p(d,m),A(u[h],1)):(u[h]=ci(d),u[h].c(),A(u[h],1),u[h].m(e,null))}for(Ze(),h=l.length;h<u.length;h+=1)c(h);Xe()}},i(f){if(!r){for(let m=0;m<s.length;m+=1)A(o[m]);for(let m=0;m<l.length;m+=1)A(u[m]);r=!0}},o(f){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)E(o[m]);u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)E(u[m]);r=!1},d(f){f&&C(e),_n(o,f),_n(u,f)}}}function _a(i,e,t){let{$$slots:n={},$$scope:r}=e,{tabs:s}=e,{activeTab:o=s[0]}=e;const a=l=>t(0,o=l);return i.$$set=l=>{"tabs"in l&&t(1,s=l.tabs),"activeTab"in l&&t(0,o=l.activeTab),"$$scope"in l&&t(2,r=l.$$scope)},[o,s,r,n,a]}class _s extends we{constructor(e){super(),ye(this,e,_a,pa,$e,{tabs:1,activeTab:0})}}function fi(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}const ga=i=>({item:i&2,index:i&2}),hi=i=>({item:i[9],index:i[11]});function mi(i,e){let t,n,r,s,o;const a=e[5].default,l=xe(a,e,e[4],hi);function u(){return e[8](e[9])}return{key:i,first:null,c(){t=oe("article"),l&&l.c(),n=de(),this.h()},l(c){t=ae(c,"ARTICLE",{class:!0});var f=ce(t);l&&l.l(f),n=pe(f),f.forEach(C),this.h()},h(){Q(t,"class","item svelte-xsb8mb"),gt(t,"active",e[9].id===e[0].id),this.first=t},m(c,f){J(c,t,f),l&&l.m(t,null),q(t,n),r=!0,s||(o=ze(t,"click",u),s=!0)},p(c,f){e=c,l&&l.p&&(!r||f&18)&&Be(l,a,e,e[4],r?Pe(a,e[4],f,ga):Ne(e[4]),hi),(!r||f&3)&&gt(t,"active",e[9].id===e[0].id)},i(c){r||(A(l,c),r=!0)},o(c){E(l,c),r=!1},d(c){c&&C(t),l&&l.d(c),s=!1,o()}}}function ba(i){let e,t=[],n=new Map,r,s,o,a=i[1];const l=u=>u[9].id;for(let u=0;u<a.length;u+=1){let c=fi(i,a,u),f=l(c);n.set(f,t[u]=mi(f,c))}return{c(){e=oe("main");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=ae(u,"MAIN",{style:!0,class:!0});var c=ce(e);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(C),this.h()},h(){yt(e,"height",i[3]),Q(e,"class","svelte-xsb8mb"),gt(e,"reverse",i[2])},m(u,c){J(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);r=!0,s||(o=[ze(e,"drop",i[6]),ze(e,"dragover",i[7])],s=!0)},p(u,[c]){c&19&&(a=u[1],Ze(),t=Bo(t,c,l,1,u,a,n,e,No,mi,null,fi),Xe()),(!r||c&8)&&yt(e,"height",u[3]),(!r||c&4)&&gt(e,"reverse",u[2])},i(u){if(!r){for(let c=0;c<a.length;c+=1)A(t[c]);r=!0}},o(u){for(let c=0;c<t.length;c+=1)E(t[c]);r=!1},d(u){u&&C(e);for(let c=0;c<t.length;c+=1)t[c].d();s=!1,pt(o)}}}function va(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{active:o}=e,{reverse:a=!1}=e,{height:l="100%"}=e;function u(m){Oe.call(this,i,m)}function c(m){Oe.call(this,i,m)}const f=m=>t(0,o=m);return i.$$set=m=>{"items"in m&&t(1,s=m.items),"active"in m&&t(0,o=m.active),"reverse"in m&&t(2,a=m.reverse),"height"in m&&t(3,l=m.height),"$$scope"in m&&t(4,r=m.$$scope)},[o,s,a,l,r,n,u,c,f]}class di extends we{constructor(e){super(),ye(this,e,va,ba,$e,{items:1,active:0,reverse:2,height:3})}}function $a(i){let e,t,n,r,s,o;return{c(){e=oe("article"),t=oe("canvas"),n=de(),r=oe("canvas"),this.h()},l(a){e=ae(a,"ARTICLE",{class:!0});var l=ce(e);t=ae(l,"CANVAS",{class:!0}),ce(t).forEach(C),n=pe(l),r=ae(l,"CANVAS",{class:!0}),ce(r).forEach(C),l.forEach(C),this.h()},h(){Q(t,"class","svelte-flcf9e"),Q(r,"class","svelte-flcf9e"),Q(e,"class","svelte-flcf9e")},m(a,l){J(a,e,l),q(e,t),i[4](t),q(e,n),q(e,r),i[5](r),s||(o=[ze(e,"dragover",i[2]),ze(e,"drop",i[3])],s=!0)},p:ot,i:ot,o:ot,d(a){a&&C(e),i[4](null),i[5](null),s=!1,pt(o)}}}function wa(i,e,t){let{webgl:n}=e,{ui:r}=e;function s(u){Oe.call(this,i,u)}function o(u){Oe.call(this,i,u)}function a(u){Te[u?"unshift":"push"](()=>{n=u,t(0,n)})}function l(u){Te[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"webgl"in u&&t(0,n=u.webgl),"ui"in u&&t(1,r=u.ui)},[n,r,s,o,a,l]}class ya extends we{constructor(e){super(),ye(this,e,wa,$a,$e,{webgl:0,ui:1})}}function Aa(i){let e,t;const n=i[1].default,r=xe(n,i,i[0],null);return{c(){e=oe("article"),r&&r.c(),this.h()},l(s){e=ae(s,"ARTICLE",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-i0r9v3")},m(s,o){J(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&Be(r,n,s,s[0],t?Pe(n,s[0],o,null):Ne(s[0]),null)},i(s){t||(A(r,s),t=!0)},o(s){E(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function Ea(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Ot extends we{constructor(e){super(),ye(this,e,Ea,Aa,$e,{})}}function ka(i){let e,t;const n=i[1].default,r=xe(n,i,i[0],null);return{c(){e=oe("label"),r&&r.c(),this.h()},l(s){e=ae(s,"LABEL",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-1996wif")},m(s,o){J(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&Be(r,n,s,s[0],t?Pe(n,s[0],o,null):Ne(s[0]),null)},i(s){t||(A(r,s),t=!0)},o(s){E(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function Ta(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class et extends we{constructor(e){super(),ye(this,e,Ta,ka,$e,{})}}function Sa(i){let e,t,n,r;return{c(){e=Ae("Цвет"),t=oe("input"),this.h()},l(s){e=Ee(s,"Цвет"),t=ae(s,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","color")},m(s,o){J(s,e,o),J(s,t,o),ln(t,i[0].value),n||(r=[ze(t,"input",i[2]),ze(t,"change",i[1])],n=!0)},p(s,o){o&1&&ln(t,s[0].value)},d(s){s&&C(e),s&&C(t),n=!1,pt(r)}}}function Ia(i){let e,t;return e=new et({props:{$$slots:{default:[Sa]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ca(i){let e,t;return e=new Ot({props:{$$slots:{default:[Ia]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ra(i,e,t){let{value:n}=e;function r(o){Oe.call(this,i,o)}function s(){n.value=this.value,t(0,n)}return i.$$set=o=>{"value"in o&&t(0,n=o.value)},[n,r,s]}class Fa extends we{constructor(e){super(),ye(this,e,Ra,Ca,$e,{value:0})}}function xa(i){const e=i-1;return e*e*e+1}function Dt(i,{delay:e=0,duration:t=400,easing:n=xa}={}){const r=getComputedStyle(i),s=+r.opacity,o=parseFloat(r.height),a=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),m=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};height: ${h*o}px;padding-top: ${h*a}px;padding-bottom: ${h*l}px;margin-top: ${h*u}px;margin-bottom: ${h*c}px;border-top-width: ${h*f}px;border-bottom-width: ${h*m}px;`}}var pi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function _i(i,e,t){const n=i.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function lr(i){let e,t=[i[10]],n={};for(let r=0;r<t.length;r+=1)n=ue(n,t[r]);return{c(){e=ms(i[9]),this.h()},l(r){e=ds(r,i[9],{}),ce(e).forEach(C),this.h()},h(){Mn(e,n)},m(r,s){J(r,e,s)},p(r,s){n=He(t,[s&16&&r[10]]),Mn(e,n)},d(r){r&&C(e)}}}function gi(i){let e=i[9],t,n=i[9]&&lr(i);return{c(){n&&n.c(),t=qe()},l(r){n&&n.l(r),t=qe()},m(r,s){n&&n.m(r,s),J(r,t,s)},p(r,s){r[9]?e?$e(e,r[9])?(n.d(1),n=lr(r),n.c(),n.m(t.parentNode,t)):n.p(r,s):(n=lr(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[9]},d(r){r&&C(t),n&&n.d(r)}}}function Ba(i){let e,t,n,r,s=i[4],o=[];for(let f=0;f<s.length;f+=1)o[f]=gi(_i(i,s,f));const a=i[8].default,l=xe(a,i,i[7],null);let u=[pi,i[5],{width:i[2]},{height:i[2]},{stroke:i[1]},{"stroke-width":i[3]},{class:n=`tabler-icon tabler-icon-${i[0]} ${i[6].class??""}`}],c={};for(let f=0;f<u.length;f+=1)c=ue(c,u[f]);return{c(){e=ms("svg");for(let f=0;f<o.length;f+=1)o[f].c();t=qe(),l&&l.c(),this.h()},l(f){e=ds(f,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var m=ce(e);for(let h=0;h<o.length;h+=1)o[h].l(m);t=qe(),l&&l.l(m),m.forEach(C),this.h()},h(){Mn(e,c)},m(f,m){J(f,e,m);for(let h=0;h<o.length;h+=1)o[h].m(e,null);q(e,t),l&&l.m(e,null),r=!0},p(f,[m]){if(m&16){s=f[4];let h;for(h=0;h<s.length;h+=1){const d=_i(f,s,h);o[h]?o[h].p(d,m):(o[h]=gi(d),o[h].c(),o[h].m(e,t))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}l&&l.p&&(!r||m&128)&&Be(l,a,f,f[7],r?Pe(a,f[7],m,null):Ne(f[7]),null),Mn(e,c=He(u,[pi,m&32&&f[5],(!r||m&4)&&{width:f[2]},(!r||m&4)&&{height:f[2]},(!r||m&2)&&{stroke:f[1]},(!r||m&8)&&{"stroke-width":f[3]},(!r||m&65&&n!==(n=`tabler-icon tabler-icon-${f[0]} ${f[6].class??""}`))&&{class:n}]))},i(f){r||(A(l,f),r=!0)},o(f){E(l,f),r=!1},d(f){f&&C(e),_n(o,f),l&&l.d(f)}}}function Na(i,e,t){const n=["name","color","size","stroke","iconNode"];let r=qr(e,n),{$$slots:s={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{stroke:c=2}=e,{iconNode:f}=e;return i.$$set=m=>{t(6,e=ue(ue({},e),ve(m))),t(5,r=qr(e,n)),"name"in m&&t(0,a=m.name),"color"in m&&t(1,l=m.color),"size"in m&&t(2,u=m.size),"stroke"in m&&t(3,c=m.stroke),"iconNode"in m&&t(4,f=m.iconNode),"$$scope"in m&&t(7,o=m.$$scope)},e=ve(e),[a,l,u,c,f,r,e,o,s]}class Pa extends we{constructor(e){super(),ye(this,e,Na,Ba,$e,{name:0,color:1,size:2,stroke:3,iconNode:4})}}const je=Pa;function Da(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Ua(i){let e,t;const n=[{name:"align-box-bottom-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Da]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function za(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 15v2"}],["path",{d:"M12 11v6"}],["path",{d:"M15 13v4"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ma extends we{constructor(e){super(),ye(this,e,za,Ua,$e,{})}}const Oa=Ma;function La(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Ha(i){let e,t;const n=[{name:"align-box-center-middle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[La]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Ga(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M11 15h2"}],["path",{d:"M9 12h6"}],["path",{d:"M10 9h4"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Wa extends we{constructor(e){super(),ye(this,e,Ga,Ha,$e,{})}}const ja=Wa;function Va(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Za(i){let e,t;const n=[{name:"align-box-top-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Va]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Xa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 9v-2"}],["path",{d:"M12 13v-6"}],["path",{d:"M15 11v-4"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class qa extends we{constructor(e){super(),ye(this,e,Xa,Za,$e,{})}}const Ya=qa;function Ka(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Qa(i){let e,t;const n=[{name:"align-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ka]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Ja(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class el extends we{constructor(e){super(),ye(this,e,Ja,Qa,$e,{})}}const tl=el;function nl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function rl(i){let e,t;const n=[{name:"align-left"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[nl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function il(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class sl extends we{constructor(e){super(),ye(this,e,il,rl,$e,{})}}const ol=sl;function al(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function ll(i){let e,t;const n=[{name:"align-right"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[al]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function ul(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class cl extends we{constructor(e){super(),ye(this,e,ul,ll,$e,{})}}const fl=cl;function hl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function ml(i){let e,t;const n=[{name:"arrow-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[hl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function dl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 13l-6 6"}],["path",{d:"M6 13l6 6"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class pl extends we{constructor(e){super(),ye(this,e,dl,ml,$e,{})}}const _l=pl;function gl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function bl(i){let e,t;const n=[{name:"arrow-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[gl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function vl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 11l-6 -6"}],["path",{d:"M6 11l6 -6"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class $l extends we{constructor(e){super(),ye(this,e,vl,bl,$e,{})}}const wl=$l;function yl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Al(i){let e,t;const n=[{name:"bold"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[yl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function El(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class kl extends we{constructor(e){super(),ye(this,e,El,Al,$e,{})}}const Tl=kl;function Sl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Il(i){let e,t;const n=[{name:"box-align-bottom"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Sl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Cl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 14h16v5a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1v-5z"}],["path",{d:"M4 9v.01"}],["path",{d:"M4 4v.01"}],["path",{d:"M9 4v.01"}],["path",{d:"M15 4v.01"}],["path",{d:"M20 4v.01"}],["path",{d:"M20 9v.01"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Rl extends we{constructor(e){super(),ye(this,e,Cl,Il,$e,{})}}const Fl=Rl;function xl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Bl(i){let e,t;const n=[{name:"box-align-top"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[xl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Nl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 9.505h16v-5a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1v5z"}],["path",{d:"M4 14.505v-.01"}],["path",{d:"M4 19.505v-.01"}],["path",{d:"M9 19.505v-.01"}],["path",{d:"M15 19.505v-.01"}],["path",{d:"M20 19.505v-.01"}],["path",{d:"M20 14.505v-.01"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Pl extends we{constructor(e){super(),ye(this,e,Nl,Bl,$e,{})}}const Dl=Pl;function Ul(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function zl(i){let e,t;const n=[{name:"brand-github-filled"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ul]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Ml(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z","stroke-width":"0",fill:"currentColor"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ol extends we{constructor(e){super(),ye(this,e,Ml,zl,$e,{})}}const Ll=Ol;function Hl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Gl(i){let e,t;const n=[{name:"chevron-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Hl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Wl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 9l6 6l6 -6"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class jl extends we{constructor(e){super(),ye(this,e,Wl,Gl,$e,{})}}const Vl=jl;function Zl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Xl(i){let e,t;const n=[{name:"copy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Zl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function ql(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Yl extends we{constructor(e){super(),ye(this,e,ql,Xl,$e,{})}}const gs=Yl;function Kl(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Ql(i){let e,t;const n=[{name:"device-floppy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Kl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Jl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M14 4l0 4l-6 0l0 -4"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class eu extends we{constructor(e){super(),ye(this,e,Jl,Ql,$e,{})}}const tu=eu;function nu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function ru(i){let e,t;const n=[{name:"help"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[nu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function iu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M12 17l0 .01"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class su extends we{constructor(e){super(),ye(this,e,iu,ru,$e,{})}}const ou=su;function au(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function lu(i){let e,t;const n=[{name:"history"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[au]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function uu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 8l0 4l2 2"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class cu extends we{constructor(e){super(),ye(this,e,uu,lu,$e,{})}}const fu=cu;function hu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function mu(i){let e,t;const n=[{name:"info-circle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[hu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function du(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class pu extends we{constructor(e){super(),ye(this,e,du,mu,$e,{})}}const _u=pu;function gu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function bu(i){let e,t;const n=[{name:"italic"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[gu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function vu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class $u extends we{constructor(e){super(),ye(this,e,vu,bu,$e,{})}}const wu=$u;function yu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Au(i){let e,t;const n=[{name:"line-height"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[yu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Eu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 8l3 -3l3 3"}],["path",{d:"M3 16l3 3l3 -3"}],["path",{d:"M6 5l0 14"}],["path",{d:"M13 6l7 0"}],["path",{d:"M13 12l7 0"}],["path",{d:"M13 18l7 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ku extends we{constructor(e){super(),ye(this,e,Eu,Au,$e,{})}}const Tu=ku;function Su(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Iu(i){let e,t;const n=[{name:"minus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Su]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Cu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ru extends we{constructor(e){super(),ye(this,e,Cu,Iu,$e,{})}}const Fu=Ru;function xu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Bu(i){let e,t;const n=[{name:"new-section"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[xu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Nu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M9 12l6 0"}],["path",{d:"M12 9l0 6"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Pu extends we{constructor(e){super(),ye(this,e,Nu,Bu,$e,{})}}const bi=Pu;function Du(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Uu(i){let e,t;const n=[{name:"photo-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Du]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function zu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Mu extends we{constructor(e){super(),ye(this,e,zu,Uu,$e,{})}}const Ou=Mu;function Lu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Hu(i){let e,t;const n=[{name:"photo-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Lu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Gu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3.5 3.5"}],["path",{d:"M14 14l1 -1c.679 -.653 1.473 -.829 2.214 -.526"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Wu extends we{constructor(e){super(),ye(this,e,Gu,Hu,$e,{})}}const ju=Wu;function Vu(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Zu(i){let e,t;const n=[{name:"plus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Vu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Xu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class qu extends we{constructor(e){super(),ye(this,e,Xu,Zu,$e,{})}}const Yu=qu;function Ku(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function Qu(i){let e,t;const n=[{name:"rectangle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ku]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Ju(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ec extends we{constructor(e){super(),ye(this,e,Ju,Qu,$e,{})}}const tc=ec;function nc(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function rc(i){let e,t;const n=[{name:"settings"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[nc]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function ic(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class sc extends we{constructor(e){super(),ye(this,e,ic,rc,$e,{})}}const oc=sc;function ac(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function lc(i){let e,t;const n=[{name:"trash"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ac]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function uc(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class cc extends we{constructor(e){super(),ye(this,e,uc,lc,$e,{})}}const fc=cc;function hc(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function mc(i){let e,t;const n=[{name:"upload"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[hc]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function dc(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M7 9l5 -5l5 5"}],["path",{d:"M12 4l0 12"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class pc extends we{constructor(e){super(),ye(this,e,dc,mc,$e,{})}}const _c=pc;function gc(i){let e;const t=i[2].default,n=xe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&Be(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(A(n,r),e=!0)},o(r){E(n,r),e=!1},d(r){n&&n.d(r)}}}function bc(i){let e,t;const n=[{name:"x"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[gc]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ue(r,n[s]);return e=new je({props:r}),{c(){L(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){G(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&We(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function vc(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M18 6l-12 12"}],["path",{d:"M6 6l12 12"}]];return i.$$set=o=>{t(1,e=ue(ue({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class $c extends we{constructor(e){super(),ye(this,e,vc,bc,$e,{})}}const wc=$c;const yc=i=>({}),vi=i=>({}),Ac=i=>({}),$i=i=>({});function wi(i){let e,t,n,r,s,o;const a=i[5].content,l=xe(a,i,i[4],vi);return{c(){e=oe("article"),l&&l.c(),this.h()},l(u){e=ae(u,"ARTICLE",{style:!0,class:!0});var c=ce(e);l&&l.l(c),c.forEach(C),this.h()},h(){Q(e,"style",t=`width:${i[3]}px;`),Q(e,"class","svelte-19hnyjw")},m(u,c){J(u,e,c),l&&l.m(e,null),r=!0,s||(o=[ze(e,"mouseover",i[8]),ze(e,"mouseout",i[9])],s=!0)},p(u,c){l&&l.p&&(!r||c&16)&&Be(l,a,u,u[4],r?Pe(a,u[4],c,yc):Ne(u[4]),vi),(!r||c&8&&t!==(t=`width:${u[3]}px;`))&&Q(e,"style",t)},i(u){r||(A(l,u),jn(()=>{n||(n=Pt(e,Dt,{duration:150},!0)),n.run(1)}),r=!0)},o(u){E(l,u),n||(n=Pt(e,Dt,{duration:150},!1)),n.run(0),r=!1},d(u){u&&C(e),l&&l.d(u),u&&n&&n.end(),s=!1,pt(o)}}}function Ec(i){let e,t,n,r,s,o,a,l,u,c;const f=i[5].header,m=xe(f,i,i[4],$i);r=new Vl({});let h=(i[2]||i[1])&&wi(i);return{c(){e=oe("main"),t=oe("button"),m&&m.c(),n=de(),L(r.$$.fragment),o=de(),h&&h.c(),this.h()},l(d){e=ae(d,"MAIN",{style:!0,class:!0});var p=ce(e);t=ae(p,"BUTTON",{style:!0,class:!0});var $=ce(t);m&&m.l($),n=pe($),H(r.$$.fragment,$),$.forEach(C),o=pe(p),h&&h.l(p),p.forEach(C),this.h()},h(){Q(t,"style",s=`height:${i[0].height};width:${i[0].width};`),Q(t,"class","svelte-19hnyjw"),Q(e,"style",a=`height:${i[0].height};width:${i[0].width};${i[0].main}`),Q(e,"class","svelte-19hnyjw")},m(d,p){J(d,e,p),q(e,t),m&&m.m(t,null),q(t,n),G(r,t,null),q(e,o),h&&h.m(e,null),l=!0,u||(c=[ze(t,"click",i[6]),ze(t,"focusout",i[7])],u=!0)},p(d,[p]){m&&m.p&&(!l||p&16)&&Be(m,f,d,d[4],l?Pe(f,d[4],p,Ac):Ne(d[4]),$i),(!l||p&1&&s!==(s=`height:${d[0].height};width:${d[0].width};`))&&Q(t,"style",s),d[2]||d[1]?h?(h.p(d,p),p&6&&A(h,1)):(h=wi(d),h.c(),A(h,1),h.m(e,null)):h&&(Ze(),E(h,1,1,()=>{h=null}),Xe()),(!l||p&1&&a!==(a=`height:${d[0].height};width:${d[0].width};${d[0].main}`))&&Q(e,"style",a)},i(d){l||(A(m,d),A(r.$$.fragment,d),A(h),l=!0)},o(d){E(m,d),E(r.$$.fragment,d),E(h),l=!1},d(d){d&&C(e),m&&m.d(d),W(r),h&&h.d(),u=!1,pt(c)}}}function kc(i,e,t){let{$$slots:n={},$$scope:r}=e,s=!1,o=!1,{css:a={height:"48px",width:"100%",main:""}}=e,l=0;const u=h=>{const d=h.currentTarget.getBoundingClientRect();t(3,l=d.width),t(1,s=!s)},c=()=>setTimeout(()=>t(1,s=!1),100),f=()=>t(2,o=!0),m=()=>t(2,o=!1);return i.$$set=h=>{"css"in h&&t(0,a=h.css),"$$scope"in h&&t(4,r=h.$$scope)},[a,s,o,l,r,n,u,c,f,m]}class bs extends we{constructor(e){super(),ye(this,e,kc,Ec,$e,{css:0})}}const Tc=i=>({item:i&1}),yi=i=>({item:i[0]});function Ai(i,e,t){const n=i.slice();return n[10]=e[t],n}const Sc=i=>({item:i&2}),Ei=i=>({item:i[10]});function Ic(i){let e;return{c(){e=Ae(i[0])},l(t){e=Ee(t,i[0])},m(t,n){J(t,e,n)},p(t,n){n&1&&ft(e,t[0])},d(t){t&&C(e)}}}function Cc(i){let e;const t=i[5].default,n=xe(t,i,i[9],yi),r=n||Ic(i);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,o){r&&r.m(s,o),e=!0},p(s,o){n?n.p&&(!e||o&513)&&Be(n,t,s,s[9],e?Pe(t,s[9],o,Tc):Ne(s[9]),yi):r&&r.p&&(!e||o&1)&&r.p(s,e?o:-1)},i(s){e||(A(r,s),e=!0)},o(s){E(r,s),e=!1},d(s){r&&r.d(s)}}}function ki(i){let e,t,n,r,s,o,a,l;function u(...h){return i[8](i[10],...h)}const c=i[5].default,f=xe(c,i,i[9],Ei),m=f||Rc(i);return{c(){e=oe("label"),t=oe("input"),r=de(),m&&m.c(),s=de(),this.h()},l(h){e=ae(h,"LABEL",{class:!0});var d=ce(e);t=ae(d,"INPUT",{type:!0,class:!0}),r=pe(d),m&&m.l(d),s=pe(d),d.forEach(C),this.h()},h(){Q(t,"type","radio"),t.__value=n=i[10],t.value=t.__value,Q(t,"class","svelte-1plfxql"),i[7][0].push(t),Q(e,"class","svelte-1plfxql"),gt(e,"active",i[10]===i[0])},m(h,d){J(h,e,d),q(e,t),t.checked=t.__value===i[0],q(e,r),m&&m.m(e,null),q(e,s),o=!0,a||(l=[ze(t,"change",i[6]),ze(t,"change",u)],a=!0)},p(h,d){i=h,(!o||d&2&&n!==(n=i[10]))&&(t.__value=n,t.value=t.__value),d&1&&(t.checked=t.__value===i[0]),f?f.p&&(!o||d&514)&&Be(f,c,i,i[9],o?Pe(c,i[9],d,Sc):Ne(i[9]),Ei):m&&m.p&&(!o||d&2)&&m.p(i,o?d:-1),(!o||d&3)&&gt(e,"active",i[10]===i[0])},i(h){o||(A(m,h),o=!0)},o(h){E(m,h),o=!1},d(h){h&&C(e),i[7][0].splice(i[7][0].indexOf(t),1),m&&m.d(h),a=!1,pt(l)}}}function Rc(i){let e=i[10]+"",t;return{c(){t=Ae(e)},l(n){t=Ee(n,e)},m(n,r){J(n,t,r)},p(n,r){r&2&&e!==(e=n[10]+"")&&ft(t,e)},d(n){n&&C(t)}}}function Ti(i){let e,t,n=i[10]!=i[2]&&ki(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),J(r,e,s),t=!0},p(r,s){r[10]!=r[2]?n?(n.p(r,s),s&6&&A(n,1)):(n=ki(r),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(Ze(),E(n,1,1,()=>{n=null}),Xe())},i(r){t||(A(n),t=!0)},o(r){E(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function Fc(i){let e,t,n=i[1],r=[];for(let o=0;o<n.length;o+=1)r[o]=Ti(Ai(i,n,o));const s=o=>E(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=qe()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=qe()},m(o,a){for(let l=0;l<r.length;l+=1)r[l].m(o,a);J(o,e,a),t=!0},p(o,a){if(a&535){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=Ai(o,n,l);r[l]?(r[l].p(u,a),A(r[l],1)):(r[l]=Ti(u),r[l].c(),A(r[l],1),r[l].m(e.parentNode,e))}for(Ze(),l=n.length;l<r.length;l+=1)s(l);Xe()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)A(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)E(r[a]);t=!1},d(o){_n(r,o),o&&C(e)}}}function xc(i){let e,t;return e=new bs({props:{css:i[3],$$slots:{content:[Fc],header:[Cc]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.css=n[3]),r&519&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Bc(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{items:o}=e,{placeholder:a=void 0}=e,{css:l={height:"48px",width:"100%",main:""}}=e;const u=Mt(),c=[[]];function f(){s=this.__value,t(0,s)}const m=(h,d)=>{d.currentTarget.checked&&u("change",{value:h})};return i.$$set=h=>{"value"in h&&t(0,s=h.value),"items"in h&&t(1,o=h.items),"placeholder"in h&&t(2,a=h.placeholder),"css"in h&&t(3,l=h.css),"$$scope"in h&&t(9,r=h.$$scope)},[s,o,a,l,u,n,f,c,m,r]}class It extends we{constructor(e){super(),ye(this,e,Bc,xc,$e,{value:0,items:1,placeholder:2,css:3})}}function Nc(i){let e,t,n,r,s,o,a,l,u,c,f,m,h;return a=new Fu({}),c=new Yu({}),{c(){e=oe("main"),t=oe("input"),r=de(),s=oe("footer"),o=oe("button"),L(a.$$.fragment),l=de(),u=oe("button"),L(c.$$.fragment),this.h()},l(d){e=ae(d,"MAIN",{class:!0});var p=ce(e);t=ae(p,"INPUT",{class:!0}),r=pe(p),s=ae(p,"FOOTER",{class:!0});var $=ce(s);o=ae($,"BUTTON",{title:!0,class:!0});var g=ce(o);H(a.$$.fragment,g),g.forEach(C),l=pe($),u=ae($,"BUTTON",{title:!0,class:!0});var v=ce(u);H(c.$$.fragment,v),v.forEach(C),$.forEach(C),p.forEach(C),this.h()},h(){t.value=n=i[0].toString(),Q(t,"class","svelte-r64waw"),Q(o,"title",i[9]),Q(o,"class","svelte-r64waw"),Q(u,"title",i[9]),Q(u,"class","svelte-r64waw"),Q(s,"class","svelte-r64waw"),Q(e,"class","svelte-r64waw")},m(d,p){J(d,e,p),q(e,t),q(e,r),q(e,s),q(s,o),G(a,o,null),q(s,l),q(s,u),G(c,u,null),f=!0,m||(h=[ze(t,"input",i[12]),ze(t,"change",i[13]),ze(o,"mousedown",i[14]),ze(o,"mouseup",i[15]),ze(u,"mousedown",i[16]),ze(u,"mouseup",i[17])],m=!0)},p(d,[p]){(!f||p&1&&n!==(n=d[0].toString())&&t.value!==n)&&(t.value=n)},i(d){f||(A(a.$$.fragment,d),A(c.$$.fragment,d),f=!0)},o(d){E(a.$$.fragment,d),E(c.$$.fragment,d),f=!1},d(d){d&&C(e),W(a),W(c),m=!1,pt(h)}}}function Pc(i,e,t){let{value:n}=e,{min:r=-1/0}=e,{max:s=1/0}=e,{step:o=1}=e,{ctrlMultiplier:a=2}=e,{shiftMultiplier:l=5}=e;const u=Mt();let c=-1,f=!1;function m(R){(!R||R.button===0)&&c!==-1&&(clearInterval(c),t(4,f=!1))}function h(R){let j=1;return R.ctrlKey&&(j*=a),R.shiftKey&&(j*=l),j}function d(R){t(0,n=Math.min(s,Math.max(r,n+R))),u("input",n),u("change",n)}function p(R){m(),c=setInterval(()=>{t(4,f=!0),d(R)},150)}$n(()=>(document.addEventListener("mouseup",m),()=>document.removeEventListener("mouseup",m)));const $=`Шаг: ${o}
Ctrl: x${a}
Shift: x${l}`,g=R=>{const j=Number(R.currentTarget.value);if(Number.isNaN(j)){R.currentTarget.value=n.toString();return}t(0,n=Math.min(s,Math.max(r,j))),u("input",n)},v=R=>u("change",Number(R.currentTarget.value)),w=R=>{R.button==0&&p(-h(R)*o)},I=R=>{R.button==0&&(f||d(-h(R)*o))},S=R=>{R.button==0&&p(+h(R)*o)},B=R=>{R.button==0&&(f||d(+h(R)*o))};return i.$$set=R=>{"value"in R&&t(0,n=R.value),"min"in R&&t(1,r=R.min),"max"in R&&t(2,s=R.max),"step"in R&&t(3,o=R.step),"ctrlMultiplier"in R&&t(10,a=R.ctrlMultiplier),"shiftMultiplier"in R&&t(11,l=R.shiftMultiplier)},[n,r,s,o,f,u,h,d,p,$,a,l,g,v,w,I,S,B]}class _t extends we{constructor(e){super(),ye(this,e,Pc,Nc,$e,{value:0,min:1,max:2,step:3,ctrlMultiplier:10,shiftMultiplier:11})}}function Dc(i){let e,t,n,r;function s(a){i[1](a)}let o={};return i[0].x!==void 0&&(o.value=i[0].x),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[2]),{c(){e=Ae("x "),L(t.$$.fragment)},l(a){e=Ee(a,"x "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].x,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function Uc(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].y!==void 0&&(o.value=i[0].y),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[4]),{c(){e=Ae("y "),L(t.$$.fragment)},l(a){e=Ee(a,"y "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].y,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function zc(i){let e,t,n,r;return e=new et({props:{$$slots:{default:[Dc]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Uc]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment)},l(s){H(e.$$.fragment,s),t=pe(s),H(n.$$.fragment,s)},m(s,o){G(e,s,o),J(s,t,o),G(n,s,o),r=!0},p(s,o){const a={};o&33&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const l={};o&33&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){r||(A(e.$$.fragment,s),A(n.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),r=!1},d(s){W(e,s),s&&C(t),W(n,s)}}}function Mc(i){let e,t;return e=new Ot({props:{$$slots:{default:[zc]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Oc(i,e,t){let{value:n}=e;function r(l){i.$$.not_equal(n.x,l)&&(n.x=l,t(0,n))}function s(l){Oe.call(this,i,l)}function o(l){i.$$.not_equal(n.y,l)&&(n.y=l,t(0,n))}function a(l){Oe.call(this,i,l)}return i.$$set=l=>{"value"in l&&t(0,n=l.value)},[n,r,s,o,a]}class Zn extends we{constructor(e){super(),ye(this,e,Oc,Mc,$e,{value:0})}}class Lc{constructor(e=new Array){Ie(this,"subscribers",new Set);this.patterns=e}subscribe(e){return this.subscribers.add(e),e(this.patterns),()=>{this.subscribers.delete(e)}}addPattern(...e){this.patterns=this.patterns.filter(t=>e.find(n=>n.name==t.name)),this.patterns.push(...e),this.subscribers.forEach(t=>t(this.patterns))}getTexture(e){const t=this.patterns.find(n=>n.name==e);if(!t)throw new Error(`Not found pattern '${e}'`);return t.textureId}}const Sr=new Lc;function Hc(i){let e,t,n,r;const s=i[3].default,o=xe(s,i,i[2],null);return{c(){e=oe("button"),o&&o.c(),this.h()},l(a){e=ae(a,"BUTTON",{class:!0});var l=ce(e);o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-1ritj3i"),gt(e,"active",i[0])},m(a,l){J(a,e,l),o&&o.m(e,null),t=!0,n||(r=ze(e,"click",i[4]),n=!0)},p(a,[l]){o&&o.p&&(!t||l&4)&&Be(o,s,a,a[2],t?Pe(s,a[2],l,null):Ne(a[2]),null),(!t||l&1)&&gt(e,"active",a[0])},i(a){t||(A(o,a),t=!0)},o(a){E(o,a),t=!1},d(a){a&&C(e),o&&o.d(a),n=!1,r()}}}function Gc(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e;const o=Mt(),a=()=>o("change",t(0,s=!s));return i.$$set=l=>{"value"in l&&t(0,s=l.value),"$$scope"in l&&t(2,r=l.$$scope)},[s,o,r,n,a]}class Dn extends we{constructor(e){super(),ye(this,e,Gc,Hc,$e,{value:0})}}function Wc(i){let e,t,n,r;function s(a){i[2](a)}let o={items:i[1].map(Ii)};return i[0].name!==void 0&&(o.value=i[0].name),t=new It({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[3]),{c(){e=Ae("Паттерн "),L(t.$$.fragment)},l(a){e=Ee(a,"Паттерн "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};l&2&&(u.items=a[1].map(Ii)),!n&&l&1&&(n=!0,u.value=a[0].name,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function jc(i){let e,t,n,r;function s(a){i[4](a)}let o={min:-360,max:360,step:.5};return i[0].rotate!==void 0&&(o.value=i[0].rotate),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[5]),{c(){e=Ae("Поворот "),L(t.$$.fragment)},l(a){e=Ee(a,"Поворот "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].rotate,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function Vc(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].shift!==void 0&&(o.value=i[0].shift),t=new Zn({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[7]),{c(){e=Ae("Сдвиг"),L(t.$$.fragment)},l(a){e=Ee(a,"Сдвиг"),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shift,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function Zc(i){let e;return{c(){e=Ae("Авто")},l(t){e=Ee(t,"Авто")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function Xc(i){let e,t,n;return t=new Dn({props:{value:i[0].scale==="font",$$slots:{default:[Zc]},$$scope:{ctx:i}}}),t.$on("change",i[8]),t.$on("change",i[9]),{c(){e=Ae("Масштаб "),L(t.$$.fragment)},l(r){e=Ee(r,"Масштаб "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].scale==="font"),s&4096&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function Si(i){let e,t;return e=new Ot({props:{$$slots:{default:[qc]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&4097&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function qc(i){let e,t,n;function r(o){i[10](o)}let s={};return i[0].scale!==void 0&&(s.value=i[0].scale),e=new Zn({props:s}),Te.push(()=>Ce(e,"value",r)),e.$on("change",i[11]),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].scale,Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Yc(i){let e,t,n,r,s,o,a,l,u,c;e=new et({props:{$$slots:{default:[Wc]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[jc]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Vc]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[Xc]},$$scope:{ctx:i}}});let f=i[0].scale!=="font"&&Si(i);return{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment),r=de(),L(s.$$.fragment),o=de(),L(a.$$.fragment),l=de(),f&&f.c(),u=qe()},l(m){H(e.$$.fragment,m),t=pe(m),H(n.$$.fragment,m),r=pe(m),H(s.$$.fragment,m),o=pe(m),H(a.$$.fragment,m),l=pe(m),f&&f.l(m),u=qe()},m(m,h){G(e,m,h),J(m,t,h),G(n,m,h),J(m,r,h),G(s,m,h),J(m,o,h),G(a,m,h),J(m,l,h),f&&f.m(m,h),J(m,u,h),c=!0},p(m,h){const d={};h&4099&&(d.$$scope={dirty:h,ctx:m}),e.$set(d);const p={};h&4097&&(p.$$scope={dirty:h,ctx:m}),n.$set(p);const $={};h&4097&&($.$$scope={dirty:h,ctx:m}),s.$set($);const g={};h&4097&&(g.$$scope={dirty:h,ctx:m}),a.$set(g),m[0].scale!=="font"?f?(f.p(m,h),h&1&&A(f,1)):(f=Si(m),f.c(),A(f,1),f.m(u.parentNode,u)):f&&(Ze(),E(f,1,1,()=>{f=null}),Xe())},i(m){c||(A(e.$$.fragment,m),A(n.$$.fragment,m),A(s.$$.fragment,m),A(a.$$.fragment,m),A(f),c=!0)},o(m){E(e.$$.fragment,m),E(n.$$.fragment,m),E(s.$$.fragment,m),E(a.$$.fragment,m),E(f),c=!1},d(m){W(e,m),m&&C(t),W(n,m),m&&C(r),W(s,m),m&&C(o),W(a,m),m&&C(l),f&&f.d(m),m&&C(u)}}}function Kc(i){let e,t;return e=new Ot({props:{$$slots:{default:[Yc]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&4099&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}const Ii=i=>i.name;function Qc(i,e,t){let n;St(i,Sr,p=>t(1,n=p));let{value:r}=e;function s(p){i.$$.not_equal(r.name,p)&&(r.name=p,t(0,r))}function o(p){Oe.call(this,i,p)}function a(p){i.$$.not_equal(r.rotate,p)&&(r.rotate=p,t(0,r))}function l(p){Oe.call(this,i,p)}function u(p){i.$$.not_equal(r.shift,p)&&(r.shift=p,t(0,r))}function c(p){Oe.call(this,i,p)}const f=p=>t(0,r.scale=p.detail?"font":{x:1,y:1},r);function m(p){Oe.call(this,i,p)}function h(p){i.$$.not_equal(r.scale,p)&&(r.scale=p,t(0,r))}function d(p){Oe.call(this,i,p)}return i.$$set=p=>{"value"in p&&t(0,r=p.value)},[r,n,s,o,a,l,u,c,f,m,h,d]}class Jc extends we{constructor(e){super(),ye(this,e,Qc,Kc,$e,{value:0})}}function ef(i){let e,t,n,r;return{c(){e=Ae("Цвет"),t=oe("input"),this.h()},l(s){e=Ee(s,"Цвет"),t=ae(s,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","color")},m(s,o){J(s,e,o),J(s,t,o),ln(t,i[0].color),n||(r=[ze(t,"input",i[2]),ze(t,"change",i[1])],n=!0)},p(s,o){o&1&&ln(t,s[0].color)},d(s){s&&C(e),s&&C(t),n=!1,pt(r)}}}function tf(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].offset!==void 0&&(o.value=i[0].offset),t=new Zn({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[4]),{c(){e=Ae("Сдвиг"),L(t.$$.fragment)},l(a){e=Ee(a,"Сдвиг"),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].offset,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function nf(i){let e,t,n,r;function s(a){i[5](a)}let o={min:0,max:1e3};return i[0].blur!==void 0&&(o.value=i[0].blur),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[6]),{c(){e=Ae("Размытие"),L(t.$$.fragment)},l(a){e=Ee(a,"Размытие"),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].blur,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function rf(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[ef]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[tf]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[nf]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment),r=de(),L(s.$$.fragment)},l(a){H(e.$$.fragment,a),t=pe(a),H(n.$$.fragment,a),r=pe(a),H(s.$$.fragment,a)},m(a,l){G(e,a,l),J(a,t,l),G(n,a,l),J(a,r,l),G(s,a,l),o=!0},p(a,l){const u={};l&129&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const c={};l&129&&(c.$$scope={dirty:l,ctx:a}),n.$set(c);const f={};l&129&&(f.$$scope={dirty:l,ctx:a}),s.$set(f)},i(a){o||(A(e.$$.fragment,a),A(n.$$.fragment,a),A(s.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),E(s.$$.fragment,a),o=!1},d(a){W(e,a),a&&C(t),W(n,a),a&&C(r),W(s,a)}}}function sf(i){let e,t;return e=new Ot({props:{$$slots:{default:[rf]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function of(i,e,t){let{value:n}=e;function r(c){Oe.call(this,i,c)}function s(){n.color=this.value,t(0,n)}function o(c){i.$$.not_equal(n.offset,c)&&(n.offset=c,t(0,n))}function a(c){Oe.call(this,i,c)}function l(c){i.$$.not_equal(n.blur,c)&&(n.blur=c,t(0,n))}function u(c){Oe.call(this,i,c)}return i.$$set=c=>{"value"in c&&t(0,n=c.value)},[n,r,s,o,a,l,u]}class af extends we{constructor(e){super(),ye(this,e,of,sf,$e,{value:0})}}function lf(i){let e=i[2][i[15]]+"",t;return{c(){t=Ae(e)},l(n){t=Ee(n,e)},m(n,r){J(n,t,r)},p(n,r){r&32768&&e!==(e=n[2][n[15]]+"")&&ft(t,e)},d(n){n&&C(t)}}}function Ci(i){let e,t;return e=new Ot({props:{$$slots:{default:[mf]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function uf(i){let e,t,n,r,s;function o(l){i[8](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new Jc({props:a}),Te.push(()=>Ce(t,"value",o)),t.$on("change",i[9]),{c(){e=oe("div"),L(t.$$.fragment)},l(l){e=ae(l,"DIV",{});var u=ce(e);H(t.$$.fragment,u),u.forEach(C)},m(l,u){J(l,e,u),G(t,e,null),s=!0},p(l,u){const c={};!n&&u&1&&(n=!0,c.value=l[0].settings,Re(()=>n=!1)),t.$set(c)},i(l){s||(A(t.$$.fragment,l),jn(()=>{r||(r=Pt(e,Dt,{},!0)),r.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),r||(r=Pt(e,Dt,{},!1)),r.run(0),s=!1},d(l){l&&C(e),W(t),l&&r&&r.end()}}}function cf(i){let e,t,n,r,s;function o(l){i[6](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new Fa({props:a}),Te.push(()=>Ce(t,"value",o)),t.$on("change",i[7]),{c(){e=oe("div"),L(t.$$.fragment)},l(l){e=ae(l,"DIV",{});var u=ce(e);H(t.$$.fragment,u),u.forEach(C)},m(l,u){J(l,e,u),G(t,e,null),s=!0},p(l,u){const c={};!n&&u&1&&(n=!0,c.value=l[0].settings,Re(()=>n=!1)),t.$set(c)},i(l){s||(A(t.$$.fragment,l),jn(()=>{r||(r=Pt(e,Dt,{},!0)),r.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),r||(r=Pt(e,Dt,{},!1)),r.run(0),s=!1},d(l){l&&C(e),W(t),l&&r&&r.end()}}}function ff(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:1,value:100-i[0].alpha*100}}),t.$on("change",i[10]),t.$on("input",i[11]),{c(){e=Ae("Прозрачность (%) "),L(t.$$.fragment)},l(r){e=Ee(r,"Прозрачность (%) "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=100-r[0].alpha*100),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function hf(i){let e,t,n,r,s;return{c(){e=Ae("Тень "),t=oe("input"),this.h()},l(o){e=Ee(o,"Тень "),t=ae(o,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","checkbox"),t.checked=n=i[0].shadow!==void 0},m(o,a){J(o,e,a),J(o,t,a),r||(s=[ze(t,"change",i[12]),ze(t,"change",i[4])],r=!0)},p(o,a){a&1&&n!==(n=o[0].shadow!==void 0)&&(t.checked=n)},d(o){o&&C(e),o&&C(t),r=!1,pt(s)}}}function Ri(i){let e,t,n,r;function s(a){i[13](a)}let o={};return i[0].shadow!==void 0&&(o.value=i[0].shadow),t=new af({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[14]),{c(){e=oe("div"),L(t.$$.fragment)},l(a){e=ae(a,"DIV",{});var l=ce(e);H(t.$$.fragment,l),l.forEach(C)},m(a,l){J(a,e,l),G(t,e,null),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shadow,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t)}}}function mf(i){let e,t,n,r,s,o,a,l,u,c;const f=[cf,uf],m=[];function h(p,$){return p[0].settings.type==="color"?0:p[0].settings.type==="pattern"?1:-1}~(e=h(i))&&(t=m[e]=f[e](i)),s=new et({props:{$$slots:{default:[ff]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[hf]},$$scope:{ctx:i}}});let d=i[0].shadow&&Ri(i);return{c(){t&&t.c(),n=de(),r=oe("div"),L(s.$$.fragment),o=de(),L(a.$$.fragment),l=de(),d&&d.c()},l(p){t&&t.l(p),n=pe(p),r=ae(p,"DIV",{});var $=ce(r);H(s.$$.fragment,$),o=pe($),H(a.$$.fragment,$),l=pe($),d&&d.l($),$.forEach(C)},m(p,$){~e&&m[e].m(p,$),J(p,n,$),J(p,r,$),G(s,r,null),q(r,o),G(a,r,null),q(r,l),d&&d.m(r,null),c=!0},p(p,$){let g=e;e=h(p),e===g?~e&&m[e].p(p,$):(t&&(Ze(),E(m[g],1,1,()=>{m[g]=null}),Xe()),~e?(t=m[e],t?t.p(p,$):(t=m[e]=f[e](p),t.c()),A(t,1),t.m(n.parentNode,n)):t=null);const v={};$&65537&&(v.$$scope={dirty:$,ctx:p}),s.$set(v);const w={};$&65537&&(w.$$scope={dirty:$,ctx:p}),a.$set(w),p[0].shadow?d?(d.p(p,$),$&1&&A(d,1)):(d=Ri(p),d.c(),A(d,1),d.m(r,null)):d&&(Ze(),E(d,1,1,()=>{d=null}),Xe())},i(p){c||(A(t),A(s.$$.fragment,p),A(a.$$.fragment,p),A(d),jn(()=>{u||(u=Pt(r,Dt,{},!0)),u.run(1)}),c=!0)},o(p){E(t),E(s.$$.fragment,p),E(a.$$.fragment,p),E(d),u||(u=Pt(r,Dt,{},!1)),u.run(0),c=!1},d(p){~e&&m[e].d(p),p&&C(n),p&&C(r),W(s),W(a),d&&d.d(),p&&u&&u.end()}}}function df(i){let e,t,n,r,s;n=new It({props:{value:i[0].settings.type,items:["disabled","color","pattern"],$$slots:{default:[lf,({item:a})=>({15:a}),({item:a})=>a?32768:0]},$$scope:{ctx:i}}}),n.$on("change",i[1]),n.$on("change",i[5]);let o=i[0].settings.type!=="disabled"&&Ci(i);return{c(){e=oe("article"),t=oe("header"),L(n.$$.fragment),r=de(),o&&o.c(),this.h()},l(a){e=ae(a,"ARTICLE",{class:!0});var l=ce(e);t=ae(l,"HEADER",{});var u=ce(t);H(n.$$.fragment,u),u.forEach(C),r=pe(l),o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-1b7lwvz")},m(a,l){J(a,e,l),q(e,t),G(n,t,null),q(e,r),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.value=a[0].settings.type),l&98304&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),a[0].settings.type!=="disabled"?o?(o.p(a,l),l&1&&A(o,1)):(o=Ci(a),o.c(),A(o,1),o.m(e,null)):o&&(Ze(),E(o,1,1,()=>{o=null}),Xe())},i(a){s||(A(n.$$.fragment,a),A(o),s=!0)},o(a){E(n.$$.fragment,a),E(o),s=!1},d(a){a&&C(e),W(n),o&&o.d()}}}function pf(i,e,t){let{value:n}=e,{defaults:r}=e;function s(v){const w=r.find(I=>I.type===v.detail.value);if(!w)throw new Error(`Not found default value for type ${v.detail.value}`);t(0,n.settings=w,n)}const o={disabled:"Выключить",color:"Цвет",pattern:"Паттерн"};function a(v){Oe.call(this,i,v)}function l(v){Oe.call(this,i,v)}function u(v){i.$$.not_equal(n.settings,v)&&(n.settings=v,t(0,n))}function c(v){Oe.call(this,i,v)}function f(v){i.$$.not_equal(n.settings,v)&&(n.settings=v,t(0,n))}function m(v){Oe.call(this,i,v)}function h(v){Oe.call(this,i,v)}const d=v=>{t(0,n.alpha=(100-v.detail)/100,n)},p=v=>{t(0,n.shadow=v.currentTarget.checked?{blur:10,color:"#000000",offset:{x:0,y:0}}:void 0,n)};function $(v){i.$$.not_equal(n.shadow,v)&&(n.shadow=v,t(0,n))}function g(v){Oe.call(this,i,v)}return i.$$set=v=>{"value"in v&&t(0,n=v.value),"defaults"in v&&t(3,r=v.defaults)},[n,s,o,r,a,l,u,c,f,m,h,d,p,$,g]}class vs extends we{constructor(e){super(),ye(this,e,pf,df,$e,{value:0,defaults:3})}}const $s={case:"UPPER",align:"center",baseline:"middle",lineSpacing:-.125,fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},strokeWidth:14,experimental:{}};function _f(i,e){return e.case=i.case,e.fill=an(i.fill),e.stroke=an(i.stroke),e.font=an(i.font),e}const gf=[{name:"TRUE IMPACT",case:"UPPER",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1}},{name:"post-ironic lobster",case:"lower",fill:{settings:{type:"color",value:"#ffffff"},alpha:1,shadow:{color:"#000000",blur:15,offset:{x:0,y:0}}},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Lobster",italic:!1,smallCaps:!1}},{name:"Arial subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Arial bold subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial bold",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}}],bf=Vn(gf),vf=Vn(["Impact","Lobster","Arial","Helvetica","Next art","Pacifico","Caveat","Comforter"]);function $f(i=document.fonts){const e=new Array;return i.forEach(t=>e.push(t.load().catch(n=>(console.warn(`Failed load font ${t.family}: ${n.message}`),t)))),Promise.all(e)}function Fi(i,e,t){const n=i.slice();return n[24]=e[t],n}function wf(i){let e,t;return e=new wu({props:{size:16}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p:ot,i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function yf(i){let e,t;return e=new Tl({props:{size:16}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p:ot,i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Af(i){let e;return{c(){e=Ae("Small Caps")},l(t){e=Ee(t,"Small Caps")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function Ef(i){let e,t;return e=new fl({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function kf(i){let e,t;return e=new tl({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Tf(i){let e,t;return e=new ol({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Sf(i){let e,t,n,r;const s=[Tf,kf,Ef],o=[];function a(l,u){return l[23]=="left"?0:l[23]=="center"?1:l[23]=="right"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=qe()},l(l){t&&t.l(l),n=qe()},m(l,u){~e&&o[e].m(l,u),J(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e!==c&&(t&&(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),A(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(A(t),r=!0)},o(l){E(t),r=!1},d(l){~e&&o[e].d(l),l&&C(n)}}}function If(i){let e,t;return e=new Oa({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Cf(i){let e,t;return e=new ja({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Rf(i){let e,t;return e=new Ya({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ff(i){let e,t,n,r;const s=[Rf,Cf,If],o=[];function a(l,u){return l[23]=="top"?0:l[23]=="middle"?1:l[23]=="bottom"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=qe()},l(l){t&&t.l(l),n=qe()},m(l,u){~e&&o[e].m(l,u),J(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e!==c&&(t&&(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),A(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(A(t),r=!0)},o(l){E(t),r=!1},d(l){~e&&o[e].d(l),l&&C(n)}}}function xf(i){let e,t;return e=new Tu({}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function xi(i){let e,t,n,r,s,o,a;return{c(){e=oe("label"),t=oe("input"),n=de(),r=Ae(i[24]),s=de(),this.h()},l(l){e=ae(l,"LABEL",{class:!0});var u=ce(e);t=ae(u,"INPUT",{type:!0,style:!0}),n=pe(u),r=Ee(u,i[24]),s=pe(u),u.forEach(C),this.h()},h(){Q(t,"type","radio"),t.__value=i[24],t.value=t.__value,yt(t,"display","none"),i[18][0].push(t),Q(e,"class","svelte-ebxik1")},m(l,u){J(l,e,u),q(e,t),t.checked=t.__value===i[4],q(e,n),q(e,r),q(e,s),o||(a=ze(t,"change",i[17]),o=!0)},p(l,u){u&16&&(t.checked=t.__value===l[4])},d(l){l&&C(e),i[18][0].splice(i[18][0].indexOf(t),1),o=!1,a()}}}function Bf(i){let e,t,n,r,s;function o(c){i[16](c)}let a={min:-1,step:.125};i[4]!==void 0&&(a.value=i[4]),t=new _t({props:a}),Te.push(()=>Ce(t,"value",o));let l=[0,.5,1,1.25],u=[];for(let c=0;c<4;c+=1)u[c]=xi(Fi(i,l,c));return{c(){e=oe("section"),L(t.$$.fragment),r=de();for(let c=0;c<4;c+=1)u[c].c();this.h()},l(c){e=ae(c,"SECTION",{slot:!0,class:!0});var f=ce(e);H(t.$$.fragment,f),r=pe(f);for(let m=0;m<4;m+=1)u[m].l(f);f.forEach(C),this.h()},h(){Q(e,"slot","content"),Q(e,"class","spacing-values svelte-ebxik1")},m(c,f){J(c,e,f),G(t,e,null),q(e,r);for(let m=0;m<4;m+=1)u[m].m(e,null);s=!0},p(c,f){const m={};if(!n&&f&16&&(n=!0,m.value=c[4],Re(()=>n=!1)),t.$set(m),f&16){l=[0,.5,1,1.25];let h;for(h=0;h<4;h+=1){const d=Fi(c,l,h);u[h]?u[h].p(d,f):(u[h]=xi(d),u[h].c(),u[h].m(e,null))}for(;h<4;h+=1)u[h].d(1)}},i(c){s||(A(t.$$.fragment,c),s=!0)},o(c){E(t.$$.fragment,c),s=!1},d(c){c&&C(e),W(t),_n(u,c)}}}function Nf(i){let e,t=i[23]+"",n;return{c(){e=oe("section"),n=Ae(t),this.h()},l(r){e=ae(r,"SECTION",{style:!0});var s=ce(e);n=Ee(s,t),s.forEach(C),this.h()},h(){yt(e,"font-family",i[23])},m(r,s){J(r,e,s),q(e,n)},p(r,s){s&8388608&&t!==(t=r[23]+"")&&ft(n,t),s&8388608&&yt(e,"font-family",r[23])},d(r){r&&C(e)}}}function Pf(i){let e=i[23]+"",t;return{c(){t=Ae(e)},l(n){t=Ee(n,e)},m(n,r){J(n,t,r)},p(n,r){r&8388608&&e!==(e=n[23]+"")&&ft(t,e)},d(n){n&&C(t)}}}function Df(i){let e,t,n,r,s,o,a,l,u,c,f,m,h,d,p,$,g,v,w,I,S,B,R,j;function z(Z){i[6](Z)}let N={$$slots:{default:[wf]},$$scope:{ctx:i}};i[0].italic!==void 0&&(N.value=i[0].italic),t=new Dn({props:N}),Te.push(()=>Ce(t,"value",z)),t.$on("change",i[7]);function Y(Z){i[8](Z)}let T={$$slots:{default:[yf]},$$scope:{ctx:i}};i[0].bold!==void 0&&(T.value=i[0].bold),s=new Dn({props:T}),Te.push(()=>Ce(s,"value",Y)),s.$on("change",i[9]);function F(Z){i[10](Z)}let b={$$slots:{default:[Af]},$$scope:{ctx:i}};i[0].smallCaps!==void 0&&(b.value=i[0].smallCaps),l=new Dn({props:b}),Te.push(()=>Ce(l,"value",F)),l.$on("change",i[11]);function D(Z){i[12](Z)}let se={items:["left","center","right"],$$slots:{default:[Sf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[2]!==void 0&&(se.value=i[2]),f=new It({props:se}),Te.push(()=>Ce(f,"value",D)),f.$on("change",i[13]);function X(Z){i[14](Z)}let me={items:["top","middle","bottom"],$$slots:{default:[Ff,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[3]!==void 0&&(me.value=i[3]),d=new It({props:me}),Te.push(()=>Ce(d,"value",X)),d.$on("change",i[15]),g=new bs({props:{css:{height:"48px",main:"min-width:100px",width:"100%"},$$slots:{content:[Bf],header:[xf]},$$scope:{ctx:i}}});function ne(Z){i[19](Z)}let be={items:i[5],$$slots:{default:[Nf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[0].family!==void 0&&(be.value=i[0].family),w=new It({props:be}),Te.push(()=>Ce(w,"value",ne)),w.$on("change",i[20]);function M(Z){i[21](Z)}let P={items:["As is","UPPER","lower"],$$slots:{default:[Pf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(P.value=i[1]),B=new It({props:P}),Te.push(()=>Ce(B,"value",M)),B.$on("change",i[22]),{c(){e=oe("article"),L(t.$$.fragment),r=de(),L(s.$$.fragment),a=de(),L(l.$$.fragment),c=de(),L(f.$$.fragment),h=de(),L(d.$$.fragment),$=de(),L(g.$$.fragment),v=de(),L(w.$$.fragment),S=de(),L(B.$$.fragment),this.h()},l(Z){e=ae(Z,"ARTICLE",{class:!0});var K=ce(e);H(t.$$.fragment,K),r=pe(K),H(s.$$.fragment,K),a=pe(K),H(l.$$.fragment,K),c=pe(K),H(f.$$.fragment,K),h=pe(K),H(d.$$.fragment,K),$=pe(K),H(g.$$.fragment,K),v=pe(K),H(w.$$.fragment,K),S=pe(K),H(B.$$.fragment,K),K.forEach(C),this.h()},h(){Q(e,"class","svelte-ebxik1")},m(Z,K){J(Z,e,K),G(t,e,null),q(e,r),G(s,e,null),q(e,a),G(l,e,null),q(e,c),G(f,e,null),q(e,h),G(d,e,null),q(e,$),G(g,e,null),q(e,v),G(w,e,null),q(e,S),G(B,e,null),j=!0},p(Z,[K]){const U={};K&134217728&&(U.$$scope={dirty:K,ctx:Z}),!n&&K&1&&(n=!0,U.value=Z[0].italic,Re(()=>n=!1)),t.$set(U);const te={};K&134217728&&(te.$$scope={dirty:K,ctx:Z}),!o&&K&1&&(o=!0,te.value=Z[0].bold,Re(()=>o=!1)),s.$set(te);const Fe={};K&134217728&&(Fe.$$scope={dirty:K,ctx:Z}),!u&&K&1&&(u=!0,Fe.value=Z[0].smallCaps,Re(()=>u=!1)),l.$set(Fe);const Se={};K&142606336&&(Se.$$scope={dirty:K,ctx:Z}),!m&&K&4&&(m=!0,Se.value=Z[2],Re(()=>m=!1)),f.$set(Se);const Ue={};K&142606336&&(Ue.$$scope={dirty:K,ctx:Z}),!p&&K&8&&(p=!0,Ue.value=Z[3],Re(()=>p=!1)),d.$set(Ue);const De={};K&134217744&&(De.$$scope={dirty:K,ctx:Z}),g.$set(De);const Le={};K&32&&(Le.items=Z[5]),K&142606336&&(Le.$$scope={dirty:K,ctx:Z}),!I&&K&1&&(I=!0,Le.value=Z[0].family,Re(()=>I=!1)),w.$set(Le);const rt={};K&142606336&&(rt.$$scope={dirty:K,ctx:Z}),!R&&K&2&&(R=!0,rt.value=Z[1],Re(()=>R=!1)),B.$set(rt)},i(Z){j||(A(t.$$.fragment,Z),A(s.$$.fragment,Z),A(l.$$.fragment,Z),A(f.$$.fragment,Z),A(d.$$.fragment,Z),A(g.$$.fragment,Z),A(w.$$.fragment,Z),A(B.$$.fragment,Z),j=!0)},o(Z){E(t.$$.fragment,Z),E(s.$$.fragment,Z),E(l.$$.fragment,Z),E(f.$$.fragment,Z),E(d.$$.fragment,Z),E(g.$$.fragment,Z),E(w.$$.fragment,Z),E(B.$$.fragment,Z),j=!1},d(Z){Z&&C(e),W(t),W(s),W(l),W(f),W(d),W(g),W(w),W(B)}}}function Uf(i,e,t){let n;St(i,vf,N=>t(5,n=N));let{font:r}=e,{textCase:s}=e,{align:o}=e,{baseline:a}=e,{spacing:l}=e;const u=[[]];function c(N){i.$$.not_equal(r.italic,N)&&(r.italic=N,t(0,r))}function f(N){Oe.call(this,i,N)}function m(N){i.$$.not_equal(r.bold,N)&&(r.bold=N,t(0,r))}function h(N){Oe.call(this,i,N)}function d(N){i.$$.not_equal(r.smallCaps,N)&&(r.smallCaps=N,t(0,r))}function p(N){Oe.call(this,i,N)}function $(N){o=N,t(2,o)}function g(N){Oe.call(this,i,N)}function v(N){a=N,t(3,a)}function w(N){Oe.call(this,i,N)}function I(N){l=N,t(4,l)}function S(){l=this.__value,t(4,l)}function B(N){i.$$.not_equal(r.family,N)&&(r.family=N,t(0,r))}function R(N){Oe.call(this,i,N)}function j(N){s=N,t(1,s)}function z(N){Oe.call(this,i,N)}return i.$$set=N=>{"font"in N&&t(0,r=N.font),"textCase"in N&&t(1,s=N.textCase),"align"in N&&t(2,o=N.align),"baseline"in N&&t(3,a=N.baseline),"spacing"in N&&t(4,l=N.spacing)},[r,s,o,a,l,n,c,f,m,h,d,p,$,g,v,w,I,S,u,B,R,j,z]}class zf extends we{constructor(e){super(),ye(this,e,Uf,Df,$e,{font:0,textCase:1,align:2,baseline:3,spacing:4})}}function Kt({italic:i,smallCaps:e,bold:t,family:n},r){return`${i?"italic":"normal"} ${e?"small-caps":"normal"} ${t?"bold":"normal"} ${r}px ${n}`}const Mf=""+new URL("../assets/fill.3ac45f2b.png",import.meta.url).href,Of="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcCAYAAAAbWs+BAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0VaHOwg4pChCoIFURFHqWIRLJS2QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AHJ2cFF2kxP8lhRYxHhz34929x907QGhWmWr2TACqZhnpRFzM5VfF4CtCCCCMMQQlZurJzGIWnuPrHj6+3sV4lve5P0dYKZgM8InEc0w3LOIN4plNS+e8TxxhZUkhPiceN+iCxI9cl11+41xyWOCZESObnieOEIulLpa7mJUNlXiaOKqoGuULOZcVzluc1Wqdte/JXxgqaCsZrtMcRgJLSCIFETLqqKAKCzFaNVJMpGk/7uEfcvwpcsnkqoCRYwE1qJAcP/gf/O7WLE5NukmhOBB4se2PESC4C7Qatv19bNutE8D/DFxpHX+tCcx+kt7oaNEjoH8buLjuaPIecLkDDD7pkiE5kp+mUCwC72f0TXlg4BboW3N7a+/j9AHIUlfLN8DBITBaoux1j3f3dvf275l2fz9SWHKa4rAkMgAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+YMBQ4kAAWRg6AAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAADSUlEQVR42u3aMW7TYBiA4e+3jXsCKqE0QnSmndgYGHsDDsDGGZjhAByjSy/AxAkQElMqgYiywMAASMTU/hkIaoEInJK2IXkeKZvtOp/7+k/jRgAAAAAAAAAAAABsrtRno5zz/Yh4lHPeTymZGnw3jYj3KaVh3x0KM4PLIzgQHAgOEBwIDhAcCA4EBwgOBAf0U13QcQ8j4nFK6aUR87/IOW9FxPWIGFvhwEdKQHAgOEBwIDgQHCA4EBwgOBAcCA4QHAgOEBwIDgQHCA4EBwgOBAcIDgQHggMEB4ID/qa6wGPv55z3jXiutyml51fxg3POw4i4d45d07zDuZSrEdyd2YvfjSLiyRWfw82IeCC49Qnu1prOK/1p8ei5z2hF3svuOc9fcCsYXNrAWaYNPP8kocX40gQEB4IDBAeCAwQHgoONUS0Q5rWcPeecJ6Xej6NOVui0Txa4/uHaz1XPXssNrmma13VdHxVF8SIiWnM+bS0ibkTE7YjY7rn9Kp17H+9mN5Vns2vvYfeprxHxcenB1XX9ajqdTlJKW+Hfec7e9cuyLO9WVfUw57y9wEq3CtqIKPts13XdUdM0T4uiaAT3869AURTt0oNLKX2aTCafu64z4pnhcJhHo1G1s7OzW1XVlzV+qydt2344Pj5+s7e3Nx2Px4I7+7dWsdjXIL0/ww8GAyvbL7qu25iZtG2bf9xoXPl/CNQIQHAgOEBwIDhAcCA4EBwgOBAcIDgQHAgOEBwIDhAcCA4QHAgOBAcIDgQHCA4EB4IDBAeCAwQHggMEB4IDwQGCA8EBggPBgeAAwYHgAMGB4ADBgeBAcIDgQHCA4EBwIDhAcCA4QHAgOBAcIDgQHCA4EBwgOBAcCA4QHAgOEBwIDgQHCA4EBwgOBAcIDgQHggMEB4IDBAeCA8EBggPBAYIDwQGCA8GB4ADBgeAAwYHgQHCA4EBwgOBAcCA4QHAgOEBwIDhAcCA4EBwgOBAcIDgQHAgOEBwIDhAcCA4QHAgOBAcIDgQHCA4EB4IDBAeCAwQHggMEB4IDwQGCA8EBggPBgeAAwYHggL4qI7hUZUQcRMRBztk0rHCA4EBwgOBAcIDgQHAgOEBwIDhAcAAAAAAAAACso291v3UmfP9SfwAAAABJRU5ErkJggg==";function Lf(i){let e,t=i[25].name+"",n;return{c(){e=oe("div"),n=Ae(t)},l(r){e=ae(r,"DIV",{});var s=ce(e);n=Ee(s,t),s.forEach(C)},m(r,s){J(r,e,s),q(e,n)},p(r,s){s&33554432&&t!==(t=r[25].name+"")&&ft(n,t)},d(r){r&&C(e)}}}function Hf(i){let e,t=i[25].name+"",n;return{c(){e=oe("div"),n=Ae(t),this.h()},l(r){e=ae(r,"DIV",{style:!0});var s=ce(e);n=Ee(s,t),s.forEach(C),this.h()},h(){yt(e,"font",Kt(i[25].preset.font,16))},m(r,s){J(r,e,s),q(e,n)},p(r,s){s&33554432&&t!==(t=r[25].name+"")&&ft(n,t),s&33554432&&yt(e,"font",Kt(r[25].preset.font,16))},d(r){r&&C(e)}}}function Gf(i){let e;function t(s,o){return s[25].preset?Hf:Lf}let n=t(i),r=n(i);return{c(){r.c(),e=qe()},l(s){r.l(s),e=qe()},m(s,o){r.m(s,o),J(s,e,o)},p(s,o){n===(n=t(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&C(e)}}}function Wf(i){let e,t,n,r;return{c(){e=oe("div"),t=oe("img"),this.h()},l(s){e=ae(s,"DIV",{class:!0});var o=ce(e);t=ae(o,"IMG",{width:!0,height:!0,src:!0,alt:!0}),o.forEach(C),this.h()},h(){Q(t,"width","24"),Q(t,"height","24"),Yr(t.src,n=i[24].icon)||Q(t,"src",n),Q(t,"alt",r=i[24].label),Q(e,"class","icon")},m(s,o){J(s,e,o),q(e,t)},p(s,o){o&16777216&&!Yr(t.src,n=s[24].icon)&&Q(t,"src",n),o&16777216&&r!==(r=s[24].label)&&Q(t,"alt",r)},d(s){s&&C(e)}}}function jf(i){let e,t,n,r,s;e=new et({props:{$$slots:{default:[Zf]},$$scope:{ctx:i}}});function o(l){i[21](l)}let a={defaults:[{type:"disabled"},{type:"color",value:"#000000"},{type:"pattern",name:"fire",rotate:0,scale:"font",shift:{x:0,y:0}}]};return i[0].stroke!==void 0&&(a.value=i[0].stroke),n=new vs({props:a}),Te.push(()=>Ce(n,"value",o)),n.$on("change",i[22]),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment)},l(l){H(e.$$.fragment,l),t=pe(l),H(n.$$.fragment,l)},m(l,u){G(e,l,u),J(l,t,u),G(n,l,u),s=!0},p(l,u){const c={};u&67108865&&(c.$$scope={dirty:u,ctx:l}),e.$set(c);const f={};!r&&u&1&&(r=!0,f.value=l[0].stroke,Re(()=>r=!1)),n.$set(f)},i(l){s||(A(e.$$.fragment,l),A(n.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),E(n.$$.fragment,l),s=!1},d(l){W(e,l),l&&C(t),W(n,l)}}}function Vf(i){let e,t,n;function r(o){i[18](o)}let s={defaults:[{type:"disabled"},{type:"color",value:"#ffffff"},{type:"pattern",name:"fire",rotate:0,scale:"font",shift:{x:0,y:0}}]};return i[0].fill!==void 0&&(s.value=i[0].fill),e=new vs({props:s}),Te.push(()=>Ce(e,"value",r)),e.$on("change",i[19]),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].fill,Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Zf(i){let e,t,n,r;function s(a){i[20](a)}let o={min:0};return i[0].strokeWidth!==void 0&&(o.value=i[0].strokeWidth),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ae(`Толщина обводки (%)
					`),L(t.$$.fragment)},l(a){e=Ee(a,`Толщина обводки (%)
					`),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].strokeWidth,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function Xf(i){let e,t,n,r;const s=[Vf,jf],o=[];function a(l,u){return l[24].label==="Заливка"?0:l[24].label==="Обводка"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=oe("div"),n&&n.c(),this.h()},l(l){e=ae(l,"DIV",{slot:!0});var u=ce(e);n&&n.l(u),u.forEach(C),this.h()},h(){Q(e,"slot","content")},m(l,u){J(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let c=t;t=a(l),t===c?~t&&o[t].p(l,u):(n&&(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),A(n,1),n.m(e,null)):n=null)},i(l){r||(A(n),r=!0)},o(l){E(n),r=!1},d(l){l&&C(e),~t&&o[t].d()}}}function qf(i){let e,t,n,r,s,o,a,l,u,c,f,m,h,d,p,$,g,v;function w(F){i[9](F)}let I={placeholder:i[6],items:[i[6],...i[4].map(Bi)],$$slots:{default:[Gf,({item:F})=>({25:F}),({item:F})=>F?33554432:0]},$$scope:{ctx:i}};i[3]!==void 0&&(I.value=i[3]),t=new It({props:I}),Te.push(()=>Ce(t,"value",w)),t.$on("change",i[7]),t.$on("change",i[10]);function S(F){i[11](F)}function B(F){i[12](F)}function R(F){i[13](F)}function j(F){i[14](F)}function z(F){i[15](F)}let N={};i[0].font!==void 0&&(N.font=i[0].font),i[0].case!==void 0&&(N.textCase=i[0].case),i[0].align!==void 0&&(N.align=i[0].align),i[0].baseline!==void 0&&(N.baseline=i[0].baseline),i[0].lineSpacing!==void 0&&(N.spacing=i[0].lineSpacing),s=new zf({props:N}),Te.push(()=>Ce(s,"font",S)),Te.push(()=>Ce(s,"textCase",B)),Te.push(()=>Ce(s,"align",R)),Te.push(()=>Ce(s,"baseline",j)),Te.push(()=>Ce(s,"spacing",z)),s.$on("change",i[16]);function Y(F){i[23](F)}let T={tabs:i[5],$$slots:{content:[Xf,({tab:F})=>({24:F}),({tab:F})=>F?16777216:0],default:[Wf,({tab:F})=>({24:F}),({tab:F})=>F?16777216:0]},$$scope:{ctx:i}};return i[2]!==void 0&&(T.activeTab=i[2]),d=new _s({props:T}),Te.push(()=>Ce(d,"activeTab",Y)),{c(){e=oe("article"),L(t.$$.fragment),r=de(),L(s.$$.fragment),f=de(),m=oe("textarea"),h=de(),L(d.$$.fragment),this.h()},l(F){e=ae(F,"ARTICLE",{});var b=ce(e);H(t.$$.fragment,b),r=pe(b),H(s.$$.fragment,b),f=pe(b),m=ae(b,"TEXTAREA",{style:!0,rows:!0,class:!0}),ce(m).forEach(C),h=pe(b),H(d.$$.fragment,b),b.forEach(C),this.h()},h(){yt(m,"width","100%"),Q(m,"rows","6"),Q(m,"class","svelte-1fuxbeo")},m(F,b){J(F,e,b),G(t,e,null),q(e,r),G(s,e,null),q(e,f),q(e,m),ln(m,i[1]),q(e,h),G(d,e,null),$=!0,g||(v=[ze(m,"input",i[17]),ze(m,"change",i[8])],g=!0)},p(F,[b]){const D={};b&16&&(D.items=[F[6],...F[4].map(Bi)]),b&100663296&&(D.$$scope={dirty:b,ctx:F}),!n&&b&8&&(n=!0,D.value=F[3],Re(()=>n=!1)),t.$set(D);const se={};!o&&b&1&&(o=!0,se.font=F[0].font,Re(()=>o=!1)),!a&&b&1&&(a=!0,se.textCase=F[0].case,Re(()=>a=!1)),!l&&b&1&&(l=!0,se.align=F[0].align,Re(()=>l=!1)),!u&&b&1&&(u=!0,se.baseline=F[0].baseline,Re(()=>u=!1)),!c&&b&1&&(c=!0,se.spacing=F[0].lineSpacing,Re(()=>c=!1)),s.$set(se),b&2&&ln(m,F[1]);const X={};b&83886081&&(X.$$scope={dirty:b,ctx:F}),!p&&b&4&&(p=!0,X.activeTab=F[2],Re(()=>p=!1)),d.$set(X)},i(F){$||(A(t.$$.fragment,F),A(s.$$.fragment,F),A(d.$$.fragment,F),$=!0)},o(F){E(t.$$.fragment,F),E(s.$$.fragment,F),E(d.$$.fragment,F),$=!1},d(F){F&&C(e),W(t),W(s),W(d),g=!1,pt(v)}}}const Bi=i=>({name:i.name,preset:i});function Yf(i,e,t){let n;St(i,bf,Y=>t(4,n=Y));let{style:r}=e,{text:s}=e,o=[{icon:Mf,label:"Заливка"},{icon:Of,label:"Обводка"}],a=o[0];const l={name:"Выбрать пресет...",preset:null};let u=l;function c(Y){const T=Y.detail.value.preset;T&&(t(0,r=_f(T,r)),t(3,u=l))}function f(Y){Oe.call(this,i,Y)}function m(Y){u=Y,t(3,u)}function h(Y){Oe.call(this,i,Y)}function d(Y){i.$$.not_equal(r.font,Y)&&(r.font=Y,t(0,r))}function p(Y){i.$$.not_equal(r.case,Y)&&(r.case=Y,t(0,r))}function $(Y){i.$$.not_equal(r.align,Y)&&(r.align=Y,t(0,r))}function g(Y){i.$$.not_equal(r.baseline,Y)&&(r.baseline=Y,t(0,r))}function v(Y){i.$$.not_equal(r.lineSpacing,Y)&&(r.lineSpacing=Y,t(0,r))}function w(Y){Oe.call(this,i,Y)}function I(){s=this.value,t(1,s)}function S(Y){i.$$.not_equal(r.fill,Y)&&(r.fill=Y,t(0,r))}function B(Y){Oe.call(this,i,Y)}function R(Y){i.$$.not_equal(r.strokeWidth,Y)&&(r.strokeWidth=Y,t(0,r))}function j(Y){i.$$.not_equal(r.stroke,Y)&&(r.stroke=Y,t(0,r))}function z(Y){Oe.call(this,i,Y)}function N(Y){a=Y,t(2,a)}return i.$$set=Y=>{"style"in Y&&t(0,r=Y.style),"text"in Y&&t(1,s=Y.text)},[r,s,a,u,n,o,l,c,f,m,h,d,p,$,g,v,w,I,S,B,R,j,z,N]}class Kf extends we{constructor(e){super(),ye(this,e,Yf,qf,$e,{style:0,text:1})}}function Qf(i){let e,t,n,r;function s(l){i[1](l)}function o(l){i[2](l)}let a={};return i[0].text!==void 0&&(a.text=i[0].text),i[0].style!==void 0&&(a.style=i[0].style),e=new Kf({props:a}),Te.push(()=>Ce(e,"text",s)),Te.push(()=>Ce(e,"style",o)),e.$on("change",i[3]),{c(){L(e.$$.fragment)},l(l){H(e.$$.fragment,l)},m(l,u){G(e,l,u),r=!0},p(l,[u]){const c={};!t&&u&1&&(t=!0,c.text=l[0].text,Re(()=>t=!1)),!n&&u&1&&(n=!0,c.style=l[0].style,Re(()=>n=!1)),e.$set(c)},i(l){r||(A(e.$$.fragment,l),r=!0)},o(l){E(e.$$.fragment,l),r=!1},d(l){W(e,l)}}}function Jf(i,e,t){let{content:n}=e;function r(a){i.$$.not_equal(n.text,a)&&(n.text=a,t(0,n))}function s(a){i.$$.not_equal(n.style,a)&&(n.style=a,t(0,n))}function o(a){Oe.call(this,i,a)}return i.$$set=a=>{"content"in a&&t(0,n=a.content)},[n,r,s,o]}class eh extends we{constructor(e){super(),ye(this,e,Jf,Qf,$e,{content:0})}}function th(i){let e,t,n,r=i[0].text+"",s,o,a;const l=i[2].default,u=xe(l,i,i[1],null);return{c(){e=oe("article"),t=oe("main"),n=oe("div"),s=Ae(r),o=de(),u&&u.c(),this.h()},l(c){e=ae(c,"ARTICLE",{class:!0});var f=ce(e);t=ae(f,"MAIN",{style:!0,class:!0});var m=ce(t);n=ae(m,"DIV",{class:!0});var h=ce(n);s=Ee(h,r),h.forEach(C),m.forEach(C),o=pe(f),u&&u.l(f),f.forEach(C),this.h()},h(){Q(n,"class","svelte-nwe19k"),yt(t,"font",Kt(i[0].style.font,16)),Q(t,"class","svelte-nwe19k"),Q(e,"class","svelte-nwe19k")},m(c,f){J(c,e,f),q(e,t),q(t,n),q(n,s),q(e,o),u&&u.m(e,null),a=!0},p(c,[f]){(!a||f&1)&&r!==(r=c[0].text+"")&&ft(s,r),(!a||f&1)&&yt(t,"font",Kt(c[0].style.font,16)),u&&u.p&&(!a||f&2)&&Be(u,l,c,c[1],a?Pe(l,c[1],f,null):Ne(c[1]),null)},i(c){a||(A(u,c),a=!0)},o(c){E(u,c),a=!1},d(c){c&&C(e),u&&u.d(c)}}}function nh(i,e,t){let{$$slots:n={},$$scope:r}=e,{content:s}=e;return i.$$set=o=>{"content"in o&&t(0,s=o.content),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class ws extends we{constructor(e){super(),ye(this,e,nh,th,$e,{content:0})}}function Ni(i){let e,t,n,r,s;return t=new fc({props:{size:Xn}}),{c(){e=oe("button"),L(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);H(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","danger svelte-1m62gt5")},m(o,a){J(o,e,a),G(t,e,null),n=!0,r||(s=ze(e,"click",i[4]("remove")),r=!0)},p:ot,i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&C(e),W(t),r=!1,s()}}}function Pi(i){let e,t,n,r,s;return t=new gs({props:{size:Xn}}),{c(){e=oe("button"),L(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);H(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){J(o,e,a),G(t,e,null),n=!0,r||(s=ze(e,"click",i[4]("copy")),r=!0)},p:ot,i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&C(e),W(t),r=!1,s()}}}function Di(i){let e,t,n,r,s;return t=new wl({props:{size:Xn}}),{c(){e=oe("button"),L(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);H(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){J(o,e,a),G(t,e,null),n=!0,r||(s=ze(e,"click",i[4]("up")),r=!0)},p:ot,i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&C(e),W(t),r=!1,s()}}}function Ui(i){let e,t,n,r,s;return t=new _l({props:{size:Xn}}),{c(){e=oe("button"),L(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);H(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){J(o,e,a),G(t,e,null),n=!0,r||(s=ze(e,"click",i[4]("down")),r=!0)},p:ot,i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&C(e),W(t),r=!1,s()}}}function rh(i){let e,t,n,r,s,o,a=i[3]&&Ni(i),l=i[2]&&Pi(i),u=i[0]&&Di(i),c=i[1]&&Ui(i);const f=i[7].default,m=xe(f,i,i[6],null);return{c(){e=oe("footer"),a&&a.c(),t=de(),l&&l.c(),n=de(),u&&u.c(),r=de(),c&&c.c(),s=de(),m&&m.c(),this.h()},l(h){e=ae(h,"FOOTER",{class:!0});var d=ce(e);a&&a.l(d),t=pe(d),l&&l.l(d),n=pe(d),u&&u.l(d),r=pe(d),c&&c.l(d),s=pe(d),m&&m.l(d),d.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(h,d){J(h,e,d),a&&a.m(e,null),q(e,t),l&&l.m(e,null),q(e,n),u&&u.m(e,null),q(e,r),c&&c.m(e,null),q(e,s),m&&m.m(e,null),o=!0},p(h,[d]){h[3]?a?(a.p(h,d),d&8&&A(a,1)):(a=Ni(h),a.c(),A(a,1),a.m(e,t)):a&&(Ze(),E(a,1,1,()=>{a=null}),Xe()),h[2]?l?(l.p(h,d),d&4&&A(l,1)):(l=Pi(h),l.c(),A(l,1),l.m(e,n)):l&&(Ze(),E(l,1,1,()=>{l=null}),Xe()),h[0]?u?(u.p(h,d),d&1&&A(u,1)):(u=Di(h),u.c(),A(u,1),u.m(e,r)):u&&(Ze(),E(u,1,1,()=>{u=null}),Xe()),h[1]?c?(c.p(h,d),d&2&&A(c,1)):(c=Ui(h),c.c(),A(c,1),c.m(e,s)):c&&(Ze(),E(c,1,1,()=>{c=null}),Xe()),m&&m.p&&(!o||d&64)&&Be(m,f,h,h[6],o?Pe(f,h[6],d,null):Ne(h[6]),null)},i(h){o||(A(a),A(l),A(u),A(c),A(m,h),o=!0)},o(h){E(a),E(l),E(u),E(c),E(m,h),o=!1},d(h){h&&C(e),a&&a.d(),l&&l.d(),u&&u.d(),c&&c.d(),m&&m.d(h)}}}const Xn=16;function ih(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{up:o=!1}=e,{down:a=!1}=e,{copy:l=!1}=e,{remove:u=!1}=e;const c=Mt();function f(m){return h=>{h.preventDefault(),h.stopPropagation(),c(m,s)}}return i.$$set=m=>{"value"in m&&t(5,s=m.value),"up"in m&&t(0,o=m.up),"down"in m&&t(1,a=m.down),"copy"in m&&t(2,l=m.copy),"remove"in m&&t(3,u=m.remove),"$$scope"in m&&t(6,r=m.$$scope)},[o,a,l,u,f,s,r,n]}class ys extends we{constructor(e){super(),ye(this,e,ih,rh,$e,{value:5,up:0,down:1,copy:2,remove:3})}}function sh(i){let e,t,n=i[0]+1+"",r,s,o,a,l;const u=i[4].default,c=xe(u,i,i[3],null);return{c(){e=oe("article"),t=oe("header"),r=Ae(n),s=de(),o=oe("canvas"),a=de(),c&&c.c(),this.h()},l(f){e=ae(f,"ARTICLE",{class:!0});var m=ce(e);t=ae(m,"HEADER",{class:!0});var h=ce(t);r=Ee(h,n),h.forEach(C),s=pe(m),o=ae(m,"CANVAS",{class:!0}),ce(o).forEach(C),a=pe(m),c&&c.l(m),m.forEach(C),this.h()},h(){Q(t,"class","svelte-awjzj9"),Q(o,"class","svelte-awjzj9"),Q(e,"class","svelte-awjzj9")},m(f,m){J(f,e,m),q(e,t),q(t,r),q(e,s),q(e,o),i[5](o),q(e,a),c&&c.m(e,null),l=!0},p(f,[m]){(!l||m&1)&&n!==(n=f[0]+1+"")&&ft(r,n),c&&c.p&&(!l||m&8)&&Be(c,u,f,f[3],l?Pe(u,f[3],m,null):Ne(f[3]),null)},i(f){l||(A(c,f),l=!0)},o(f){E(c,f),l=!1},d(f){f&&C(e),i[5](null),c&&c.d(f)}}}function oh(i,e,t){let{$$slots:n={},$$scope:r}=e,s,o,{index:a}=e;const l=c=>{const f=s.clientWidth,h=f/c.width*c.height|0;s.width!=f&&t(1,s.width=f,s),s.height!=h&&t(1,s.height=h,s),o.drawImage(c,0,0,f,h)};$n(()=>{o=s.getContext("2d")});function u(c){Te[c?"unshift":"push"](()=>{s=c,t(1,s)})}return i.$$set=c=>{"index"in c&&t(0,a=c.index),"$$scope"in c&&t(3,r=c.$$scope)},[a,s,l,r,n,u]}class ah extends we{constructor(e){super(),ye(this,e,oh,sh,$e,{index:0,updatePreview:2})}get updatePreview(){return this.$$.ctx[2]}}function lh(i){let e;return{c(){e=Ae("Что-то пошло не так...")},l(t){e=Ee(t,"Что-то пошло не так...")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function uh(i){let e;return{c(){e=Ae("Прямоугольник")},l(t){e=Ee(t,"Прямоугольник")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function ch(i){let e;return{c(){e=Ae("Глобальный")},l(t){e=Ee(t,"Глобальный")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function fh(i){let e;function t(s,o){return s[12]=="global"?ch:s[12]=="rectangle"?uh:lh}let n=t(i),r=n(i);return{c(){r.c(),e=qe()},l(s){r.l(s),e=qe()},m(s,o){r.m(s,o),J(s,e,o)},p(s,o){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&C(e)}}}function hh(i){let e,t;return e=new Ot({props:{$$slots:{default:[gh]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function mh(i){let e,t;return e=new Ot({props:{$$slots:{default:[yh]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function dh(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.maxWidth*100}}),t.$on("change",i[9]),{c(){e=Ae("Максимальная ширина (%): "),L(t.$$.fragment)},l(r){e=Ee(r,"Максимальная ширина (%): "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxWidth*100),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function ph(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.maxHeight*100}}),t.$on("change",i[10]),{c(){e=Ae("Максимальная высота (%): "),L(t.$$.fragment)},l(r){e=Ee(r,"Максимальная высота (%): "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxHeight*100),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function _h(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.minHeight*100}}),t.$on("change",i[11]),{c(){e=Ae("Минимальная высота (%): "),L(t.$$.fragment)},l(r){e=Ee(r,"Минимальная высота (%): "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.minHeight*100),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function gh(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[dh]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[ph]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[_h]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment),r=de(),L(s.$$.fragment)},l(a){H(e.$$.fragment,a),t=pe(a),H(n.$$.fragment,a),r=pe(a),H(s.$$.fragment,a)},m(a,l){G(e,a,l),J(a,t,l),G(n,a,l),J(a,r,l),G(s,a,l),o=!0},p(a,l){const u={};l&8193&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const c={};l&8193&&(c.$$scope={dirty:l,ctx:a}),n.$set(c);const f={};l&8193&&(f.$$scope={dirty:l,ctx:a}),s.$set(f)},i(a){o||(A(e.$$.fragment,a),A(n.$$.fragment,a),A(s.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),E(s.$$.fragment,a),o=!1},d(a){W(e,a),a&&C(t),W(n,a),a&&C(r),W(s,a)}}}function bh(i){let e,t,n,r;function s(a){i[5](a)}let o={};return i[0].value.position!==void 0&&(o.value=i[0].value.position),t=new Zn({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ae("Позиция "),L(t.$$.fragment)},l(a){e=Ee(a,"Позиция "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.position,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function vh(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].value.width!==void 0&&(o.value=i[0].value.width),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ae("Ширина "),L(t.$$.fragment)},l(a){e=Ee(a,"Ширина "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.width,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function $h(i){let e,t,n,r;function s(a){i[7](a)}let o={};return i[0].value.height!==void 0&&(o.value=i[0].value.height),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ae("Высота "),L(t.$$.fragment)},l(a){e=Ee(a,"Высота "),H(t.$$.fragment,a)},m(a,l){J(a,e,l),G(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.height,Re(()=>n=!1)),t.$set(u)},i(a){r||(A(t.$$.fragment,a),r=!0)},o(a){E(t.$$.fragment,a),r=!1},d(a){a&&C(e),W(t,a)}}}function wh(i){let e,t,n;return t=new _t({props:{step:1,value:Math.round(i[0].value.rotation/Math.PI*180)}}),t.$on("change",i[8]),{c(){e=Ae("Поворот "),L(t.$$.fragment)},l(r){e=Ee(r,"Поворот "),H(t.$$.fragment,r)},m(r,s){J(r,e,s),G(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=Math.round(r[0].value.rotation/Math.PI*180)),t.$set(o)},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){E(t.$$.fragment,r),n=!1},d(r){r&&C(e),W(t,r)}}}function yh(i){let e,t,n,r,s,o,a,l;return e=new et({props:{$$slots:{default:[bh]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[vh]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[$h]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[wh]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment),r=de(),L(s.$$.fragment),o=de(),L(a.$$.fragment)},l(u){H(e.$$.fragment,u),t=pe(u),H(n.$$.fragment,u),r=pe(u),H(s.$$.fragment,u),o=pe(u),H(a.$$.fragment,u)},m(u,c){G(e,u,c),J(u,t,c),G(n,u,c),J(u,r,c),G(s,u,c),J(u,o,c),G(a,u,c),l=!0},p(u,c){const f={};c&8193&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const m={};c&8193&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const h={};c&8193&&(h.$$scope={dirty:c,ctx:u}),s.$set(h);const d={};c&8193&&(d.$$scope={dirty:c,ctx:u}),a.$set(d)},i(u){l||(A(e.$$.fragment,u),A(n.$$.fragment,u),A(s.$$.fragment,u),A(a.$$.fragment,u),l=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),E(s.$$.fragment,u),E(a.$$.fragment,u),l=!1},d(u){W(e,u),u&&C(t),W(n,u),u&&C(r),W(s,u),u&&C(o),W(a,u)}}}function Ah(i){let e,t,n,r,s,o;t=new It({props:{value:i[0].type,items:["global","rectangle"],$$slots:{default:[fh,({item:c})=>({12:c}),({item:c})=>c?4096:0]},$$scope:{ctx:i}}}),t.$on("change",i[4]);const a=[mh,hh],l=[];function u(c,f){return c[0].type=="rectangle"?0:c[0].type=="global"?1:-1}return~(r=u(i))&&(s=l[r]=a[r](i)),{c(){e=oe("article"),L(t.$$.fragment),n=de(),s&&s.c()},l(c){e=ae(c,"ARTICLE",{});var f=ce(e);H(t.$$.fragment,f),n=pe(f),s&&s.l(f),f.forEach(C)},m(c,f){J(c,e,f),G(t,e,null),q(e,n),~r&&l[r].m(e,null),o=!0},p(c,[f]){const m={};f&1&&(m.value=c[0].type),f&12288&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);let h=r;r=u(c),r===h?~r&&l[r].p(c,f):(s&&(Ze(),E(l[h],1,1,()=>{l[h]=null}),Xe()),~r?(s=l[r],s?s.p(c,f):(s=l[r]=a[r](c),s.c()),A(s,1),s.m(e,null)):s=null)},i(c){o||(A(t.$$.fragment,c),A(s),o=!0)},o(c){E(t.$$.fragment,c),E(s),o=!1},d(c){c&&C(e),W(t),~r&&l[r].d()}}}function Eh(i,e,t){let{container:n}=e,{frameWidth:r}=e,{frameHeight:s}=e;function o(p){if(p=="global"){t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n);return}t(0,n.value={width:r/2,height:s/2,position:{x:r/2,y:s/2},rotation:0},n),t(0,n.type="rectangle",n)}const a=p=>o(p.detail.value);function l(p){i.$$.not_equal(n.value.position,p)&&(n.value.position=p,t(0,n))}function u(p){i.$$.not_equal(n.value.width,p)&&(n.value.width=p,t(0,n))}function c(p){i.$$.not_equal(n.value.height,p)&&(n.value.height=p,t(0,n))}const f=p=>{n.type==="rectangle"&&t(0,n.value.rotation=p.detail%360/180*Math.PI,n)},m=p=>{n.type==="global"&&t(0,n.value.maxWidth=p.detail/100,n)},h=p=>{n.type==="global"&&t(0,n.value.maxHeight=p.detail/100,n)},d=p=>{n.type==="global"&&t(0,n.value.minHeight=p.detail/100,n)};return i.$$set=p=>{"container"in p&&t(0,n=p.container),"frameWidth"in p&&t(2,r=p.frameWidth),"frameHeight"in p&&t(3,s=p.frameHeight)},[n,o,r,s,a,l,u,c,f,m,h,d]}class kh extends we{constructor(e){super(),ye(this,e,Eh,Ah,$e,{container:0,frameWidth:2,frameHeight:3})}}function Th(i){let e;return{c(){e=Ae("Выбрать файл...")},l(t){e=Ee(t,"Выбрать файл...")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function Sh(i){let e,t,n,r,s,o,a;const l=i[5].default,u=xe(l,i,i[4],null),c=u||Th();return{c(){e=oe("label"),c&&c.c(),t=de(),n=oe("input"),this.h()},l(f){e=ae(f,"LABEL",{class:!0});var m=ce(e);c&&c.l(m),t=pe(m),n=ae(m,"INPUT",{accept:!0,type:!0,class:!0}),m.forEach(C),this.h()},h(){Q(n,"accept",i[0]),Q(n,"type","file"),Q(n,"class","svelte-187m8cr"),Q(e,"class",r=Kr(i[2])+" svelte-187m8cr")},m(f,m){J(f,e,m),c&&c.m(e,null),q(e,t),q(e,n),s=!0,o||(a=ze(n,"change",i[6]),o=!0)},p(f,[m]){u&&u.p&&(!s||m&16)&&Be(u,l,f,f[4],s?Pe(l,f[4],m,null):Ne(f[4]),null),(!s||m&1)&&Q(n,"accept",f[0]),(!s||m&4&&r!==(r=Kr(f[2])+" svelte-187m8cr"))&&Q(e,"class",r)},i(f){s||(A(c,f),s=!0)},o(f){E(c,f),s=!1},d(f){f&&C(e),c&&c.d(f),o=!1,a()}}}function Ih(i,e,t){let{$$slots:n={},$$scope:r}=e,{accept:s=void 0}=e,{typeFilter:o=/.*/}=e,{class:a=""}=e;const l=Mt(),u=c=>{const f=c.currentTarget.files;if(!f||f.length===0)return;const m=Array.from(f).filter(h=>{var d;return(d=h.type)==null?void 0:d.match(o)});m.length!==0&&(l("change",m),c.currentTarget.value="")};return i.$$set=c=>{"accept"in c&&t(0,s=c.accept),"typeFilter"in c&&t(1,o=c.typeFilter),"class"in c&&t(2,a=c.class),"$$scope"in c&&t(4,r=c.$$scope)},[s,o,a,l,r,n,u]}class zi extends we{constructor(e){super(),ye(this,e,Ih,Sh,$e,{accept:0,typeFilter:1,class:2})}}function Ch(i){let e=i[5]+"",t;return{c(){t=Ae(e)},l(n){t=Ee(n,e)},m(n,r){J(n,t,r)},p(n,r){r&32&&e!==(e=n[5]+"")&&ft(t,e)},i:ot,o:ot,d(n){n&&C(t)}}}function Rh(i){let e,t;return e=new oc({props:{size:i[2]}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Fh(i){let e,t;return e=new tc({props:{size:i[2]}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function xh(i){let e,t;return e=new Fl({props:{size:i[2]}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Bh(i){let e,t;return e=new Dl({props:{size:i[2]}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Nh(i){let e,t,n,r;const s=[Bh,xh,Fh,Rh,Ch],o=[];function a(l,u){return l[5]=="Top"?0:l[5]=="Bottom"?1:l[5]=="Free"?2:l[5]=="Custom"?3:4}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=qe()},l(l){t.l(l),n=qe()},m(l,u){o[e].m(l,u),J(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),A(t,1),t.m(n.parentNode,n))},i(l){r||(A(t),r=!0)},o(l){E(t),r=!1},d(l){o[e].d(l),l&&C(n)}}}function Ph(i){let e,t;return e=new It({props:{css:{height:"32px",width:"100%",main:"flex:1;"},items:["Top","Bottom","Free","Custom"],placeholder:"Custom",value:i[0].type=="rectangle"&&i[1].baseline=="middle"?"Free":i[0].type=="global"&&i[1].baseline=="top"?"Top":i[0].type=="global"&&i[1].baseline=="bottom"?"Bottom":"Custom",$$slots:{default:[Nh,({item:n})=>({5:n}),({item:n})=>n?32:0]},$$scope:{ctx:i}}}),e.$on("change",i[3]),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,[r]){const s={};r&3&&(s.value=n[0].type=="rectangle"&&n[1].baseline=="middle"?"Free":n[0].type=="global"&&n[1].baseline=="top"?"Top":n[0].type=="global"&&n[1].baseline=="bottom"?"Bottom":"Custom"),r&100&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Dh(i,e,t){let{container:n}=e,{style:r}=e,{frame:s}=e,{iconSize:o=16}=e;function a(l){switch(l.detail.value){case"Top":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="top",r);break}case"Bottom":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="bottom",r);break}case"Free":{t(0,n.value={width:s.width/2,height:s.height/2,position:{x:s.width/2,y:s.height/2},rotation:0},n),t(0,n.type="rectangle",n),t(1,r.baseline="middle",r);break}}}return i.$$set=l=>{"container"in l&&t(0,n=l.container),"style"in l&&t(1,r=l.style),"frame"in l&&t(4,s=l.frame),"iconSize"in l&&t(2,o=l.iconSize)},[n,r,o,a,s]}class Uh extends we{constructor(e){super(),ye(this,e,Dh,Ph,$e,{container:0,style:1,frame:4,iconSize:2})}}const zh=i=>({}),Mi=i=>({}),Mh=i=>({}),Oi=i=>({});function Li(i){let e,t,n,r,s,o,a,l,u,c,f=i[4].title&&Hi(i);const m=i[6].default,h=xe(m,i,i[5],null);let d=i[4].footer&&Wi(i);return{c(){e=oe("button"),t=de(),n=oe("div"),r=oe("article"),f&&f.c(),s=de(),o=oe("main"),h&&h.c(),a=de(),d&&d.c(),this.h()},l(p){e=ae(p,"BUTTON",{class:!0}),ce(e).forEach(C),t=pe(p),n=ae(p,"DIV",{class:!0});var $=ce(n);r=ae($,"ARTICLE",{class:!0});var g=ce(r);f&&f.l(g),s=pe(g),o=ae(g,"MAIN",{class:!0});var v=ce(o);h&&h.l(v),v.forEach(C),a=pe(g),d&&d.l(g),g.forEach(C),$.forEach(C),this.h()},h(){Q(e,"class","backdrop fixed svelte-194wwek"),Q(o,"class","svelte-194wwek"),Q(r,"class","svelte-194wwek"),Q(n,"class","container fixed svelte-194wwek")},m(p,$){J(p,e,$),J(p,t,$),J(p,n,$),q(n,r),f&&f.m(r,null),q(r,s),q(r,o),h&&h.m(o,null),q(r,a),d&&d.m(r,null),l=!0,u||(c=[ze(e,"click",i[7]),ze(n,"keypress",i[3])],u=!0)},p(p,$){p[4].title?f?(f.p(p,$),$&16&&A(f,1)):(f=Hi(p),f.c(),A(f,1),f.m(r,s)):f&&(Ze(),E(f,1,1,()=>{f=null}),Xe()),h&&h.p&&(!l||$&32)&&Be(h,m,p,p[5],l?Pe(m,p[5],$,null):Ne(p[5]),null),p[4].footer?d?(d.p(p,$),$&16&&A(d,1)):(d=Wi(p),d.c(),A(d,1),d.m(r,null)):d&&(Ze(),E(d,1,1,()=>{d=null}),Xe())},i(p){l||(A(f),A(h,p),A(d),l=!0)},o(p){E(f),E(h,p),E(d),l=!1},d(p){p&&C(e),p&&C(t),p&&C(n),f&&f.d(),h&&h.d(p),d&&d.d(),u=!1,pt(c)}}}function Hi(i){let e,t,n;const r=i[6].title,s=xe(r,i,i[5],Oi);let o=i[1]&&Gi(i);return{c(){e=oe("header"),s&&s.c(),t=de(),o&&o.c(),this.h()},l(a){e=ae(a,"HEADER",{class:!0});var l=ce(e);s&&s.l(l),t=pe(l),o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(a,l){J(a,e,l),s&&s.m(e,null),q(e,t),o&&o.m(e,null),n=!0},p(a,l){s&&s.p&&(!n||l&32)&&Be(s,r,a,a[5],n?Pe(r,a[5],l,Mh):Ne(a[5]),Oi),a[1]?o?(o.p(a,l),l&2&&A(o,1)):(o=Gi(a),o.c(),A(o,1),o.m(e,null)):o&&(Ze(),E(o,1,1,()=>{o=null}),Xe())},i(a){n||(A(s,a),A(o),n=!0)},o(a){E(s,a),E(o),n=!1},d(a){a&&C(e),s&&s.d(a),o&&o.d()}}}function Gi(i){let e,t,n,r,s;return t=new wc({}),{c(){e=oe("button"),L(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);H(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(o,a){J(o,e,a),G(t,e,null),n=!0,r||(s=ze(e,"click",i[8]),r=!0)},p:ot,i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&C(e),W(t),r=!1,s()}}}function Wi(i){let e,t;const n=i[6].footer,r=xe(n,i,i[5],Mi);return{c(){e=oe("footer"),r&&r.c(),this.h()},l(s){e=ae(s,"FOOTER",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(s,o){J(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&32)&&Be(r,n,s,s[5],t?Pe(n,s[5],o,zh):Ne(s[5]),Mi)},i(s){t||(A(r,s),t=!0)},o(s){E(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function Oh(i){let e,t,n=i[0]&&Li(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),J(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&A(n,1)):(n=Li(r),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(Ze(),E(n,1,1,()=>{n=null}),Xe())},i(r){t||(A(n),t=!0)},o(r){E(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function Lh(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Po(n);let{open:o=!0}=e,{closable:a=!0}=e;const l=Mt();function u(h="cancel"){a&&(t(0,o=!1),l("close",{action:h}))}function c(h){o&&h.key==="Escape"&&u("cancel")}$n(()=>(document.addEventListener("keyup",c),()=>document.removeEventListener("keyup",c)));const f=()=>u("cancel"),m=()=>u("cancel");return i.$$set=h=>{"open"in h&&t(0,o=h.open),"closable"in h&&t(1,a=h.closable),"$$scope"in h&&t(5,r=h.$$scope)},[o,a,u,c,s,r,n,f,m]}class _r extends we{constructor(e){super(),ye(this,e,Lh,Oh,$e,{open:0,closable:1})}}function Hh(i){let e,t,n,r,s,o;return{c(){e=oe("p"),t=Ae(`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),n=de(),r=oe("p"),s=Ae("Версия: "),o=Ae(i[0]),this.h()},l(a){e=ae(a,"P",{class:!0});var l=ce(e);t=Ee(l,`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),l.forEach(C),n=pe(a),r=ae(a,"P",{class:!0});var u=ce(r);s=Ee(u,"Версия: "),o=Ee(u,i[0]),u.forEach(C),this.h()},h(){Q(e,"class","svelte-1rcmtp1"),Q(r,"class","svelte-1rcmtp1")},m(a,l){J(a,e,l),q(e,t),J(a,n,l),J(a,r,l),q(r,s),q(r,o)},p(a,l){l&1&&ft(o,a[0])},d(a){a&&C(e),a&&C(n),a&&C(r)}}}function Gh(i){let e;return{c(){e=Ae("О проекте")},l(t){e=Ee(t,"О проекте")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function Wh(i){let e,t,n,r,s;return{c(){e=oe("p"),t=Ae("Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=oe("a"),r=Ae("GutHub"),s=Ae("."),this.h()},l(o){e=ae(o,"P",{class:!0});var a=ce(e);t=Ee(a,"Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=ae(a,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var l=ce(n);r=Ee(l,"GutHub"),l.forEach(C),s=Ee(a,"."),a.forEach(C),this.h()},h(){Q(n,"target","_blank"),Q(n,"rel","noreferrer"),Q(n,"title","Changelog"),Q(n,"href","https://github.com/RobolabGs2/memaker/blob/main/CHANGELOG.md"),Q(n,"class","svelte-1rcmtp1"),Q(e,"class","svelte-1rcmtp1")},m(o,a){J(o,e,a),q(e,t),q(e,n),q(n,r),q(e,s)},p:ot,d(o){o&&C(e)}}}function jh(i){let e;return{c(){e=Ae("История версий")},l(t){e=Ee(t,"История версий")},m(t,n){J(t,e,n)},d(t){t&&C(e)}}}function Vh(i){let e,t,n,r,s,o,a,l,u,c,f,m,h,d,p,$,g,v,w,I,S,B,R,j,z,N;function Y(D){i[4](D)}let T={$$slots:{title:[Gh],default:[Hh]},$$scope:{ctx:i}};i[1]!==void 0&&(T.open=i[1]),t=new _r({props:T}),Te.push(()=>Ce(t,"open",Y));function F(D){i[5](D)}let b={$$slots:{title:[jh],default:[Wh]},$$scope:{ctx:i}};return i[2]!==void 0&&(b.open=i[2]),s=new _r({props:b}),Te.push(()=>Ce(s,"open",F)),d=new ou({}),g=new fu({}),I=new _u({}),R=new Ll({}),{c(){e=oe("main"),L(t.$$.fragment),r=de(),L(s.$$.fragment),a=de(),l=oe("header"),u=Ae("Memaker "),c=Ae(i[0]),f=de(),m=oe("section"),h=oe("div"),L(d.$$.fragment),p=de(),$=oe("div"),L(g.$$.fragment),v=de(),w=oe("div"),L(I.$$.fragment),S=de(),B=oe("a"),L(R.$$.fragment),this.h()},l(D){e=ae(D,"MAIN",{class:!0});var se=ce(e);H(t.$$.fragment,se),r=pe(se),H(s.$$.fragment,se),a=pe(se),l=ae(se,"HEADER",{class:!0});var X=ce(l);u=Ee(X,"Memaker "),c=Ee(X,i[0]),X.forEach(C),f=pe(se),m=ae(se,"SECTION",{class:!0});var me=ce(m);h=ae(me,"DIV",{title:!0,class:!0});var ne=ce(h);H(d.$$.fragment,ne),ne.forEach(C),p=pe(me),$=ae(me,"DIV",{title:!0,class:!0});var be=ce($);H(g.$$.fragment,be),be.forEach(C),v=pe(me),w=ae(me,"DIV",{title:!0,class:!0});var M=ce(w);H(I.$$.fragment,M),M.forEach(C),S=pe(me),B=ae(me,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var P=ce(B);H(R.$$.fragment,P),P.forEach(C),me.forEach(C),se.forEach(C),this.h()},h(){Q(l,"class","svelte-1rcmtp1"),Q(h,"title","Открыть пример"),Q(h,"class","svelte-1rcmtp1"),Q($,"title","История версий приложения"),Q($,"class","svelte-1rcmtp1"),Q(w,"title","Полная информация о версии"),Q(w,"class","svelte-1rcmtp1"),Q(B,"target","_blank"),Q(B,"rel","noreferrer"),Q(B,"title","GitHub репозиторий"),Q(B,"href","https://github.com/RobolabGs2/memaker"),Q(B,"class","svelte-1rcmtp1"),Q(m,"class","svelte-1rcmtp1"),Q(e,"class","svelte-1rcmtp1")},m(D,se){J(D,e,se),G(t,e,null),q(e,r),G(s,e,null),q(e,a),q(e,l),q(l,u),q(l,c),q(e,f),q(e,m),q(m,h),G(d,h,null),q(m,p),q(m,$),G(g,$,null),q(m,v),q(m,w),G(I,w,null),q(m,S),q(m,B),G(R,B,null),j=!0,z||(N=[ze(h,"click",i[6]),ze($,"click",i[7]),ze(w,"click",i[8])],z=!0)},p(D,[se]){const X={};se&513&&(X.$$scope={dirty:se,ctx:D}),!n&&se&2&&(n=!0,X.open=D[1],Re(()=>n=!1)),t.$set(X);const me={};se&512&&(me.$$scope={dirty:se,ctx:D}),!o&&se&4&&(o=!0,me.open=D[2],Re(()=>o=!1)),s.$set(me),(!j||se&1)&&ft(c,D[0])},i(D){j||(A(t.$$.fragment,D),A(s.$$.fragment,D),A(d.$$.fragment,D),A(g.$$.fragment,D),A(I.$$.fragment,D),A(R.$$.fragment,D),j=!0)},o(D){E(t.$$.fragment,D),E(s.$$.fragment,D),E(d.$$.fragment,D),E(g.$$.fragment,D),E(I.$$.fragment,D),E(R.$$.fragment,D),j=!1},d(D){D&&C(e),W(t),W(s),W(d),W(g),W(I),W(R),z=!1,pt(N)}}}function Zh(i,e,t){let{version:n}=e;const r=Mt();let s=!1,o=!1;function a(m){s=m,t(1,s)}function l(m){o=m,t(2,o)}const u=()=>r("openExample"),c=()=>t(2,o=!0),f=()=>t(1,s=!0);return i.$$set=m=>{"version"in m&&t(0,n=m.version)},[n,s,o,r,a,l,u,c,f]}class Xh extends we{constructor(e){super(),ye(this,e,Zh,Vh,$e,{version:0})}}function qh(i){let e,t;function n(){return i[11](i[39])}function r(){return i[12](i[39])}function s(){return i[13](i[39])}function o(){return i[14](i[39])}return e=new ys({props:{up:!0,down:!0,remove:!0,copy:!0,value:i[39]}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),e.$on("copy",o),{c(){L(e.$$.fragment)},l(a){H(e.$$.fragment,a)},m(a,l){G(e,a,l),t=!0},p(a,l){i=a;const u={};l[1]&256&&(u.value=i[39]),e.$set(u)},i(a){t||(A(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){W(e,a)}}}function Yh(i){let e,t,n;function r(o){i[15](o,i[39])}let s={index:i[40],$$slots:{default:[qh]},$$scope:{ctx:i}};return i[2][i[39].id]!==void 0&&(s.updatePreview=i[2][i[39].id]),e=new ah({props:s}),Te.push(()=>Ce(e,"updatePreview",r)),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){i=o;const l={};a[1]&512&&(l.index=i[40]),a[1]&1280&&(l.$$scope={dirty:a,ctx:i}),!t&&a[0]&4|a[1]&256&&(t=!0,l.updatePreview=i[2][i[39].id],Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Kh(i){let e,t,n,r;return e=new _c({props:{size:24}}),{c(){L(e.$$.fragment),t=oe("span"),n=Ae("Открыть проект мема"),this.h()},l(s){H(e.$$.fragment,s),t=ae(s,"SPAN",{class:!0});var o=ce(t);n=Ee(o,"Открыть проект мема"),o.forEach(C),this.h()},h(){Q(t,"class","svelte-uv7e7e")},m(s,o){G(e,s,o),J(s,t,o),q(t,n),r=!0},p:ot,i(s){r||(A(e.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),r=!1},d(s){W(e,s),s&&C(t)}}}function Qh(i){let e,t,n,r;return e=new ju({props:{size:24}}),{c(){L(e.$$.fragment),t=oe("span"),n=Ae("Сменить фон"),this.h()},l(s){H(e.$$.fragment,s),t=ae(s,"SPAN",{class:!0});var o=ce(t);n=Ee(o,"Сменить фон"),o.forEach(C),this.h()},h(){Q(t,"class","svelte-uv7e7e")},m(s,o){G(e,s,o),J(s,t,o),q(t,n),r=!0},p:ot,i(s){r||(A(e.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),r=!1},d(s){W(e,s),s&&C(t)}}}function ji(i){let e,t,n,r;const s=[em,Jh],o=[];function a(l,u){return l[39].id==l[1].id&&l[1].content.type=="text"?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=qe()},l(l){t.l(l),n=qe()},m(l,u){o[e].m(l,u),J(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),A(t,1),t.m(n.parentNode,n))},i(l){r||(A(t),r=!0)},o(l){E(t),r=!1},d(l){o[e].d(l),l&&C(n)}}}function Jh(i){let e,t;return e=new ws({props:{content:i[39].content.value}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r[1]&256&&(s.content=n[39].content.value),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function em(i){let e,t;return e=new ws({props:{content:i[1].content.value,$$slots:{default:[nm]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.content=n[1].content.value),r[0]&3|r[1]&1280&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function tm(i){let e,t,n,r;function s(l){i[28](l)}function o(l){i[29](l)}let a={frame:i[0]};return i[1].content.value.style!==void 0&&(a.style=i[1].content.value.style),i[1].container!==void 0&&(a.container=i[1].container),e=new Uh({props:a}),Te.push(()=>Ce(e,"style",s)),Te.push(()=>Ce(e,"container",o)),{c(){L(e.$$.fragment)},l(l){H(e.$$.fragment,l)},m(l,u){G(e,l,u),r=!0},p(l,u){const c={};u[0]&1&&(c.frame=l[0]),!t&&u[0]&2&&(t=!0,c.style=l[1].content.value.style,Re(()=>t=!1)),!n&&u[0]&2&&(n=!0,c.container=l[1].container,Re(()=>n=!1)),e.$set(c)},i(l){r||(A(e.$$.fragment,l),r=!0)},o(l){E(e.$$.fragment,l),r=!1},d(l){W(e,l)}}}function nm(i){let e,t;function n(){return i[30](i[39])}function r(){return i[31](i[39])}function s(){return i[32](i[39])}return e=new ys({props:{up:!0,down:!0,remove:!0,value:i[39],$$slots:{default:[tm]},$$scope:{ctx:i}}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),t=!0},p(o,a){i=o;const l={};a[1]&256&&(l.value=i[39]),a[0]&3|a[1]&1024&&(l.$$scope={dirty:a,ctx:i}),e.$set(l)},i(o){t||(A(e.$$.fragment,o),t=!0)},o(o){E(e.$$.fragment,o),t=!1},d(o){W(e,o)}}}function rm(i){let e,t,n=i[39].content.type=="text"&&ji(i);return{c(){n&&n.c(),e=qe()},l(r){n&&n.l(r),e=qe()},m(r,s){n&&n.m(r,s),J(r,e,s),t=!0},p(r,s){r[39].content.type=="text"?n?(n.p(r,s),s[1]&256&&A(n,1)):(n=ji(r),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(Ze(),E(n,1,1,()=>{n=null}),Xe())},i(r){t||(A(n),t=!0)},o(r){E(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function im(i){let e,t=i[38]+"",n;return{c(){e=oe("span"),n=Ae(t),this.h()},l(r){e=ae(r,"SPAN",{class:!0});var s=ce(e);n=Ee(s,t),s.forEach(C),this.h()},h(){Q(e,"class","svelte-uv7e7e")},m(r,s){J(r,e,s),q(e,n)},p(r,s){s[1]&128&&t!==(t=r[38]+"")&&ft(n,t)},d(r){r&&C(e)}}}function sm(i){let e,t,n;function r(o){i[36](o)}let s={frameHeight:i[0].height,frameWidth:i[0].width};return i[1].container!==void 0&&(s.container=i[1].container),e=new kh({props:s}),Te.push(()=>Ce(e,"container",r)),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){const l={};a[0]&1&&(l.frameHeight=o[0].height),a[0]&1&&(l.frameWidth=o[0].width),!t&&a[0]&2&&(t=!0,l.container=o[1].container,Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function om(i){let e,t,n;function r(o){i[34](o)}let s={};return i[1].content.value!==void 0&&(s.content=i[1].content.value),e=new eh({props:s}),Te.push(()=>Ce(e,"content",r)),e.$on("change",i[35]),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.content=o[1].content.value,Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function am(i){let e,t,n,r;const s=[om,sm],o=[];function a(l,u){return l[38]==="Текст"&&l[1].content.type=="text"?0:l[38]==="Контейнер"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=oe("div"),n&&n.c(),this.h()},l(l){e=ae(l,"DIV",{slot:!0});var u=ce(e);n&&n.l(u),u.forEach(C),this.h()},h(){Q(e,"slot","content")},m(l,u){J(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let c=t;t=a(l),t===c?~t&&o[t].p(l,u):(n&&(Ze(),E(o[c],1,1,()=>{o[c]=null}),Xe()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),A(n,1),n.m(e,null)):n=null)},i(l){r||(A(n),r=!0)},o(l){E(n),r=!1},d(l){l&&C(e),~t&&o[t].d()}}}function lm(i){let e,t,n,r,s,o,a,l,u,c,f,m,h,d,p,$,g,v,w,I,S,B,R,j,z,N,Y,T,F,b,D,se,X,me,ne,be,M,P,Z,K,U,te,Fe,Se,Ue,De,Le,rt,Je,_,ee,V,k,y,x;r=new bi({});function re(le){i[16](le)}let ie={height:"50%",items:i[5].frames,$$slots:{default:[Yh,({item:le,index:ge})=>({39:le,40:ge}),({item:le,index:ge})=>[0,(le?256:0)|(ge?512:0)]]},$$scope:{ctx:i}};i[0]!==void 0&&(ie.active=i[0]),u=new di({props:ie}),Te.push(()=>Ce(u,"active",re)),u.$on("drop",Vi(i[17])),h=new Ou({props:{size:24}}),w=new tu({props:{size:24}}),j=new zi({props:{class:"new-block",accept:".meme",$$slots:{default:[Kh]},$$scope:{ctx:i}}}),j.$on("change",i[20]),N=new Xh({props:{version:i[6]}}),N.$on("openExample",i[21]),b=new zi({props:{class:"new-block",accept:"image/*",typeFilter:/^image\//,$$slots:{default:[Qh]},$$scope:{ctx:i}}}),b.$on("change",i[22]),X=new gs({});function O(le){i[24](le)}function fe(le){i[25](le)}let _e={};i[3]!==void 0&&(_e.webgl=i[3]),i[4]!==void 0&&(_e.ui=i[4]),P=new ya({props:_e}),Te.push(()=>Ce(P,"webgl",O)),Te.push(()=>Ce(P,"ui",fe)),P.$on("drop",Vi(i[26])),Se=new bi({});function he(le){i[33](le)}let ke={height:"25%",reverse:!0,items:i[0].blocks.filter(Zi),$$slots:{default:[rm,({item:le})=>({39:le}),({item:le})=>[0,le?256:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(ke.active=i[1]),Je=new di({props:ke}),Te.push(()=>Ce(Je,"active",he)),V=new _s({props:{tabs:["Текст","Контейнер"],$$slots:{content:[am,({tab:le})=>({38:le}),({tab:le})=>[0,le?128:0]],default:[im,({tab:le})=>({38:le}),({tab:le})=>[0,le?128:0]]},$$scope:{ctx:i}}}),{c(){e=oe("article"),t=oe("section"),n=oe("button"),L(r.$$.fragment),s=de(),o=oe("span"),a=Ae("Новый фрейм"),l=de(),L(u.$$.fragment),f=de(),m=oe("button"),L(h.$$.fragment),d=de(),p=oe("span"),$=Ae("Скачать мем"),g=de(),v=oe("button"),L(w.$$.fragment),I=de(),S=oe("span"),B=Ae("Сохранить проект мема"),R=de(),L(j.$$.fragment),z=de(),L(N.$$.fragment),Y=de(),T=oe("section"),F=oe("header"),L(b.$$.fragment),D=de(),se=oe("button"),L(X.$$.fragment),me=oe("span"),ne=Ae("Копировать"),be=de(),M=oe("header"),L(P.$$.fragment),U=de(),te=oe("section"),Fe=oe("button"),L(Se.$$.fragment),Ue=de(),De=oe("span"),Le=Ae("Новый блок"),rt=de(),L(Je.$$.fragment),ee=de(),L(V.$$.fragment),this.h()},l(le){e=ae(le,"ARTICLE",{class:!0});var ge=ce(e);t=ae(ge,"SECTION",{class:!0});var Ge=ce(t);n=ae(Ge,"BUTTON",{class:!0});var ht=ce(n);H(r.$$.fragment,ht),s=pe(ht),o=ae(ht,"SPAN",{class:!0});var it=ce(o);a=Ee(it,"Новый фрейм"),it.forEach(C),ht.forEach(C),l=pe(Ge),H(u.$$.fragment,Ge),f=pe(Ge),m=ae(Ge,"BUTTON",{class:!0});var mt=ce(m);H(h.$$.fragment,mt),d=pe(mt),p=ae(mt,"SPAN",{class:!0});var Ve=ce(p);$=Ee(Ve,"Скачать мем"),Ve.forEach(C),mt.forEach(C),g=pe(Ge),v=ae(Ge,"BUTTON",{class:!0});var ut=ce(v);H(w.$$.fragment,ut),I=pe(ut),S=ae(ut,"SPAN",{class:!0});var At=ce(S);B=Ee(At,"Сохранить проект мема"),At.forEach(C),ut.forEach(C),R=pe(Ge),H(j.$$.fragment,Ge),z=pe(Ge),H(N.$$.fragment,Ge),Ge.forEach(C),Y=pe(ge),T=ae(ge,"SECTION",{class:!0});var ct=ce(T);F=ae(ct,"HEADER",{class:!0});var Wt=ce(F);H(b.$$.fragment,Wt),D=pe(Wt),se=ae(Wt,"BUTTON",{class:!0});var hn=ce(se);H(X.$$.fragment,hn),me=ae(hn,"SPAN",{class:!0});var En=ce(me);ne=Ee(En,"Копировать"),En.forEach(C),hn.forEach(C),Wt.forEach(C),be=pe(ct),M=ae(ct,"HEADER",{class:!0});var kn=ce(M);H(P.$$.fragment,kn),kn.forEach(C),ct.forEach(C),U=pe(ge),te=ae(ge,"SECTION",{class:!0});var Et=ce(te);Fe=ae(Et,"BUTTON",{class:!0});var $t=ce(Fe);H(Se.$$.fragment,$t),Ue=pe($t),De=ae($t,"SPAN",{class:!0});var jt=ce(De);Le=Ee(jt,"Новый блок"),jt.forEach(C),$t.forEach(C),rt=pe(Et),H(Je.$$.fragment,Et),ee=pe(Et),H(V.$$.fragment,Et),Et.forEach(C),ge.forEach(C),this.h()},h(){Q(o,"class","svelte-uv7e7e"),Q(n,"class","new-block"),Q(p,"class","svelte-uv7e7e"),Q(m,"class","new-block"),Q(S,"class","svelte-uv7e7e"),Q(v,"class","new-block"),Q(t,"class","svelte-uv7e7e"),Q(me,"class","svelte-uv7e7e"),Q(se,"class","new-block"),Q(F,"class","controls svelte-uv7e7e"),Q(M,"class","canvas svelte-uv7e7e"),Q(T,"class","svelte-uv7e7e"),Q(De,"class","svelte-uv7e7e"),Q(Fe,"class","new-block"),Q(te,"class","svelte-uv7e7e"),Q(e,"class","svelte-uv7e7e")},m(le,ge){J(le,e,ge),q(e,t),q(t,n),G(r,n,null),q(n,s),q(n,o),q(o,a),q(t,l),G(u,t,null),q(t,f),q(t,m),G(h,m,null),q(m,d),q(m,p),q(p,$),q(t,g),q(t,v),G(w,v,null),q(v,I),q(v,S),q(S,B),q(t,R),G(j,t,null),q(t,z),G(N,t,null),q(e,Y),q(e,T),q(T,F),G(b,F,null),q(F,D),q(F,se),G(X,se,null),q(se,me),q(me,ne),q(T,be),q(T,M),G(P,M,null),q(e,U),q(e,te),q(te,Fe),G(Se,Fe,null),q(Fe,Ue),q(Fe,De),q(De,Le),q(te,rt),G(Je,te,null),q(te,ee),G(V,te,null),k=!0,y||(x=[ze(n,"click",i[10]),ze(m,"click",i[18]),ze(v,"click",i[19]),ze(se,"click",i[23]),ze(Fe,"click",i[27])],y=!0)},p(le,ge){const Ge={};ge[0]&32&&(Ge.items=le[5].frames),ge[0]&4|ge[1]&1792&&(Ge.$$scope={dirty:ge,ctx:le}),!c&&ge[0]&1&&(c=!0,Ge.active=le[0],Re(()=>c=!1)),u.$set(Ge);const ht={};ge[1]&1024&&(ht.$$scope={dirty:ge,ctx:le}),j.$set(ht);const it={};ge[0]&64&&(it.version=le[6]),N.$set(it);const mt={};ge[1]&1024&&(mt.$$scope={dirty:ge,ctx:le}),b.$set(mt);const Ve={};!Z&&ge[0]&8&&(Z=!0,Ve.webgl=le[3],Re(()=>Z=!1)),!K&&ge[0]&16&&(K=!0,Ve.ui=le[4],Re(()=>K=!1)),P.$set(Ve);const ut={};ge[0]&1&&(ut.items=le[0].blocks.filter(Zi)),ge[0]&3|ge[1]&1280&&(ut.$$scope={dirty:ge,ctx:le}),!_&&ge[0]&2&&(_=!0,ut.active=le[1],Re(()=>_=!1)),Je.$set(ut);const At={};ge[0]&3|ge[1]&1152&&(At.$$scope={dirty:ge,ctx:le}),V.$set(At)},i(le){k||(A(r.$$.fragment,le),A(u.$$.fragment,le),A(h.$$.fragment,le),A(w.$$.fragment,le),A(j.$$.fragment,le),A(N.$$.fragment,le),A(b.$$.fragment,le),A(X.$$.fragment,le),A(P.$$.fragment,le),A(Se.$$.fragment,le),A(Je.$$.fragment,le),A(V.$$.fragment,le),k=!0)},o(le){E(r.$$.fragment,le),E(u.$$.fragment,le),E(h.$$.fragment,le),E(w.$$.fragment,le),E(j.$$.fragment,le),E(N.$$.fragment,le),E(b.$$.fragment,le),E(X.$$.fragment,le),E(P.$$.fragment,le),E(Se.$$.fragment,le),E(Je.$$.fragment,le),E(V.$$.fragment,le),k=!1},d(le){le&&C(e),W(r),W(u),W(h),W(w),W(j),W(N),W(b),W(X),W(P),W(Se),W(Je),W(V),y=!1,pt(x)}}}function In(i){i.preventDefault()}function Vi(i){return e=>{var r;e.preventDefault();const t=(r=e.dataTransfer)==null?void 0:r.files;if(!t)return;const n=Array.from(t).filter(s=>{var o;return(o=s.type)==null?void 0:o.match(/^image/)});n.length&&i(n)}}const Zi=i=>i.content.type=="text";function um(i,e,t){let{meme:n}=e,{frame:r}=e,{block:s}=e,{previews:o={}}=e,{canvasWebgl:a}=e,{canvasUI:l}=e,{version:u}=e,{memeExampleURL:c}=e;const f=Mt();function m(U){f("changeBackground",{file:U})}function h(U){var Fe,Se;if(U.target instanceof HTMLInputElement||U.target instanceof HTMLTextAreaElement)return;const te=(Fe=U.clipboardData)==null?void 0:Fe.items;if(te)for(let Ue=0;Ue<te.length;Ue++){const De=te[Ue];if(!((Se=De.type)!=null&&Se.match(/^image/)))continue;const Le=De.getAsFile();Le&&m(Le);return}}$n(()=>(document.addEventListener("paste",h),document.addEventListener("dragover",In),document.addEventListener("drop",In),()=>{document.removeEventListener("paste",h),document.removeEventListener("dragover",In),document.removeEventListener("drop",In)}));const d=()=>f("createFrame"),p=U=>f("shiftFrame",{frame:U,shift:-1}),$=U=>f("shiftFrame",{frame:U,shift:1}),g=U=>f("deleteFrame",{frame:U}),v=U=>f("createFrame",{origin:U});function w(U,te){i.$$.not_equal(o[te.id],U)&&(o[te.id]=U,t(2,o))}function I(U){r=U,t(0,r)}const S=U=>f("framesFromImages",{files:U}),B=()=>f("renderMeme",{meme:n}),R=()=>f("saveMeme",{meme:n}),j=U=>f("openMeme",{file:U.detail[0]}),z=()=>fetch(c).then(U=>U.blob()).then(U=>f("openMeme",{file:U})),N=U=>m(U.detail[0]),Y=()=>f("frameToClipboard",{frame:r});function T(U){a=U,t(3,a)}function F(U){l=U,t(4,l)}const b=U=>f("changeBackground",{file:U[0]}),D=()=>f("createBlock");function se(U){i.$$.not_equal(s.content.value.style,U)&&(s.content.value.style=U,t(1,s))}function X(U){i.$$.not_equal(s.container,U)&&(s.container=U,t(1,s))}const me=U=>f("shiftBlock",{block:U,shift:1}),ne=U=>f("shiftBlock",{block:U,shift:-1}),be=U=>f("deleteBlock",{block:U});function M(U){s=U,t(1,s)}function P(U){i.$$.not_equal(s.content.value,U)&&(s.content.value=U,t(1,s))}function Z(U){Oe.call(this,i,U)}function K(U){i.$$.not_equal(s.container,U)&&(s.container=U,t(1,s))}return i.$$set=U=>{"meme"in U&&t(5,n=U.meme),"frame"in U&&t(0,r=U.frame),"block"in U&&t(1,s=U.block),"previews"in U&&t(2,o=U.previews),"canvasWebgl"in U&&t(3,a=U.canvasWebgl),"canvasUI"in U&&t(4,l=U.canvasUI),"version"in U&&t(6,u=U.version),"memeExampleURL"in U&&t(7,c=U.memeExampleURL)},[r,s,o,a,l,n,u,c,f,m,d,p,$,g,v,w,I,S,B,R,j,z,N,Y,T,F,b,D,se,X,me,ne,be,M,P,Z,K]}class cm extends we{constructor(e){super(),ye(this,e,um,lm,$e,{meme:5,frame:0,block:1,previews:2,canvasWebgl:3,canvasUI:4,version:6,memeExampleURL:7},null,[-1,-1])}}function gr(i,e){const t=URL.createObjectURL(i);return e(t).finally(()=>URL.revokeObjectURL(t))}function As(i){return new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error(`Can't load image ${i}`))},n.src=i})}function Xi(i){return e=>{const t=document.createElement("a");t.download=i,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gn={},fm={get exports(){return gn},set exports(i){gn=i}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function o(u,c){if(!r[u]){if(!n[u]){var f=typeof Rn=="function"&&Rn;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var h=r[u]={exports:{}};n[u][0].call(h.exports,function(d){var p=n[u][1][d];return o(p||d)},h,h.exports,t,n,r,s)}return r[u].exports}for(var a=typeof Rn=="function"&&Rn,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,c,f,m,h,d,p,$=[],g=0,v=l.length,w=v,I=s.getTypeOf(l)!=="string";g<l.length;)w=v-g,f=I?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),m=u>>2,h=(3&u)<<4|c>>4,d=1<w?(15&c)<<2|f>>6:64,p=2<w?63&f:64,$.push(a.charAt(m)+a.charAt(h)+a.charAt(d)+a.charAt(p));return $.join("")},r.decode=function(l){var u,c,f,m,h,d,p=0,$=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(m=a.indexOf(l.charAt(p++)))>>4,c=(15&m)<<4|(h=a.indexOf(l.charAt(p++)))>>2,f=(3&h)<<6|(d=a.indexOf(l.charAt(p++))),v[$++]=u,h!==64&&(v[$++]=c),d!==64&&(v[$++]=f);return v}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(c,f,m,h,d){this.compressedSize=c,this.uncompressedSize=f,this.crc32=m,this.compression=h,this.compressedContent=d}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,m){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,m){var h=o,d=m+f;u^=-1;for(var p=m;p<d;p++)u=u>>>8^h[255&(u^c[p])];return-1^u}(0|l,a,a.length,0):function(u,c,f,m){var h=o,d=m+f;u^=-1;for(var p=m;p<d;p++)u=u>>>8^h[255&(u^c.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,m){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}r.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},r.compressWorker=function(f){return new c("Deflate",f)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(h,d){var p,$="";for(p=0;p<d;p++)$+=String.fromCharCode(255&h),h>>>=8;return $}function o(h,d,p,$,g,v){var w,I,S=h.file,B=h.compression,R=v!==u.utf8encode,j=a.transformTo("string",v(S.name)),z=a.transformTo("string",u.utf8encode(S.name)),N=S.comment,Y=a.transformTo("string",v(N)),T=a.transformTo("string",u.utf8encode(N)),F=z.length!==S.name.length,b=T.length!==N.length,D="",se="",X="",me=S.dir,ne=S.date,be={crc32:0,compressedSize:0,uncompressedSize:0};d&&!p||(be.crc32=h.crc32,be.compressedSize=h.compressedSize,be.uncompressedSize=h.uncompressedSize);var M=0;d&&(M|=8),R||!F&&!b||(M|=2048);var P=0,Z=0;me&&(P|=16),g==="UNIX"?(Z=798,P|=function(U,te){var Fe=U;return U||(Fe=te?16893:33204),(65535&Fe)<<16}(S.unixPermissions,me)):(Z=20,P|=function(U){return 63&(U||0)}(S.dosPermissions)),w=ne.getUTCHours(),w<<=6,w|=ne.getUTCMinutes(),w<<=5,w|=ne.getUTCSeconds()/2,I=ne.getUTCFullYear()-1980,I<<=4,I|=ne.getUTCMonth()+1,I<<=5,I|=ne.getUTCDate(),F&&(se=s(1,1)+s(c(j),4)+z,D+="up"+s(se.length,2)+se),b&&(X=s(1,1)+s(c(Y),4)+T,D+="uc"+s(X.length,2)+X);var K="";return K+=`
\0`,K+=s(M,2),K+=B.magic,K+=s(w,2),K+=s(I,2),K+=s(be.crc32,4),K+=s(be.compressedSize,4),K+=s(be.uncompressedSize,4),K+=s(j.length,2),K+=s(D.length,2),{fileRecord:f.LOCAL_FILE_HEADER+K+j+D,dirRecord:f.CENTRAL_FILE_HEADER+s(Z,2)+K+s(Y.length,2)+"\0\0\0\0"+s(P,4)+s($,4)+j+D+Y}}var a=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),c=t("../crc32"),f=t("../signature");function m(h,d,p,$){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=p,this.encodeFileName=$,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(h){var d=h.meta.percent||0,p=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(d+100*(p-$-1))/p:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var d=this.streamFiles&&!h.file.dir;if(d){var p=o(h,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var d=this.streamFiles&&!h.file.dir,p=o(h,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),d)this.push({data:function($){return f.DATA_DESCRIPTOR+s($.crc32,4)+s($.compressedSize,4)+s($.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var p=this.bytesWritten-h,$=function(g,v,w,I,S){var B=a.transformTo("string",S(I));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(v,4)+s(w,4)+s(B.length,2)+B}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var d=this;return h.on("data",function(p){d.processChunk(p)}),h.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),h.on("error",function(p){d.error(p)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var d=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<d.length;p++)try{d[p].error(h)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,d=0;d<h.length;d++)h[d].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(m,h){f++;var d=function(v,w){var I=v||w,S=s[I];if(!S)throw new Error(I+" is not a valid compression method !");return S}(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},$=h.dir,g=h.date;h._compressWorker(d,p).withStreamInfo("file",{name:m,dir:$,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function f(m){return new o.Promise(function(h,d){var p=m.decompressed.getContentWorker().pipe(new u);p.on("error",function($){d($)}).on("end",function(){p.streamInfo.crc32!==m.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(m,h){var d=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(p){var $=new l(h);return $.load(p),$}).then(function(p){var $=[o.Promise.resolve(p)],g=p.files;if(h.checkCRC32)for(var v=0;v<g.length;v++)$.push(f(g[v]));return o.Promise.all($)}).then(function(p){for(var $=p.shift(),g=$.files,v=0;v<g.length;v++){var w=g[v],I=w.fileNameStr,S=s.resolve(w.fileNameStr);d.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(d.file(S).unsafeOriginalName=I)}return $.zipComment.length&&(d.comment=$.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,m){c.push(f)||c._helper.pause(),u&&u(m)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(S,B,R){var j,z=a.getTypeOf(B),N=a.extend(R||{},c);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(S=g(S)),N.createFolders&&(j=$(S))&&v.call(this,j,!0);var Y=z==="string"&&N.binary===!1&&N.base64===!1;R&&R.binary!==void 0||(N.binary=!Y),(B instanceof f&&B.uncompressedSize===0||N.dir||!B||B.length===0)&&(N.base64=!1,N.binary=!0,B="",N.compression="STORE",z="string");var T=null;T=B instanceof f||B instanceof l?B:d.isNode&&d.isStream(B)?new p(S,B):a.prepareContent(S,B,N.binary,N.optimizedBinaryString,N.base64);var F=new m(S,T,N);this.files[S]=F}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),c=t("./defaults"),f=t("./compressedObject"),m=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),$=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var B=S.lastIndexOf("/");return 0<B?S.substring(0,B):""},g=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,B){return B=B!==void 0?B:c.createFolders,S=g(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:B}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var B,R,j;for(B in this.files)j=this.files[B],(R=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&S(R,j)},filter:function(S){var B=[];return this.forEach(function(R,j){S(R,j)&&B.push(j)}),B},file:function(S,B,R){if(arguments.length!==1)return S=this.root+S,s.call(this,S,B,R),this;if(w(S)){var j=S;return this.filter(function(N,Y){return!Y.dir&&j.test(N)})}var z=this.files[this.root+S];return z&&!z.dir?z:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(z,N){return N.dir&&S.test(z)});var B=this.root+S,R=v.call(this,B),j=this.clone();return j.root=R.name,j},remove:function(S){S=this.root+S;var B=this.files[S];if(B||(S.slice(-1)!=="/"&&(S+="/"),B=this.files[S]),B&&!B.dir)delete this.files[S];else for(var R=this.filter(function(z,N){return N.name.slice(0,S.length)===S}),j=0;j<R.length;j++)delete this.files[R[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var B,R={};try{if((R=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var j=R.comment||this.comment||"";B=h.generateWorker(this,R,j)}catch(z){(B=new l("error")).error(z)}return new u(B,R.type||"string",R.mimeType)},generateAsync:function(S,B){return this.generateInternalStream(S).accumulate(B)},generateNodeStream:function(S,B){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(B)}};n.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===c&&this.data[m+3]===f)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&c===m[2]&&f===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");n.exports=function(f){var m=s.getTypeOf(f);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),u=t("../support"),c=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(d,p){return new c.Promise(function($,g){var v=[],w=d._internalType,I=d._outputType,S=d._mimeType;d.on("data",function(B,R){v.push(B),p&&p(R)}).on("error",function(B){v=[],g(B)}).on("end",function(){try{var B=function(R,j,z){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",j),z);case"base64":return l.encode(j);default:return s.transformTo(R,j)}}(I,function(R,j){var z,N=0,Y=null,T=0;for(z=0;z<j.length;z++)T+=j[z].length;switch(R){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(Y=new Uint8Array(T),z=0;z<j.length;z++)Y.set(j[z],N),N+=j[z].length;return Y;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,v),S);$(B)}catch(R){g(R)}v=[]}).resume()})}function h(d,p,$){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=$,s.checkSupport(g),this._worker=d.pipe(new o(g)),d.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}h.prototype={accumulate:function(d){return m(this,d)},on:function(d,p){var $=this;return d==="data"?this._worker.on(d,function(g){p.call($,g.data,g.meta)}):this._worker.on(d,function(){s.delay(p,arguments,$)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}r.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):function(d){var p,$,g,v,w,I=d.length,S=0;for(v=0;v<I;v++)(64512&($=d.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=d.charCodeAt(v+1)))==56320&&($=65536+($-55296<<10)+(g-56320),v++),S+=$<128?1:$<2048?2:$<65536?3:4;for(p=o.uint8array?new Uint8Array(S):new Array(S),v=w=0;w<S;v++)(64512&($=d.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=d.charCodeAt(v+1)))==56320&&($=65536+($-55296<<10)+(g-56320),v++),$<128?p[w++]=$:($<2048?p[w++]=192|$>>>6:($<65536?p[w++]=224|$>>>12:(p[w++]=240|$>>>18,p[w++]=128|$>>>12&63),p[w++]=128|$>>>6&63),p[w++]=128|63&$);return p}(h)},r.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(d){var p,$,g,v,w=d.length,I=new Array(2*w);for(p=$=0;p<w;)if((g=d[p++])<128)I[$++]=g;else if(4<(v=u[g]))I[$++]=65533,p+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&p<w;)g=g<<6|63&d[p++],v--;1<v?I[$++]=65533:g<65536?I[$++]=g:(g-=65536,I[$++]=55296|g>>10&1023,I[$++]=56320|1023&g)}return I.length!==$&&(I.subarray?I=I.subarray(0,$):I.length=$),s.applyFromCharCode(I)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(f,l),f.prototype.processChunk=function(h){var d=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=d;(d=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),d.set(p,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var $=function(v,w){var I;for((w=w||v.length)>v.length&&(w=v.length),I=w-1;0<=I&&(192&v[I])==128;)I--;return I<0||I===0?w:I+u[v[I]]>w?I:w}(d),g=d;$!==d.length&&(o.uint8array?(g=d.subarray(0,$),this.leftOver=d.subarray($,d.length)):(g=d.slice(0,$),this.leftOver=d.slice($,d.length))),this.push({data:r.utf8decode(g),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=f,s.inherits(m,l),m.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function u(p){return p}function c(p,$){for(var g=0;g<p.length;++g)$[g]=255&p.charCodeAt(g);return $}t("setimmediate"),r.newBlob=function(p,$){r.checkSupport("blob");try{return new Blob([p],{type:$})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(p,$,g){var v=[],w=0,I=p.length;if(I<=g)return String.fromCharCode.apply(null,p);for(;w<I;)$==="array"||$==="nodebuffer"?v.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+g,I)))):v.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+g,I)))),w+=g;return v.join("")},stringifyByChar:function(p){for(var $="",g=0;g<p.length;g++)$+=String.fromCharCode(p[g]);return $},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(p){var $=65536,g=r.getTypeOf(p),v=!0;if(g==="uint8array"?v=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<$;)try{return f.stringifyByChunk(p,g,$)}catch{$=Math.floor($/2)}return f.stringifyByChar(p)}function h(p,$){for(var g=0;g<p.length;g++)$[g]=p[g];return $}r.applyFromCharCode=m;var d={};d.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return d.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,a.allocBuffer(p.length))}},d.array={string:m,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},d.arraybuffer={string:function(p){return m(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},d.uint8array={string:m,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},d.nodebuffer={string:m,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return d.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},r.transformTo=function(p,$){if($=$||"",!p)return $;r.checkSupport(p);var g=r.getTypeOf($);return d[g][p]($)},r.resolve=function(p){for(var $=p.split("/"),g=[],v=0;v<$.length;v++){var w=$[v];w==="."||w===""&&v!==0&&v!==$.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},r.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(p){var $,g,v="";for(g=0;g<(p||"").length;g++)v+="\\x"+(($=p.charCodeAt(g))<16?"0":"")+$.toString(16).toUpperCase();return v},r.delay=function(p,$,g){setImmediate(function(){p.apply(g||null,$||[])})},r.inherits=function(p,$){function g(){}g.prototype=$.prototype,p.prototype=new g},r.extend=function(){var p,$,g={};for(p=0;p<arguments.length;p++)for($ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],$)&&g[$]===void 0&&(g[$]=arguments[p][$]);return g},r.prepareContent=function(p,$,g,v,w){return l.Promise.resolve($).then(function(I){return s.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,B){var R=new FileReader;R.onload=function(j){S(j.target.result)},R.onerror=function(j){B(j.target.error)},R.readAsArrayBuffer(I)}):I}).then(function(I){var S=r.getTypeOf(I);return S?(S==="arraybuffer"?I=r.transformTo("uint8array",I):S==="string"&&(w?I=o.decode(I):g&&v!==!0&&(I=function(B){return c(B,s.uint8array?new Uint8Array(B.length):new Array(B.length))}(I))),I):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),u=t("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(f)+")")}},isSignature:function(f,m){var h=this.reader.index;this.reader.setIndex(f);var d=this.reader.readString(4)===m;return this.reader.setIndex(h),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",h=o.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,h,d=this.zip64EndOfCentralSize-44;0<d;)f=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var d=m-h;if(0<d)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),c=t("./compressions"),f=t("./support");function m(h,d){this.options=h,this.loadOptions=d}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var d,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function($){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===$)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,d,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var d=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(d),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var d,p,$,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)d=h.readInt(2),p=h.readInt(2),$=h.readData(p),this.extraFields[d]={id:d,length:p,value:$};h.setIndex(g)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var g=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var d=s(h.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var d=s(h.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(d,p,$){this.name=d,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=p,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),c=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var p=null,$="string";try{if(!d)throw new Error("No output type specified.");var g=($=d.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),p=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(p=p.pipe(new l.Utf8EncodeWorker)),!v&&g&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new c("error")).error(w)}return new o(p,$,"")},async:function(d,p){return this.internalStream(d).accumulate(p)},nodeStream:function(d,p){return this.internalStream(d||"nodebuffer").toNodejsStream(p)},_compressWorker:function(d,p){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom($,d,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(d),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){d(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(d,0)};else{var m=new s.MessageChannel;m.port1.onmessage=d,o=function(){m.port2.postMessage(0)}}var h=[];function d(){var p,$;a=!0;for(var g=h.length;g;){for($=h,h=[],p=-1;++p<g;)$[p]();g=h.length}a=!1}n.exports=function(p){h.push(p)!==1||a||o()}}).call(this,typeof Cn<"u"?Cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&p(this,g)}function m(g,v,w){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(g,v,w){s(function(){var I;try{I=v(w)}catch(S){return a.reject(g,S)}I===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,I)})}function d(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function p(g,v){var w=!1;function I(R){w||(w=!0,a.reject(g,R))}function S(R){w||(w=!0,a.resolve(g,R))}var B=$(function(){v(S,I)});B.status==="error"&&I(B.value)}function $(g,v){var w={};try{w.value=g(v),w.status="success"}catch(I){w.status="error",w.value=I}return w}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(g()).then(function(){return w})},function(w){return v.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==c?h(w,this.state===u?g:v,this.outcome):this.queue.push(new m(w,g,v)),w},m.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},m.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},m.prototype.callRejected=function(g){a.reject(this.promise,g)},m.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},a.resolve=function(g,v){var w=$(d,v);if(w.status==="error")return a.reject(g,w.value);var I=w.value;if(I)p(g,I);else{g.state=u,g.outcome=v;for(var S=-1,B=g.queue.length;++S<B;)g.queue[S].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var w=-1,I=g.queue.length;++w<I;)g.queue[w].callRejected(v);return g},f.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},f.reject=function(g){var v=new this(o);return a.reject(v,g)},f.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,I=!1;if(!w)return this.resolve([]);for(var S=new Array(w),B=0,R=-1,j=new this(o);++R<w;)z(g[R],R);return j;function z(N,Y){v.resolve(N).then(function(T){S[Y]=T,++B!==w||I||(I=!0,a.resolve(j,S))},function(T){I||(I=!0,a.reject(j,T))})}},f.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,I=!1;if(!w)return this.resolve([]);for(var S=-1,B=new this(o);++S<w;)R=g[S],v.resolve(R).then(function(j){I||(I=!0,a.resolve(B,j))},function(j){I||(I=!0,a.reject(B,j))});var R;return B}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=Object.prototype.toString,f=0,m=-1,h=0,d=8;function p(g){if(!(this instanceof p))return new p(g);this.options=o.assign({level:m,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==f)throw new Error(l[w]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var I;if(I=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=s.deflateSetDictionary(this.strm,I))!==f)throw new Error(l[w]);this._dict_set=!0}}function $(g,v){var w=new p(v);if(w.push(g,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(g,v){var w,I,S=this.strm,B=this.options.chunkSize;if(this.ended)return!1;I=v===~~v?v:v===!0?4:0,typeof g=="string"?S.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(B),S.next_out=0,S.avail_out=B),(w=s.deflate(S,I))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return I===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):I!==2||(this.onEnd(f),!(S.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=p,r.deflate=$,r.deflateRaw=function(g,v){return(v=v||{}).raw=!0,$(g,v)},r.gzip=function(g,v){return(v=v||{}).gzip=!0,$(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),m=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||p&&p.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,$.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function d(p,$){var g=new h($);if(g.push(p,!0),g.err)throw g.msg||u[g.err];return g.result}h.prototype.push=function(p,$){var g,v,w,I,S,B,R=this.strm,j=this.options.chunkSize,z=this.options.dictionary,N=!1;if(this.ended)return!1;v=$===~~$?$:$===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?R.input=a.binstring2buf(p):m.call(p)==="[object ArrayBuffer]"?R.input=new Uint8Array(p):R.input=p,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(j),R.next_out=0,R.avail_out=j),(g=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(B=typeof z=="string"?a.string2buf(z):m.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,g=s.inflateSetDictionary(this.strm,B)),g===l.Z_BUF_ERROR&&N===!0&&(g=l.Z_OK,N=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&g!==l.Z_STREAM_END&&(R.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(R.output,R.next_out),I=R.next_out-w,S=a.buf2string(R.output,w),R.next_out=I,R.avail_out=j-I,I&&o.arraySet(R.output,R.output,w,I,0),this.onData(S)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(N=!0)}while((0<R.avail_in||R.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(p,$){return($=$||{}).raw=!0,d(p,$)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,m){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),m);else for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){var u,c,f,m,h,d;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(d=new Uint8Array(f),u=m=0,c=l.length;u<c;u++)h=l[u],d.set(h,m),m+=h.length;return d}},a={arraySet:function(l,u,c,f,m){for(var h=0;h<f;h++)l[m+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,m){if(m<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,m));for(var h="",d=0;d<m;d++)h+=String.fromCharCode(f[d]);return h}l[254]=l[254]=1,r.string2buf=function(f){var m,h,d,p,$,g=f.length,v=0;for(p=0;p<g;p++)(64512&(h=f.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=f.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(d-56320),p++),v+=h<128?1:h<2048?2:h<65536?3:4;for(m=new s.Buf8(v),p=$=0;$<v;p++)(64512&(h=f.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=f.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(d-56320),p++),h<128?m[$++]=h:(h<2048?m[$++]=192|h>>>6:(h<65536?m[$++]=224|h>>>12:(m[$++]=240|h>>>18,m[$++]=128|h>>>12&63),m[$++]=128|h>>>6&63),m[$++]=128|63&h);return m},r.buf2binstring=function(f){return c(f,f.length)},r.binstring2buf=function(f){for(var m=new s.Buf8(f.length),h=0,d=m.length;h<d;h++)m[h]=f.charCodeAt(h);return m},r.buf2string=function(f,m){var h,d,p,$,g=m||f.length,v=new Array(2*g);for(h=d=0;h<g;)if((p=f[h++])<128)v[d++]=p;else if(4<($=l[p]))v[d++]=65533,h+=$-1;else{for(p&=$===2?31:$===3?15:7;1<$&&h<g;)p=p<<6|63&f[h++],$--;1<$?v[d++]=65533:p<65536?v[d++]=p:(p-=65536,v[d++]=55296|p>>10&1023,v[d++]=56320|1023&p)}return c(v,d)},r.utf8border=function(f,m){var h;for((m=m||f.length)>f.length&&(m=f.length),h=m-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?m:h+l[f[h]]>m?h:m}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var m=u;m<f;m++)o=o>>>8^c[255&(o^a[m])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),u=t("./crc32"),c=t("./messages"),f=0,m=4,h=0,d=-2,p=-1,$=4,g=2,v=8,w=9,I=286,S=30,B=19,R=2*I+1,j=15,z=3,N=258,Y=N+z+1,T=42,F=113,b=1,D=2,se=3,X=4;function me(_,ee){return _.msg=c[ee],ee}function ne(_){return(_<<1)-(4<_?9:0)}function be(_){for(var ee=_.length;0<=--ee;)_[ee]=0}function M(_){var ee=_.state,V=ee.pending;V>_.avail_out&&(V=_.avail_out),V!==0&&(o.arraySet(_.output,ee.pending_buf,ee.pending_out,V,_.next_out),_.next_out+=V,ee.pending_out+=V,_.total_out+=V,_.avail_out-=V,ee.pending-=V,ee.pending===0&&(ee.pending_out=0))}function P(_,ee){a._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,ee),_.block_start=_.strstart,M(_.strm)}function Z(_,ee){_.pending_buf[_.pending++]=ee}function K(_,ee){_.pending_buf[_.pending++]=ee>>>8&255,_.pending_buf[_.pending++]=255&ee}function U(_,ee){var V,k,y=_.max_chain_length,x=_.strstart,re=_.prev_length,ie=_.nice_match,O=_.strstart>_.w_size-Y?_.strstart-(_.w_size-Y):0,fe=_.window,_e=_.w_mask,he=_.prev,ke=_.strstart+N,le=fe[x+re-1],ge=fe[x+re];_.prev_length>=_.good_match&&(y>>=2),ie>_.lookahead&&(ie=_.lookahead);do if(fe[(V=ee)+re]===ge&&fe[V+re-1]===le&&fe[V]===fe[x]&&fe[++V]===fe[x+1]){x+=2,V++;do;while(fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&fe[++x]===fe[++V]&&x<ke);if(k=N-(ke-x),x=ke-N,re<k){if(_.match_start=ee,ie<=(re=k))break;le=fe[x+re-1],ge=fe[x+re]}}while((ee=he[ee&_e])>O&&--y!=0);return re<=_.lookahead?re:_.lookahead}function te(_){var ee,V,k,y,x,re,ie,O,fe,_e,he=_.w_size;do{if(y=_.window_size-_.lookahead-_.strstart,_.strstart>=he+(he-Y)){for(o.arraySet(_.window,_.window,he,he,0),_.match_start-=he,_.strstart-=he,_.block_start-=he,ee=V=_.hash_size;k=_.head[--ee],_.head[ee]=he<=k?k-he:0,--V;);for(ee=V=he;k=_.prev[--ee],_.prev[ee]=he<=k?k-he:0,--V;);y+=he}if(_.strm.avail_in===0)break;if(re=_.strm,ie=_.window,O=_.strstart+_.lookahead,fe=y,_e=void 0,_e=re.avail_in,fe<_e&&(_e=fe),V=_e===0?0:(re.avail_in-=_e,o.arraySet(ie,re.input,re.next_in,_e,O),re.state.wrap===1?re.adler=l(re.adler,ie,_e,O):re.state.wrap===2&&(re.adler=u(re.adler,ie,_e,O)),re.next_in+=_e,re.total_in+=_e,_e),_.lookahead+=V,_.lookahead+_.insert>=z)for(x=_.strstart-_.insert,_.ins_h=_.window[x],_.ins_h=(_.ins_h<<_.hash_shift^_.window[x+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[x+z-1])&_.hash_mask,_.prev[x&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=x,x++,_.insert--,!(_.lookahead+_.insert<z)););}while(_.lookahead<Y&&_.strm.avail_in!==0)}function Fe(_,ee){for(var V,k;;){if(_.lookahead<Y){if(te(_),_.lookahead<Y&&ee===f)return b;if(_.lookahead===0)break}if(V=0,_.lookahead>=z&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+z-1])&_.hash_mask,V=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),V!==0&&_.strstart-V<=_.w_size-Y&&(_.match_length=U(_,V)),_.match_length>=z)if(k=a._tr_tally(_,_.strstart-_.match_start,_.match_length-z),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=z){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+z-1])&_.hash_mask,V=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else k=a._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(k&&(P(_,!1),_.strm.avail_out===0))return b}return _.insert=_.strstart<z-1?_.strstart:z-1,ee===m?(P(_,!0),_.strm.avail_out===0?se:X):_.last_lit&&(P(_,!1),_.strm.avail_out===0)?b:D}function Se(_,ee){for(var V,k,y;;){if(_.lookahead<Y){if(te(_),_.lookahead<Y&&ee===f)return b;if(_.lookahead===0)break}if(V=0,_.lookahead>=z&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+z-1])&_.hash_mask,V=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=z-1,V!==0&&_.prev_length<_.max_lazy_match&&_.strstart-V<=_.w_size-Y&&(_.match_length=U(_,V),_.match_length<=5&&(_.strategy===1||_.match_length===z&&4096<_.strstart-_.match_start)&&(_.match_length=z-1)),_.prev_length>=z&&_.match_length<=_.prev_length){for(y=_.strstart+_.lookahead-z,k=a._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-z),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=y&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+z-1])&_.hash_mask,V=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=z-1,_.strstart++,k&&(P(_,!1),_.strm.avail_out===0))return b}else if(_.match_available){if((k=a._tr_tally(_,0,_.window[_.strstart-1]))&&P(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return b}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(k=a._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<z-1?_.strstart:z-1,ee===m?(P(_,!0),_.strm.avail_out===0?se:X):_.last_lit&&(P(_,!1),_.strm.avail_out===0)?b:D}function Ue(_,ee,V,k,y){this.good_length=_,this.max_lazy=ee,this.nice_length=V,this.max_chain=k,this.func=y}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*B+1)),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*I+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*I+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(_){var ee;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=g,(ee=_.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?T:F,_.adler=ee.wrap===2?0:1,ee.last_flush=f,a._tr_init(ee),h):me(_,d)}function rt(_){var ee=Le(_);return ee===h&&function(V){V.window_size=2*V.w_size,be(V.head),V.max_lazy_match=s[V.level].max_lazy,V.good_match=s[V.level].good_length,V.nice_match=s[V.level].nice_length,V.max_chain_length=s[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=z-1,V.match_available=0,V.ins_h=0}(_.state),ee}function Je(_,ee,V,k,y,x){if(!_)return d;var re=1;if(ee===p&&(ee=6),k<0?(re=0,k=-k):15<k&&(re=2,k-=16),y<1||w<y||V!==v||k<8||15<k||ee<0||9<ee||x<0||$<x)return me(_,d);k===8&&(k=9);var ie=new De;return(_.state=ie).strm=_,ie.wrap=re,ie.gzhead=null,ie.w_bits=k,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=y+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+z-1)/z),ie.window=new o.Buf8(2*ie.w_size),ie.head=new o.Buf16(ie.hash_size),ie.prev=new o.Buf16(ie.w_size),ie.lit_bufsize=1<<y+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new o.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=ee,ie.strategy=x,ie.method=V,rt(_)}s=[new Ue(0,0,0,0,function(_,ee){var V=65535;for(V>_.pending_buf_size-5&&(V=_.pending_buf_size-5);;){if(_.lookahead<=1){if(te(_),_.lookahead===0&&ee===f)return b;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var k=_.block_start+V;if((_.strstart===0||_.strstart>=k)&&(_.lookahead=_.strstart-k,_.strstart=k,P(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-Y&&(P(_,!1),_.strm.avail_out===0))return b}return _.insert=0,ee===m?(P(_,!0),_.strm.avail_out===0?se:X):(_.strstart>_.block_start&&(P(_,!1),_.strm.avail_out),b)}),new Ue(4,4,8,4,Fe),new Ue(4,5,16,8,Fe),new Ue(4,6,32,32,Fe),new Ue(4,4,16,16,Se),new Ue(8,16,32,32,Se),new Ue(8,16,128,128,Se),new Ue(8,32,128,256,Se),new Ue(32,128,258,1024,Se),new Ue(32,258,258,4096,Se)],r.deflateInit=function(_,ee){return Je(_,ee,v,15,8,0)},r.deflateInit2=Je,r.deflateReset=rt,r.deflateResetKeep=Le,r.deflateSetHeader=function(_,ee){return _&&_.state?_.state.wrap!==2?d:(_.state.gzhead=ee,h):d},r.deflate=function(_,ee){var V,k,y,x;if(!_||!_.state||5<ee||ee<0)return _?me(_,d):d;if(k=_.state,!_.output||!_.input&&_.avail_in!==0||k.status===666&&ee!==m)return me(_,_.avail_out===0?-5:d);if(k.strm=_,V=k.last_flush,k.last_flush=ee,k.status===T)if(k.wrap===2)_.adler=0,Z(k,31),Z(k,139),Z(k,8),k.gzhead?(Z(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Z(k,255&k.gzhead.time),Z(k,k.gzhead.time>>8&255),Z(k,k.gzhead.time>>16&255),Z(k,k.gzhead.time>>24&255),Z(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Z(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(Z(k,255&k.gzhead.extra.length),Z(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(_.adler=u(_.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,0),Z(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Z(k,3),k.status=F);else{var re=v+(k.w_bits-8<<4)<<8;re|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(re|=32),re+=31-re%31,k.status=F,K(k,re),k.strstart!==0&&(K(k,_.adler>>>16),K(k,65535&_.adler)),_.adler=1}if(k.status===69)if(k.gzhead.extra){for(y=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),M(_),y=k.pending,k.pending!==k.pending_buf_size));)Z(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),M(_),y=k.pending,k.pending===k.pending_buf_size)){x=1;break}x=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,Z(k,x)}while(x!==0);k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),x===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),M(_),y=k.pending,k.pending===k.pending_buf_size)){x=1;break}x=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,Z(k,x)}while(x!==0);k.gzhead.hcrc&&k.pending>y&&(_.adler=u(_.adler,k.pending_buf,k.pending-y,y)),x===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&M(_),k.pending+2<=k.pending_buf_size&&(Z(k,255&_.adler),Z(k,_.adler>>8&255),_.adler=0,k.status=F)):k.status=F),k.pending!==0){if(M(_),_.avail_out===0)return k.last_flush=-1,h}else if(_.avail_in===0&&ne(ee)<=ne(V)&&ee!==m)return me(_,-5);if(k.status===666&&_.avail_in!==0)return me(_,-5);if(_.avail_in!==0||k.lookahead!==0||ee!==f&&k.status!==666){var ie=k.strategy===2?function(O,fe){for(var _e;;){if(O.lookahead===0&&(te(O),O.lookahead===0)){if(fe===f)return b;break}if(O.match_length=0,_e=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,_e&&(P(O,!1),O.strm.avail_out===0))return b}return O.insert=0,fe===m?(P(O,!0),O.strm.avail_out===0?se:X):O.last_lit&&(P(O,!1),O.strm.avail_out===0)?b:D}(k,ee):k.strategy===3?function(O,fe){for(var _e,he,ke,le,ge=O.window;;){if(O.lookahead<=N){if(te(O),O.lookahead<=N&&fe===f)return b;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=z&&0<O.strstart&&(he=ge[ke=O.strstart-1])===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]){le=O.strstart+N;do;while(he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&he===ge[++ke]&&ke<le);O.match_length=N-(le-ke),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=z?(_e=a._tr_tally(O,1,O.match_length-z),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(_e=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),_e&&(P(O,!1),O.strm.avail_out===0))return b}return O.insert=0,fe===m?(P(O,!0),O.strm.avail_out===0?se:X):O.last_lit&&(P(O,!1),O.strm.avail_out===0)?b:D}(k,ee):s[k.level].func(k,ee);if(ie!==se&&ie!==X||(k.status=666),ie===b||ie===se)return _.avail_out===0&&(k.last_flush=-1),h;if(ie===D&&(ee===1?a._tr_align(k):ee!==5&&(a._tr_stored_block(k,0,0,!1),ee===3&&(be(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),M(_),_.avail_out===0))return k.last_flush=-1,h}return ee!==m?h:k.wrap<=0?1:(k.wrap===2?(Z(k,255&_.adler),Z(k,_.adler>>8&255),Z(k,_.adler>>16&255),Z(k,_.adler>>24&255),Z(k,255&_.total_in),Z(k,_.total_in>>8&255),Z(k,_.total_in>>16&255),Z(k,_.total_in>>24&255)):(K(k,_.adler>>>16),K(k,65535&_.adler)),M(_),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?h:1)},r.deflateEnd=function(_){var ee;return _&&_.state?(ee=_.state.status)!==T&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==F&&ee!==666?me(_,d):(_.state=null,ee===F?me(_,-3):h):d},r.deflateSetDictionary=function(_,ee){var V,k,y,x,re,ie,O,fe,_e=ee.length;if(!_||!_.state||(x=(V=_.state).wrap)===2||x===1&&V.status!==T||V.lookahead)return d;for(x===1&&(_.adler=l(_.adler,ee,_e,0)),V.wrap=0,_e>=V.w_size&&(x===0&&(be(V.head),V.strstart=0,V.block_start=0,V.insert=0),fe=new o.Buf8(V.w_size),o.arraySet(fe,ee,_e-V.w_size,V.w_size,0),ee=fe,_e=V.w_size),re=_.avail_in,ie=_.next_in,O=_.input,_.avail_in=_e,_.next_in=0,_.input=ee,te(V);V.lookahead>=z;){for(k=V.strstart,y=V.lookahead-(z-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[k+z-1])&V.hash_mask,V.prev[k&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=k,k++,--y;);V.strstart=k,V.lookahead=z-1,te(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=z-1,V.match_available=0,_.next_in=ie,_.input=O,_.avail_in=re,V.wrap=x,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var a,l,u,c,f,m,h,d,p,$,g,v,w,I,S,B,R,j,z,N,Y,T,F,b,D;a=s.state,l=s.next_in,b=s.input,u=l+(s.avail_in-5),c=s.next_out,D=s.output,f=c-(o-s.avail_out),m=c+(s.avail_out-257),h=a.dmax,d=a.wsize,p=a.whave,$=a.wnext,g=a.window,v=a.hold,w=a.bits,I=a.lencode,S=a.distcode,B=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),j=I[v&B];t:for(;;){if(v>>>=z=j>>>24,w-=z,(z=j>>>16&255)===0)D[c++]=65535&j;else{if(!(16&z)){if(!(64&z)){j=I[(65535&j)+(v&(1<<z)-1)];continue t}if(32&z){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}N=65535&j,(z&=15)&&(w<z&&(v+=b[l++]<<w,w+=8),N+=v&(1<<z)-1,v>>>=z,w-=z),w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),j=S[v&R];n:for(;;){if(v>>>=z=j>>>24,w-=z,!(16&(z=j>>>16&255))){if(!(64&z)){j=S[(65535&j)+(v&(1<<z)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(Y=65535&j,w<(z&=15)&&(v+=b[l++]<<w,(w+=8)<z&&(v+=b[l++]<<w,w+=8)),h<(Y+=v&(1<<z)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=z,w-=z,(z=c-f)<Y){if(p<(z=Y-z)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(F=g,(T=0)===$){if(T+=d-z,z<N){for(N-=z;D[c++]=g[T++],--z;);T=c-Y,F=D}}else if($<z){if(T+=d+$-z,(z-=$)<N){for(N-=z;D[c++]=g[T++],--z;);if(T=0,$<N){for(N-=z=$;D[c++]=g[T++],--z;);T=c-Y,F=D}}}else if(T+=$-z,z<N){for(N-=z;D[c++]=g[T++],--z;);T=c-Y,F=D}for(;2<N;)D[c++]=F[T++],D[c++]=F[T++],D[c++]=F[T++],N-=3;N&&(D[c++]=F[T++],1<N&&(D[c++]=F[T++]))}else{for(T=c-Y;D[c++]=D[T++],D[c++]=D[T++],D[c++]=D[T++],2<(N-=3););N&&(D[c++]=D[T++],1<N&&(D[c++]=D[T++]))}break}}break}}while(l<u&&c<m);l-=N=w>>3,v&=(1<<(w-=N<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<m?m-c+257:257-(c-m),a.hold=v,a.bits=w}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),c=1,f=2,m=0,h=-2,d=1,p=852,$=592;function g(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var F;return T&&T.state?(F=T.state,T.total_in=T.total_out=F.total=0,T.msg="",F.wrap&&(T.adler=1&F.wrap),F.mode=d,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new s.Buf32(p),F.distcode=F.distdyn=new s.Buf32($),F.sane=1,F.back=-1,m):h}function I(T){var F;return T&&T.state?((F=T.state).wsize=0,F.whave=0,F.wnext=0,w(T)):h}function S(T,F){var b,D;return T&&T.state?(D=T.state,F<0?(b=0,F=-F):(b=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?h:(D.window!==null&&D.wbits!==F&&(D.window=null),D.wrap=b,D.wbits=F,I(T))):h}function B(T,F){var b,D;return T?(D=new v,(T.state=D).window=null,(b=S(T,F))!==m&&(T.state=null),b):h}var R,j,z=!0;function N(T){if(z){var F;for(R=new s.Buf32(512),j=new s.Buf32(32),F=0;F<144;)T.lens[F++]=8;for(;F<256;)T.lens[F++]=9;for(;F<280;)T.lens[F++]=7;for(;F<288;)T.lens[F++]=8;for(u(c,T.lens,0,288,R,0,T.work,{bits:9}),F=0;F<32;)T.lens[F++]=5;u(f,T.lens,0,32,j,0,T.work,{bits:5}),z=!1}T.lencode=R,T.lenbits=9,T.distcode=j,T.distbits=5}function Y(T,F,b,D){var se,X=T.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),D>=X.wsize?(s.arraySet(X.window,F,b-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(D<(se=X.wsize-X.wnext)&&(se=D),s.arraySet(X.window,F,b-D,se,X.wnext),(D-=se)?(s.arraySet(X.window,F,b-D,D,0),X.wnext=D,X.whave=X.wsize):(X.wnext+=se,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=se))),0}r.inflateReset=I,r.inflateReset2=S,r.inflateResetKeep=w,r.inflateInit=function(T){return B(T,15)},r.inflateInit2=B,r.inflate=function(T,F){var b,D,se,X,me,ne,be,M,P,Z,K,U,te,Fe,Se,Ue,De,Le,rt,Je,_,ee,V,k,y=0,x=new s.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(b=T.state).mode===12&&(b.mode=13),me=T.next_out,se=T.output,be=T.avail_out,X=T.next_in,D=T.input,ne=T.avail_in,M=b.hold,P=b.bits,Z=ne,K=be,ee=m;e:for(;;)switch(b.mode){case d:if(b.wrap===0){b.mode=13;break}for(;P<16;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(2&b.wrap&&M===35615){x[b.check=0]=255&M,x[1]=M>>>8&255,b.check=a(b.check,x,2,0),P=M=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&M)<<8)+(M>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&M)!=8){T.msg="unknown compression method",b.mode=30;break}if(P-=4,_=8+(15&(M>>>=4)),b.wbits===0)b.wbits=_;else if(_>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<_,T.adler=b.check=1,b.mode=512&M?10:12,P=M=0;break;case 2:for(;P<16;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(b.flags=M,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=M>>8&1),512&b.flags&&(x[0]=255&M,x[1]=M>>>8&255,b.check=a(b.check,x,2,0)),P=M=0,b.mode=3;case 3:for(;P<32;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.head&&(b.head.time=M),512&b.flags&&(x[0]=255&M,x[1]=M>>>8&255,x[2]=M>>>16&255,x[3]=M>>>24&255,b.check=a(b.check,x,4,0)),P=M=0,b.mode=4;case 4:for(;P<16;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.head&&(b.head.xflags=255&M,b.head.os=M>>8),512&b.flags&&(x[0]=255&M,x[1]=M>>>8&255,b.check=a(b.check,x,2,0)),P=M=0,b.mode=5;case 5:if(1024&b.flags){for(;P<16;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.length=M,b.head&&(b.head.extra_len=M),512&b.flags&&(x[0]=255&M,x[1]=M>>>8&255,b.check=a(b.check,x,2,0)),P=M=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(ne<(U=b.length)&&(U=ne),U&&(b.head&&(_=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,D,X,U,_)),512&b.flags&&(b.check=a(b.check,D,U,X)),ne-=U,X+=U,b.length-=U),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(ne===0)break e;for(U=0;_=D[X+U++],b.head&&_&&b.length<65536&&(b.head.name+=String.fromCharCode(_)),_&&U<ne;);if(512&b.flags&&(b.check=a(b.check,D,U,X)),ne-=U,X+=U,_)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(ne===0)break e;for(U=0;_=D[X+U++],b.head&&_&&b.length<65536&&(b.head.comment+=String.fromCharCode(_)),_&&U<ne;);if(512&b.flags&&(b.check=a(b.check,D,U,X)),ne-=U,X+=U,_)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;P<16;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(M!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}P=M=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;P<32;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}T.adler=b.check=g(M),P=M=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=me,T.avail_out=be,T.next_in=X,T.avail_in=ne,b.hold=M,b.bits=P,2;T.adler=b.check=1,b.mode=12;case 12:if(F===5||F===6)break e;case 13:if(b.last){M>>>=7&P,P-=7&P,b.mode=27;break}for(;P<3;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}switch(b.last=1&M,P-=1,3&(M>>>=1)){case 0:b.mode=14;break;case 1:if(N(b),b.mode=20,F!==6)break;M>>>=2,P-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}M>>>=2,P-=2;break;case 14:for(M>>>=7&P,P-=7&P;P<32;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if((65535&M)!=(M>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&M,P=M=0,b.mode=15,F===6)break e;case 15:b.mode=16;case 16:if(U=b.length){if(ne<U&&(U=ne),be<U&&(U=be),U===0)break e;s.arraySet(se,D,X,U,me),ne-=U,X+=U,be-=U,me+=U,b.length-=U;break}b.mode=12;break;case 17:for(;P<14;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(b.nlen=257+(31&M),M>>>=5,P-=5,b.ndist=1+(31&M),M>>>=5,P-=5,b.ncode=4+(15&M),M>>>=4,P-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;P<3;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.lens[re[b.have++]]=7&M,M>>>=3,P-=3}for(;b.have<19;)b.lens[re[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,V={bits:b.lenbits},ee=u(0,b.lens,0,19,b.lencode,0,b.work,V),b.lenbits=V.bits,ee){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Ue=(y=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,De=65535&y,!((Se=y>>>24)<=P);){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(De<16)M>>>=Se,P-=Se,b.lens[b.have++]=De;else{if(De===16){for(k=Se+2;P<k;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(M>>>=Se,P-=Se,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}_=b.lens[b.have-1],U=3+(3&M),M>>>=2,P-=2}else if(De===17){for(k=Se+3;P<k;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}P-=Se,_=0,U=3+(7&(M>>>=Se)),M>>>=3,P-=3}else{for(k=Se+7;P<k;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}P-=Se,_=0,U=11+(127&(M>>>=Se)),M>>>=7,P-=7}if(b.have+U>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;U--;)b.lens[b.have++]=_}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,V={bits:b.lenbits},ee=u(c,b.lens,0,b.nlen,b.lencode,0,b.work,V),b.lenbits=V.bits,ee){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,V={bits:b.distbits},ee=u(f,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,V),b.distbits=V.bits,ee){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,F===6)break e;case 20:b.mode=21;case 21:if(6<=ne&&258<=be){T.next_out=me,T.avail_out=be,T.next_in=X,T.avail_in=ne,b.hold=M,b.bits=P,l(T,K),me=T.next_out,se=T.output,be=T.avail_out,X=T.next_in,D=T.input,ne=T.avail_in,M=b.hold,P=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Ue=(y=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,De=65535&y,!((Se=y>>>24)<=P);){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(Ue&&!(240&Ue)){for(Le=Se,rt=Ue,Je=De;Ue=(y=b.lencode[Je+((M&(1<<Le+rt)-1)>>Le)])>>>16&255,De=65535&y,!(Le+(Se=y>>>24)<=P);){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}M>>>=Le,P-=Le,b.back+=Le}if(M>>>=Se,P-=Se,b.back+=Se,b.length=De,Ue===0){b.mode=26;break}if(32&Ue){b.back=-1,b.mode=12;break}if(64&Ue){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Ue,b.mode=22;case 22:if(b.extra){for(k=b.extra;P<k;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.length+=M&(1<<b.extra)-1,M>>>=b.extra,P-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Ue=(y=b.distcode[M&(1<<b.distbits)-1])>>>16&255,De=65535&y,!((Se=y>>>24)<=P);){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(!(240&Ue)){for(Le=Se,rt=Ue,Je=De;Ue=(y=b.distcode[Je+((M&(1<<Le+rt)-1)>>Le)])>>>16&255,De=65535&y,!(Le+(Se=y>>>24)<=P);){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}M>>>=Le,P-=Le,b.back+=Le}if(M>>>=Se,P-=Se,b.back+=Se,64&Ue){T.msg="invalid distance code",b.mode=30;break}b.offset=De,b.extra=15&Ue,b.mode=24;case 24:if(b.extra){for(k=b.extra;P<k;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}b.offset+=M&(1<<b.extra)-1,M>>>=b.extra,P-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(be===0)break e;if(U=K-be,b.offset>U){if((U=b.offset-U)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}te=U>b.wnext?(U-=b.wnext,b.wsize-U):b.wnext-U,U>b.length&&(U=b.length),Fe=b.window}else Fe=se,te=me-b.offset,U=b.length;for(be<U&&(U=be),be-=U,b.length-=U;se[me++]=Fe[te++],--U;);b.length===0&&(b.mode=21);break;case 26:if(be===0)break e;se[me++]=b.length,be--,b.mode=21;break;case 27:if(b.wrap){for(;P<32;){if(ne===0)break e;ne--,M|=D[X++]<<P,P+=8}if(K-=be,T.total_out+=K,b.total+=K,K&&(T.adler=b.check=b.flags?a(b.check,se,K,me-K):o(b.check,se,K,me-K)),K=be,(b.flags?M:g(M))!==b.check){T.msg="incorrect data check",b.mode=30;break}P=M=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;P<32;){if(ne===0)break e;ne--,M+=D[X++]<<P,P+=8}if(M!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}P=M=0}b.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=me,T.avail_out=be,T.next_in=X,T.avail_in=ne,b.hold=M,b.bits=P,(b.wsize||K!==T.avail_out&&b.mode<30&&(b.mode<27||F!==4))&&Y(T,T.output,T.next_out,K-T.avail_out)?(b.mode=31,-4):(Z-=T.avail_in,K-=T.avail_out,T.total_in+=Z,T.total_out+=K,b.total+=K,b.wrap&&K&&(T.adler=b.check=b.flags?a(b.check,se,K,T.next_out-K):o(b.check,se,K,T.next_out-K)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(Z==0&&K===0||F===4)&&ee===m&&(ee=-5),ee)},r.inflateEnd=function(T){if(!T||!T.state)return h;var F=T.state;return F.window&&(F.window=null),T.state=null,m},r.inflateGetHeader=function(T,F){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=F).done=!1,m):h},r.inflateSetDictionary=function(T,F){var b,D=F.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?h:b.mode===11&&o(1,F,D,0)!==b.check?-3:Y(T,F,D,D)?(b.mode=31,-4):(b.havedict=1,m):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,m,h,d,p,$,g){var v,w,I,S,B,R,j,z,N,Y=g.bits,T=0,F=0,b=0,D=0,se=0,X=0,me=0,ne=0,be=0,M=0,P=null,Z=0,K=new s.Buf16(16),U=new s.Buf16(16),te=null,Fe=0;for(T=0;T<=15;T++)K[T]=0;for(F=0;F<h;F++)K[f[m+F]]++;for(se=Y,D=15;1<=D&&K[D]===0;D--);if(D<se&&(se=D),D===0)return d[p++]=20971520,d[p++]=20971520,g.bits=1,0;for(b=1;b<D&&K[b]===0;b++);for(se<b&&(se=b),T=ne=1;T<=15;T++)if(ne<<=1,(ne-=K[T])<0)return-1;if(0<ne&&(c===0||D!==1))return-1;for(U[1]=0,T=1;T<15;T++)U[T+1]=U[T]+K[T];for(F=0;F<h;F++)f[m+F]!==0&&($[U[f[m+F]]++]=F);if(R=c===0?(P=te=$,19):c===1?(P=o,Z-=257,te=a,Fe-=257,256):(P=l,te=u,-1),T=b,B=p,me=F=M=0,I=-1,S=(be=1<<(X=se))-1,c===1&&852<be||c===2&&592<be)return 1;for(;;){for(j=T-me,N=$[F]<R?(z=0,$[F]):$[F]>R?(z=te[Fe+$[F]],P[Z+$[F]]):(z=96,0),v=1<<T-me,b=w=1<<X;d[B+(M>>me)+(w-=v)]=j<<24|z<<16|N|0,w!==0;);for(v=1<<T-1;M&v;)v>>=1;if(v!==0?(M&=v-1,M+=v):M=0,F++,--K[T]==0){if(T===D)break;T=f[m+$[F]]}if(se<T&&(M&S)!==I){for(me===0&&(me=se),B+=b,ne=1<<(X=T-me);X+me<D&&!((ne-=K[X+me])<=0);)X++,ne<<=1;if(be+=1<<X,c===1&&852<be||c===2&&592<be)return 1;d[I=M&S]=se<<24|X<<16|B-p|0}}return M!==0&&(d[B+M]=T-me<<24|64<<16|0),g.bits=se,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,a=1;function l(y){for(var x=y.length;0<=--x;)y[x]=0}var u=0,c=29,f=256,m=f+1+c,h=30,d=19,p=2*m+1,$=15,g=16,v=7,w=256,I=16,S=17,B=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(m+2));l(Y);var T=new Array(2*h);l(T);var F=new Array(512);l(F);var b=new Array(256);l(b);var D=new Array(c);l(D);var se,X,me,ne=new Array(h);function be(y,x,re,ie,O){this.static_tree=y,this.extra_bits=x,this.extra_base=re,this.elems=ie,this.max_length=O,this.has_stree=y&&y.length}function M(y,x){this.dyn_tree=y,this.max_code=0,this.stat_desc=x}function P(y){return y<256?F[y]:F[256+(y>>>7)]}function Z(y,x){y.pending_buf[y.pending++]=255&x,y.pending_buf[y.pending++]=x>>>8&255}function K(y,x,re){y.bi_valid>g-re?(y.bi_buf|=x<<y.bi_valid&65535,Z(y,y.bi_buf),y.bi_buf=x>>g-y.bi_valid,y.bi_valid+=re-g):(y.bi_buf|=x<<y.bi_valid&65535,y.bi_valid+=re)}function U(y,x,re){K(y,re[2*x],re[2*x+1])}function te(y,x){for(var re=0;re|=1&y,y>>>=1,re<<=1,0<--x;);return re>>>1}function Fe(y,x,re){var ie,O,fe=new Array($+1),_e=0;for(ie=1;ie<=$;ie++)fe[ie]=_e=_e+re[ie-1]<<1;for(O=0;O<=x;O++){var he=y[2*O+1];he!==0&&(y[2*O]=te(fe[he]++,he))}}function Se(y){var x;for(x=0;x<m;x++)y.dyn_ltree[2*x]=0;for(x=0;x<h;x++)y.dyn_dtree[2*x]=0;for(x=0;x<d;x++)y.bl_tree[2*x]=0;y.dyn_ltree[2*w]=1,y.opt_len=y.static_len=0,y.last_lit=y.matches=0}function Ue(y){8<y.bi_valid?Z(y,y.bi_buf):0<y.bi_valid&&(y.pending_buf[y.pending++]=y.bi_buf),y.bi_buf=0,y.bi_valid=0}function De(y,x,re,ie){var O=2*x,fe=2*re;return y[O]<y[fe]||y[O]===y[fe]&&ie[x]<=ie[re]}function Le(y,x,re){for(var ie=y.heap[re],O=re<<1;O<=y.heap_len&&(O<y.heap_len&&De(x,y.heap[O+1],y.heap[O],y.depth)&&O++,!De(x,ie,y.heap[O],y.depth));)y.heap[re]=y.heap[O],re=O,O<<=1;y.heap[re]=ie}function rt(y,x,re){var ie,O,fe,_e,he=0;if(y.last_lit!==0)for(;ie=y.pending_buf[y.d_buf+2*he]<<8|y.pending_buf[y.d_buf+2*he+1],O=y.pending_buf[y.l_buf+he],he++,ie===0?U(y,O,x):(U(y,(fe=b[O])+f+1,x),(_e=R[fe])!==0&&K(y,O-=D[fe],_e),U(y,fe=P(--ie),re),(_e=j[fe])!==0&&K(y,ie-=ne[fe],_e)),he<y.last_lit;);U(y,w,x)}function Je(y,x){var re,ie,O,fe=x.dyn_tree,_e=x.stat_desc.static_tree,he=x.stat_desc.has_stree,ke=x.stat_desc.elems,le=-1;for(y.heap_len=0,y.heap_max=p,re=0;re<ke;re++)fe[2*re]!==0?(y.heap[++y.heap_len]=le=re,y.depth[re]=0):fe[2*re+1]=0;for(;y.heap_len<2;)fe[2*(O=y.heap[++y.heap_len]=le<2?++le:0)]=1,y.depth[O]=0,y.opt_len--,he&&(y.static_len-=_e[2*O+1]);for(x.max_code=le,re=y.heap_len>>1;1<=re;re--)Le(y,fe,re);for(O=ke;re=y.heap[1],y.heap[1]=y.heap[y.heap_len--],Le(y,fe,1),ie=y.heap[1],y.heap[--y.heap_max]=re,y.heap[--y.heap_max]=ie,fe[2*O]=fe[2*re]+fe[2*ie],y.depth[O]=(y.depth[re]>=y.depth[ie]?y.depth[re]:y.depth[ie])+1,fe[2*re+1]=fe[2*ie+1]=O,y.heap[1]=O++,Le(y,fe,1),2<=y.heap_len;);y.heap[--y.heap_max]=y.heap[1],function(ge,Ge){var ht,it,mt,Ve,ut,At,ct=Ge.dyn_tree,Wt=Ge.max_code,hn=Ge.stat_desc.static_tree,En=Ge.stat_desc.has_stree,kn=Ge.stat_desc.extra_bits,Et=Ge.stat_desc.extra_base,$t=Ge.stat_desc.max_length,jt=0;for(Ve=0;Ve<=$;Ve++)ge.bl_count[Ve]=0;for(ct[2*ge.heap[ge.heap_max]+1]=0,ht=ge.heap_max+1;ht<p;ht++)$t<(Ve=ct[2*ct[2*(it=ge.heap[ht])+1]+1]+1)&&(Ve=$t,jt++),ct[2*it+1]=Ve,Wt<it||(ge.bl_count[Ve]++,ut=0,Et<=it&&(ut=kn[it-Et]),At=ct[2*it],ge.opt_len+=At*(Ve+ut),En&&(ge.static_len+=At*(hn[2*it+1]+ut)));if(jt!==0){do{for(Ve=$t-1;ge.bl_count[Ve]===0;)Ve--;ge.bl_count[Ve]--,ge.bl_count[Ve+1]+=2,ge.bl_count[$t]--,jt-=2}while(0<jt);for(Ve=$t;Ve!==0;Ve--)for(it=ge.bl_count[Ve];it!==0;)Wt<(mt=ge.heap[--ht])||(ct[2*mt+1]!==Ve&&(ge.opt_len+=(Ve-ct[2*mt+1])*ct[2*mt],ct[2*mt+1]=Ve),it--)}}(y,x),Fe(fe,le,y.bl_count)}function _(y,x,re){var ie,O,fe=-1,_e=x[1],he=0,ke=7,le=4;for(_e===0&&(ke=138,le=3),x[2*(re+1)+1]=65535,ie=0;ie<=re;ie++)O=_e,_e=x[2*(ie+1)+1],++he<ke&&O===_e||(he<le?y.bl_tree[2*O]+=he:O!==0?(O!==fe&&y.bl_tree[2*O]++,y.bl_tree[2*I]++):he<=10?y.bl_tree[2*S]++:y.bl_tree[2*B]++,fe=O,le=(he=0)===_e?(ke=138,3):O===_e?(ke=6,3):(ke=7,4))}function ee(y,x,re){var ie,O,fe=-1,_e=x[1],he=0,ke=7,le=4;for(_e===0&&(ke=138,le=3),ie=0;ie<=re;ie++)if(O=_e,_e=x[2*(ie+1)+1],!(++he<ke&&O===_e)){if(he<le)for(;U(y,O,y.bl_tree),--he!=0;);else O!==0?(O!==fe&&(U(y,O,y.bl_tree),he--),U(y,I,y.bl_tree),K(y,he-3,2)):he<=10?(U(y,S,y.bl_tree),K(y,he-3,3)):(U(y,B,y.bl_tree),K(y,he-11,7));fe=O,le=(he=0)===_e?(ke=138,3):O===_e?(ke=6,3):(ke=7,4)}}l(ne);var V=!1;function k(y,x,re,ie){K(y,(u<<1)+(ie?1:0),3),function(O,fe,_e,he){Ue(O),he&&(Z(O,_e),Z(O,~_e)),s.arraySet(O.pending_buf,O.window,fe,_e,O.pending),O.pending+=_e}(y,x,re,!0)}r._tr_init=function(y){V||(function(){var x,re,ie,O,fe,_e=new Array($+1);for(O=ie=0;O<c-1;O++)for(D[O]=ie,x=0;x<1<<R[O];x++)b[ie++]=O;for(b[ie-1]=O,O=fe=0;O<16;O++)for(ne[O]=fe,x=0;x<1<<j[O];x++)F[fe++]=O;for(fe>>=7;O<h;O++)for(ne[O]=fe<<7,x=0;x<1<<j[O]-7;x++)F[256+fe++]=O;for(re=0;re<=$;re++)_e[re]=0;for(x=0;x<=143;)Y[2*x+1]=8,x++,_e[8]++;for(;x<=255;)Y[2*x+1]=9,x++,_e[9]++;for(;x<=279;)Y[2*x+1]=7,x++,_e[7]++;for(;x<=287;)Y[2*x+1]=8,x++,_e[8]++;for(Fe(Y,m+1,_e),x=0;x<h;x++)T[2*x+1]=5,T[2*x]=te(x,5);se=new be(Y,R,f+1,m,$),X=new be(T,j,0,h,$),me=new be(new Array(0),z,0,d,v)}(),V=!0),y.l_desc=new M(y.dyn_ltree,se),y.d_desc=new M(y.dyn_dtree,X),y.bl_desc=new M(y.bl_tree,me),y.bi_buf=0,y.bi_valid=0,Se(y)},r._tr_stored_block=k,r._tr_flush_block=function(y,x,re,ie){var O,fe,_e=0;0<y.level?(y.strm.data_type===2&&(y.strm.data_type=function(he){var ke,le=4093624447;for(ke=0;ke<=31;ke++,le>>>=1)if(1&le&&he.dyn_ltree[2*ke]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return a;for(ke=32;ke<f;ke++)if(he.dyn_ltree[2*ke]!==0)return a;return o}(y)),Je(y,y.l_desc),Je(y,y.d_desc),_e=function(he){var ke;for(_(he,he.dyn_ltree,he.l_desc.max_code),_(he,he.dyn_dtree,he.d_desc.max_code),Je(he,he.bl_desc),ke=d-1;3<=ke&&he.bl_tree[2*N[ke]+1]===0;ke--);return he.opt_len+=3*(ke+1)+5+5+4,ke}(y),O=y.opt_len+3+7>>>3,(fe=y.static_len+3+7>>>3)<=O&&(O=fe)):O=fe=re+5,re+4<=O&&x!==-1?k(y,x,re,ie):y.strategy===4||fe===O?(K(y,2+(ie?1:0),3),rt(y,Y,T)):(K(y,4+(ie?1:0),3),function(he,ke,le,ge){var Ge;for(K(he,ke-257,5),K(he,le-1,5),K(he,ge-4,4),Ge=0;Ge<ge;Ge++)K(he,he.bl_tree[2*N[Ge]+1],3);ee(he,he.dyn_ltree,ke-1),ee(he,he.dyn_dtree,le-1)}(y,y.l_desc.max_code+1,y.d_desc.max_code+1,_e+1),rt(y,y.dyn_ltree,y.dyn_dtree)),Se(y),ie&&Ue(y)},r._tr_tally=function(y,x,re){return y.pending_buf[y.d_buf+2*y.last_lit]=x>>>8&255,y.pending_buf[y.d_buf+2*y.last_lit+1]=255&x,y.pending_buf[y.l_buf+y.last_lit]=255&re,y.last_lit++,x===0?y.dyn_ltree[2*re]++:(y.matches++,x--,y.dyn_ltree[2*(b[re]+f+1)]++,y.dyn_dtree[2*P(x)]++),y.last_lit===y.lit_bufsize-1},r._tr_align=function(y){K(y,2,3),U(y,w,Y),function(x){x.bi_valid===16?(Z(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(y)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,m=1,h={},d=!1,p=o.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(o);$=$&&$.setTimeout?$:o,l={}.toString.call(o.process)==="[object process]"?function(I){process.nextTick(function(){v(I)})}:function(){if(o.postMessage&&!o.importScripts){var I=!0,S=o.onmessage;return o.onmessage=function(){I=!1},o.postMessage("","*"),o.onmessage=S,I}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(I){o.postMessage(f+I,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(I){v(I.data)},function(I){c.port2.postMessage(I)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(I){var S=p.createElement("script");S.onreadystatechange=function(){v(I),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(I){setTimeout(v,0,I)},$.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];var R={callback:I,args:S};return h[m]=R,l(m),m++},$.clearImmediate=g}function g(I){delete h[I]}function v(I){if(d)setTimeout(v,0,I);else{var S=h[I];if(S){d=!0;try{(function(B){var R=B.callback,j=B.args;switch(j.length){case 0:R();break;case 1:R(j[0]);break;case 2:R(j[0],j[1]);break;case 3:R(j[0],j[1],j[2]);break;default:R.apply(a,j)}})(S)}finally{g(I),d=!1}}}}function w(I){I.source===o&&typeof I.data=="string"&&I.data.indexOf(f)===0&&v(+I.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Cn<"u"?Cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(fm);class Es{constructor(e){Ie(this,"i",0);this.prefix=e}generate(){return`${this.prefix}-${this.i++}`}}/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let qn=Float32Array;function Nt(i,e,t){const n=new qn(3);return i&&(n[0]=i),e&&(n[1]=e),t&&(n[2]=t),n}function hm(i,e,t){return t=t||new qn(3),t[0]=i[0]-e[0],t[1]=i[1]-e[1],t[2]=i[2]-e[2],t}function qi(i,e,t){t=t||new qn(3);const n=i[2]*e[0]-i[0]*e[2],r=i[0]*e[1]-i[1]*e[0];return t[0]=i[1]*e[2]-i[2]*e[1],t[1]=n,t[2]=r,t}function ur(i,e){e=e||new qn(3);const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],n=Math.sqrt(t);return n>1e-5?(e[0]=i[0]/n,e[1]=i[1]/n,e[2]=i[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let Ye=Float32Array;function mm(i){const e=Ye;return Ye=i,e}function dm(i,e){return e=e||new Ye(16),e[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=-i[3],e[4]=-i[4],e[5]=-i[5],e[6]=-i[6],e[7]=-i[7],e[8]=-i[8],e[9]=-i[9],e[10]=-i[10],e[11]=-i[11],e[12]=-i[12],e[13]=-i[13],e[14]=-i[14],e[15]=-i[15],e}function pm(){return new Ye(16).fill(0)}function ks(i,e){return e=e||new Ye(16),e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function Ts(i){return i=i||new Ye(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function _m(i,e){if(e=e||new Ye(16),e===i){let v;return v=i[1],i[1]=i[4],i[4]=v,v=i[2],i[2]=i[8],i[8]=v,v=i[3],i[3]=i[12],i[12]=v,v=i[6],i[6]=i[9],i[9]=v,v=i[7],i[7]=i[13],i[13]=v,v=i[11],i[11]=i[14],i[14]=v,e}const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],c=i[2*4+0],f=i[2*4+1],m=i[2*4+2],h=i[2*4+3],d=i[3*4+0],p=i[3*4+1],$=i[3*4+2],g=i[3*4+3];return e[0]=t,e[1]=o,e[2]=c,e[3]=d,e[4]=n,e[5]=a,e[6]=f,e[7]=p,e[8]=r,e[9]=l,e[10]=m,e[11]=$,e[12]=s,e[13]=u,e[14]=h,e[15]=g,e}function Ss(i,e){e=e||new Ye(16);const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],c=i[2*4+0],f=i[2*4+1],m=i[2*4+2],h=i[2*4+3],d=i[3*4+0],p=i[3*4+1],$=i[3*4+2],g=i[3*4+3],v=m*g,w=$*h,I=l*g,S=$*u,B=l*h,R=m*u,j=r*g,z=$*s,N=r*h,Y=m*s,T=r*u,F=l*s,b=c*p,D=d*f,se=o*p,X=d*a,me=o*f,ne=c*a,be=t*p,M=d*n,P=t*f,Z=c*n,K=t*a,U=o*n,te=v*a+S*f+B*p-(w*a+I*f+R*p),Fe=w*n+j*f+Y*p-(v*n+z*f+N*p),Se=I*n+z*a+T*p-(S*n+j*a+F*p),Ue=R*n+N*a+F*f-(B*n+Y*a+T*f),De=1/(t*te+o*Fe+c*Se+d*Ue);return e[0]=De*te,e[1]=De*Fe,e[2]=De*Se,e[3]=De*Ue,e[4]=De*(w*o+I*c+R*d-(v*o+S*c+B*d)),e[5]=De*(v*t+z*c+N*d-(w*t+j*c+Y*d)),e[6]=De*(S*t+j*o+F*d-(I*t+z*o+T*d)),e[7]=De*(B*t+Y*o+T*c-(R*t+N*o+F*c)),e[8]=De*(b*u+X*h+me*g-(D*u+se*h+ne*g)),e[9]=De*(D*s+be*h+Z*g-(b*s+M*h+P*g)),e[10]=De*(se*s+M*u+K*g-(X*s+be*u+U*g)),e[11]=De*(ne*s+P*u+U*h-(me*s+Z*u+K*h)),e[12]=De*(se*m+ne*$+D*l-(me*$+b*l+X*m)),e[13]=De*(P*$+b*r+M*m-(be*m+Z*$+D*r)),e[14]=De*(be*l+U*$+X*r-(K*$+se*r+M*l)),e[15]=De*(K*m+me*r+Z*l-(P*l+U*m+ne*r)),e}function gm(i,e,t){t=t||new Ye(16);const n=i[0],r=i[1],s=i[2],o=i[3],a=i[4+0],l=i[4+1],u=i[4+2],c=i[4+3],f=i[8+0],m=i[8+1],h=i[8+2],d=i[8+3],p=i[12+0],$=i[12+1],g=i[12+2],v=i[12+3],w=e[0],I=e[1],S=e[2],B=e[3],R=e[4+0],j=e[4+1],z=e[4+2],N=e[4+3],Y=e[8+0],T=e[8+1],F=e[8+2],b=e[8+3],D=e[12+0],se=e[12+1],X=e[12+2],me=e[12+3];return t[0]=n*w+a*I+f*S+p*B,t[1]=r*w+l*I+m*S+$*B,t[2]=s*w+u*I+h*S+g*B,t[3]=o*w+c*I+d*S+v*B,t[4]=n*R+a*j+f*z+p*N,t[5]=r*R+l*j+m*z+$*N,t[6]=s*R+u*j+h*z+g*N,t[7]=o*R+c*j+d*z+v*N,t[8]=n*Y+a*T+f*F+p*b,t[9]=r*Y+l*T+m*F+$*b,t[10]=s*Y+u*T+h*F+g*b,t[11]=o*Y+c*T+d*F+v*b,t[12]=n*D+a*se+f*X+p*me,t[13]=r*D+l*se+m*X+$*me,t[14]=s*D+u*se+h*X+g*me,t[15]=o*D+c*se+d*X+v*me,t}function bm(i,e,t){return t=t||Ts(),i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function vm(i,e){return e=e||Nt(),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}function $m(i,e,t){t=t||Nt();const n=e*4;return t[0]=i[n+0],t[1]=i[n+1],t[2]=i[n+2],t}function wm(i,e,t,n){n!==i&&(n=ks(i,n));const r=t*4;return n[r+0]=e[0],n[r+1]=e[1],n[r+2]=e[2],n}function ym(i,e,t,n,r){r=r||new Ye(16);const s=Math.tan(Math.PI*.5-.5*i),o=1/(t-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(t+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=t*n*o*2,r[15]=0,r}function Am(i,e,t,n,r,s,o){return o=o||new Ye(16),o[0]=2/(e-i),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(e+i)/(i-e),o[13]=(n+t)/(t-n),o[14]=(s+r)/(r-s),o[15]=1,o}function Em(i,e,t,n,r,s,o){o=o||new Ye(16);const a=e-i,l=n-t,u=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(i+e)/a,o[9]=(n+t)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/u,o[15]=0,o}let Ft,Vt,kt;function km(i,e,t,n){return n=n||new Ye(16),Ft=Ft||Nt(),Vt=Vt||Nt(),kt=kt||Nt(),ur(hm(i,e,kt),kt),ur(qi(t,kt,Ft),Ft),ur(qi(kt,Ft,Vt),Vt),n[0]=Ft[0],n[1]=Ft[1],n[2]=Ft[2],n[3]=0,n[4]=Vt[0],n[5]=Vt[1],n[6]=Vt[2],n[7]=0,n[8]=kt[0],n[9]=kt[1],n[10]=kt[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function Tm(i,e){return e=e||new Ye(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Sm(i,e,t){t=t||new Ye(16);const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],u=i[3],c=i[1*4+0],f=i[1*4+1],m=i[1*4+2],h=i[1*4+3],d=i[2*4+0],p=i[2*4+1],$=i[2*4+2],g=i[2*4+3],v=i[3*4+0],w=i[3*4+1],I=i[3*4+2],S=i[3*4+3];return i!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=c,t[5]=f,t[6]=m,t[7]=h,t[8]=d,t[9]=p,t[10]=$,t[11]=g),t[12]=o*n+c*r+d*s+v,t[13]=a*n+f*r+p*s+w,t[14]=l*n+m*r+$*s+I,t[15]=u*n+h*r+g*s+S,t}function Im(i,e){e=e||new Ye(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Cm(i,e,t){t=t||new Ye(16);const n=i[4],r=i[5],s=i[6],o=i[7],a=i[8],l=i[9],u=i[10],c=i[11],f=Math.cos(e),m=Math.sin(e);return t[4]=f*n+m*a,t[5]=f*r+m*l,t[6]=f*s+m*u,t[7]=f*o+m*c,t[8]=f*a-m*n,t[9]=f*l-m*r,t[10]=f*u-m*s,t[11]=f*c-m*o,i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Rm(i,e){e=e||new Ye(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Fm(i,e,t){t=t||new Ye(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[2*4+0],l=i[2*4+1],u=i[2*4+2],c=i[2*4+3],f=Math.cos(e),m=Math.sin(e);return t[0]=f*n-m*a,t[1]=f*r-m*l,t[2]=f*s-m*u,t[3]=f*o-m*c,t[8]=f*a+m*n,t[9]=f*l+m*r,t[10]=f*u+m*s,t[11]=f*c+m*o,i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function xm(i,e){e=e||new Ye(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Bm(i,e,t){t=t||new Ye(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[1*4+0],l=i[1*4+1],u=i[1*4+2],c=i[1*4+3],f=Math.cos(e),m=Math.sin(e);return t[0]=f*n+m*a,t[1]=f*r+m*l,t[2]=f*s+m*u,t[3]=f*o+m*c,t[4]=f*a-m*n,t[5]=f*l-m*r,t[6]=f*u-m*s,t[7]=f*c-m*o,i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Nm(i,e,t){t=t||new Ye(16);let n=i[0],r=i[1],s=i[2];const o=Math.sqrt(n*n+r*r+s*s);n/=o,r/=o,s/=o;const a=n*n,l=r*r,u=s*s,c=Math.cos(e),f=Math.sin(e),m=1-c;return t[0]=a+(1-a)*c,t[1]=n*r*m+s*f,t[2]=n*s*m-r*f,t[3]=0,t[4]=n*r*m-s*f,t[5]=l+(1-l)*c,t[6]=r*s*m+n*f,t[7]=0,t[8]=n*s*m+r*f,t[9]=r*s*m-n*f,t[10]=u+(1-u)*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pm(i,e,t,n){n=n||new Ye(16);let r=e[0],s=e[1],o=e[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,u=s*s,c=o*o,f=Math.cos(t),m=Math.sin(t),h=1-f,d=l+(1-l)*f,p=r*s*h+o*m,$=r*o*h-s*m,g=r*s*h-o*m,v=u+(1-u)*f,w=s*o*h+r*m,I=r*o*h+s*m,S=s*o*h-r*m,B=c+(1-c)*f,R=i[0],j=i[1],z=i[2],N=i[3],Y=i[4],T=i[5],F=i[6],b=i[7],D=i[8],se=i[9],X=i[10],me=i[11];return n[0]=d*R+p*Y+$*D,n[1]=d*j+p*T+$*se,n[2]=d*z+p*F+$*X,n[3]=d*N+p*b+$*me,n[4]=g*R+v*Y+w*D,n[5]=g*j+v*T+w*se,n[6]=g*z+v*F+w*X,n[7]=g*N+v*b+w*me,n[8]=I*R+S*Y+B*D,n[9]=I*j+S*T+B*se,n[10]=I*z+S*F+B*X,n[11]=I*N+S*b+B*me,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n}function Dm(i,e){return e=e||new Ye(16),e[0]=i[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=i[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Um(i,e,t){t=t||new Ye(16);const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0],t[1]=n*i[0*4+1],t[2]=n*i[0*4+2],t[3]=n*i[0*4+3],t[4]=r*i[1*4+0],t[5]=r*i[1*4+1],t[6]=r*i[1*4+2],t[7]=r*i[1*4+3],t[8]=s*i[2*4+0],t[9]=s*i[2*4+1],t[10]=s*i[2*4+2],t[11]=s*i[2*4+3],i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function zm(i,e,t){t=t||Nt();const n=e[0],r=e[1],s=e[2],o=n*i[0*4+3]+r*i[1*4+3]+s*i[2*4+3]+i[3*4+3];return t[0]=(n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0]+i[3*4+0])/o,t[1]=(n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1]+i[3*4+1])/o,t[2]=(n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2]+i[3*4+2])/o,t}function Mm(i,e,t){t=t||Nt();const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0],t[1]=n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1],t[2]=n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2],t}function Om(i,e,t){t=t||Nt();const n=Ss(i),r=e[0],s=e[1],o=e[2];return t[0]=r*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=r*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=r*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var dt=Object.freeze({__proto__:null,axisRotate:Pm,axisRotation:Nm,copy:ks,create:pm,frustum:Em,getAxis:$m,getTranslation:vm,identity:Ts,inverse:Ss,lookAt:km,multiply:gm,negate:dm,ortho:Am,perspective:ym,rotateX:Cm,rotateY:Fm,rotateZ:Bm,rotationX:Im,rotationY:Rm,rotationZ:xm,scale:Um,scaling:Dm,setAxis:wm,setDefaultType:mm,setTranslation:bm,transformDirection:Mm,transformNormal:Om,transformPoint:zm,translate:Sm,translation:Tm,transpose:_m});const Ir=5120,bn=5121,Cr=5122,Rr=5123,Fr=5124,xr=5125,Br=5126,Lm=32819,Hm=32820,Gm=33635,Wm=5131,jm=33640,Vm=35899,Zm=35902,Xm=36269,qm=34042,Is={};{const i=Is;i[Ir]=Int8Array,i[bn]=Uint8Array,i[Cr]=Int16Array,i[Rr]=Uint16Array,i[Fr]=Int32Array,i[xr]=Uint32Array,i[Br]=Float32Array,i[Lm]=Uint16Array,i[Hm]=Uint16Array,i[Gm]=Uint16Array,i[Wm]=Uint16Array,i[jm]=Uint32Array,i[Vm]=Uint32Array,i[Zm]=Uint32Array,i[Xm]=Uint32Array,i[qm]=Uint32Array}function Nr(i){if(i instanceof Int8Array)return Ir;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)return bn;if(i instanceof Int16Array)return Cr;if(i instanceof Uint16Array)return Rr;if(i instanceof Int32Array)return Fr;if(i instanceof Uint32Array)return xr;if(i instanceof Float32Array)return Br;throw new Error("unsupported typed array type")}function Cs(i){if(i===Int8Array)return Ir;if(i===Uint8Array||i===Uint8ClampedArray)return bn;if(i===Int16Array)return Cr;if(i===Uint16Array)return Rr;if(i===Int32Array)return Fr;if(i===Uint32Array)return xr;if(i===Float32Array)return Br;throw new Error("unsupported typed array type")}function Rs(i){const e=Is[i];if(!e)throw new Error("unknown gl type");return e}const On=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Fs(...i){console.error(...i)}const Yi=new Map;function Yn(i,e){if(!i||typeof i!="object")return!1;let t=Yi.get(e);t||(t=new WeakMap,Yi.set(e,t));let n=t.get(i);if(n===void 0){const r=Object.prototype.toString.call(i);n=r.substring(8,r.length-1)===e,t.set(i,n)}return n}function Ym(i,e){return typeof WebGLBuffer<"u"&&Yn(e,"WebGLBuffer")}function xs(i,e){return typeof WebGLRenderbuffer<"u"&&Yn(e,"WebGLRenderbuffer")}function Kn(i,e){return typeof WebGLTexture<"u"&&Yn(e,"WebGLTexture")}function Km(i,e){return typeof WebGLSampler<"u"&&Yn(e,"WebGLSampler")}const Bs=35044,Yt=34962,Qm=34963,Jm=34660,ed=5120,td=5121,nd=5122,rd=5123,id=5124,sd=5125,Ns=5126,Ps={attribPrefix:""};function od(i,e,t,n,r){i.bindBuffer(e,t),i.bufferData(e,n,r||Bs)}function Ds(i,e,t,n){if(Ym(i,e))return e;t=t||Yt;const r=i.createBuffer();return od(i,t,r,e,n),r}function Us(i){return i==="indices"}function ad(i){return i===Int8Array||i===Uint8Array}function ld(i){return i.length?i:i.data}const ud=/coord|texture/i,cd=/color|colour/i;function fd(i,e){let t;if(ud.test(i)?t=2:cd.test(i)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${i}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function hd(i,e,t){return i.numComponents||i.size||fd(e,t||ld(i).length)}function zs(i,e){if(On(i))return i;if(On(i.data))return i.data;Array.isArray(i)&&(i={data:i});let t=i.type?Pr(i.type):void 0;return t||(Us(e)?t=Uint16Array:t=Float32Array),new t(i.data)}function md(i){return typeof i=="number"?i:i?Cs(i):Ns}function Pr(i){return typeof i=="number"?Rs(i):i||Float32Array}function dd(i,e){return{buffer:e.buffer,numValues:2*3*4,type:md(e.type),arrayType:Pr(e.type)}}function pd(i,e){const t=e.data||e,n=Pr(e.type),r=t*n.BYTES_PER_ELEMENT,s=i.createBuffer();return i.bindBuffer(Yt,s),i.bufferData(Yt,r,e.drawType||Bs),{buffer:s,numValues:t,type:Cs(n),arrayType:n}}function _d(i,e,t){const n=zs(e,t);return{arrayType:n.constructor,buffer:Ds(i,n,void 0,e.drawType),type:Nr(n),numValues:0}}function gd(i,e){const t={};return Object.keys(e).forEach(function(n){if(!Us(n)){const r=e[n],s=r.attrib||r.name||r.attribName||Ps.attribPrefix+n;if(r.value){if(!Array.isArray(r.value)&&!On(r.value))throw new Error("array.value is not array or typedarray");t[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=dd:typeof r=="number"||typeof r.data=="number"?o=pd:o=_d;const{buffer:a,type:l,numValues:u,arrayType:c}=o(i,r,n),f=r.normalize!==void 0?r.normalize:ad(c),m=hd(r,n,u);t[s]={buffer:a,numComponents:m,type:l,normalize:f,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),i.bindBuffer(Yt,null),t}function bd(i,e){return e===ed||e===td?1:e===nd||e===rd?2:e===id||e===sd||e===Ns?4:0}const cr=["position","positions","a_position"];function vd(i,e){let t,n;for(n=0;n<cr.length&&(t=cr[n],!(t in e||(t=Ps.attribPrefix+t,t in e)));++n);n===cr.length&&(t=Object.keys(e)[0]);const r=e[t];if(!r.buffer)return 1;i.bindBuffer(Yt,r.buffer);const s=i.getBufferParameter(Yt,Jm);i.bindBuffer(Yt,null);const o=bd(i,r.type),a=s/o,l=r.numComponents||r.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function $d(i,e,t){const n=gd(i,e),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=zs(s,"indices");r.indices=Ds(i,o,Qm),r.numElements=o.length,r.elementType=Nr(o)}else r.numElements||(r.numElements=vd(i,r.attribs));return r}function yn(i){return!!i.texStorage2D}const Ms=function(){const i={},e={};function t(n){const r=n.constructor.name;if(!i[r]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}i[r]=!0}}return function(r,s){return t(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Lt={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},un=On,Os=function(){let i;return function(){return i=i||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),i}}(),Ki=6406,wt=6407,Qe=6408,Qi=6409,Ji=6410,mn=6402,es=34041,Ln=33071,wd=9728,yd=9729,Rt=3553,Ct=34067,Ut=32879,zt=35866,Qn=34069,Ad=34070,Ed=34071,kd=34072,Td=34073,Sd=34074,br=10241,vr=10240,Hn=10242,Gn=10243,ts=32882,Id=33082,Cd=33083,Rd=33084,Fd=33085,Dr=3317,Ls=3314,Hs=32878,Gs=3316,Ws=3315,js=32877,xd=37443,Bd=37441,Nd=37440,Pd=33321,Dd=36756,Ud=33325,zd=33326,Md=33330,Od=33329,Ld=33338,Hd=33337,Gd=33340,Wd=33339,jd=33323,Vd=36757,Zd=33327,Xd=33328,qd=33336,Yd=33335,Kd=33332,Qd=33331,Jd=33334,e0=33333,t0=32849,n0=35905,r0=36194,i0=36758,s0=35898,o0=35901,a0=34843,l0=34837,u0=36221,c0=36239,f0=36215,h0=36233,m0=36209,d0=36227,p0=32856,_0=35907,g0=36759,b0=32855,v0=32854,$0=32857,w0=34842,y0=34836,A0=36220,E0=36238,k0=36975,T0=36214,S0=36232,I0=36226,C0=36208,R0=33189,F0=33190,x0=36012,B0=36013,N0=35056,xt=5120,Ke=5121,Fn=5122,tn=5123,xn=5124,Zt=5125,st=5126,ns=32819,rs=32820,is=33635,bt=5131,dn=36193,fr=33640,P0=35899,D0=35902,U0=36269,z0=34042,Bn=33319,nn=33320,Nn=6403,rn=36244,sn=36248,Xt=36249;let hr;function Jn(i){if(!hr){const e={};e[Ki]={textureFormat:Ki,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ke,bt,dn,st]},e[Qi]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ke,bt,dn,st]},e[Ji]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ke,bt,dn,st]},e[wt]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ke,bt,dn,st,is]},e[Qe]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ke,bt,dn,st,ns,rs]},e[mn]={textureFormat:mn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Zt,tn]},e[Pd]={textureFormat:Nn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ke]},e[Dd]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[xt]},e[Ud]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[st,bt]},e[zd]={textureFormat:Nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[st]},e[Md]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ke]},e[Od]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[xt]},e[Kd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[tn]},e[Qd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Fn]},e[Jd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[e0]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xn]},e[jd]={textureFormat:Bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ke]},e[Vd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[xt]},e[Zd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[st,bt]},e[Xd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[st]},e[qd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ke]},e[Yd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xt]},e[Ld]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[tn]},e[Hd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Fn]},e[Gd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Zt]},e[Wd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xn]},e[t0]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ke]},e[n0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ke]},e[r0]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ke,is]},e[i0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[xt]},e[s0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[st,bt,P0]},e[o0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[st,bt,D0]},e[a0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[st,bt]},e[l0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[st]},e[u0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ke]},e[c0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[xt]},e[f0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[tn]},e[h0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Fn]},e[m0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Zt]},e[d0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[xn]},e[p0]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},e[_0]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},e[g0]={textureFormat:Qe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[xt]},e[b0]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ke,rs,fr]},e[v0]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ke,ns]},e[$0]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[fr]},e[w0]={textureFormat:Qe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[st,bt]},e[y0]={textureFormat:Qe,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[st]},e[A0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ke]},e[E0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xt]},e[k0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[fr]},e[T0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[tn]},e[S0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Fn]},e[I0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[xn]},e[C0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Zt]},e[R0]={textureFormat:mn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[tn,Zt]},e[F0]={textureFormat:mn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[x0]={textureFormat:mn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[st]},e[N0]={textureFormat:es,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[z0]},e[B0]={textureFormat:es,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[U0]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(r,s){const o=n.type[s];n.bytesPerElementMap[o]=r})}),hr=e}return hr[i]}function M0(i,e){const t=Jn(i);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function fn(i){const e=Jn(i);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function ss(i){return(i&i-1)===0}function O0(i,e,t,n){if(!yn(i))return ss(e)&&ss(t);const r=Jn(n);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function L0(i){const e=Jn(i);if(!e)throw"unknown internal format";return e.textureFilterable}function Vs(i,e,t){return un(e)?Nr(e):t||Ke}function Pn(i,e,t,n,r){if(r%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(r/(e===Ct?6:1));s%1===0?(t=s,n=s):(t=r,n=1)}else if(n){if(!t&&(t=r/n,t%1))throw"can't guess dimensions"}else if(n=r/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function cn(i,e){e.colorspaceConversion!==void 0&&i.pixelStorei(xd,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&i.pixelStorei(Bd,e.premultiplyAlpha),e.flipY!==void 0&&i.pixelStorei(Nd,e.flipY)}function Zs(i){i.pixelStorei(Dr,4),yn(i)&&(i.pixelStorei(Ls,0),i.pixelStorei(Hs,0),i.pixelStorei(Gs,0),i.pixelStorei(Ws,0),i.pixelStorei(js,0))}function H0(i,e,t,n){n.minMag&&(t.call(i,e,br,n.minMag),t.call(i,e,vr,n.minMag)),n.min&&t.call(i,e,br,n.min),n.mag&&t.call(i,e,vr,n.mag),n.wrap&&(t.call(i,e,Hn,n.wrap),t.call(i,e,Gn,n.wrap),(e===Ut||Km(i,e))&&t.call(i,e,ts,n.wrap)),n.wrapR&&t.call(i,e,ts,n.wrapR),n.wrapS&&t.call(i,e,Hn,n.wrapS),n.wrapT&&t.call(i,e,Gn,n.wrapT),n.minLod&&t.call(i,e,Id,n.minLod),n.maxLod&&t.call(i,e,Cd,n.maxLod),n.baseLevel&&t.call(i,e,Rd,n.baseLevel),n.maxLevel&&t.call(i,e,Fd,n.maxLevel)}function Xs(i,e,t){const n=t.target||Rt;i.bindTexture(n,e),H0(i,n,i.texParameteri,t)}function G0(i){return i=i||Lt.textureColor,un(i)?i:new Uint8Array([i[0]*255,i[1]*255,i[2]*255,i[3]*255])}function $r(i,e,t,n,r,s){t=t||Lt.textureOptions,s=s||Qe;const o=t.target||Rt;if(n=n||t.width,r=r||t.height,i.bindTexture(o,e),O0(i,n,r,s))i.generateMipmap(o);else{const a=L0(s)?yd:wd;i.texParameteri(o,br,a),i.texParameteri(o,vr,a),i.texParameteri(o,Hn,Ln),i.texParameteri(o,Gn,Ln)}}function vn(i){return i.auto===!0||i.auto===void 0&&i.level===void 0}function wr(i,e){return e=e||{},e.cubeFaceOrder||[Qn,Ad,Ed,kd,Td,Sd]}function yr(i,e){const n=wr(i,e).map(function(r,s){return{face:r,ndx:s}});return n.sort(function(r,s){return r.face-s.face}),n}function Ur(i,e,t,n){n=n||Lt.textureOptions;const r=n.target||Rt,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||Qe,u=fn(l),c=n.format||u.format,f=n.type||u.type;if(cn(i,n),i.bindTexture(r,e),r===Ct){const m=t.width,h=t.height;let d,p;if(m/6===h)d=h,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===m)d=m,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(m/3===h/2)d=m/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(m/2===h/3)d=m/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const $=Os();$?($.canvas.width=d,$.canvas.height=d,o=d,a=d,yr(i,n).forEach(function(g){const v=p[g.ndx*2+0]*d,w=p[g.ndx*2+1]*d;$.drawImage(t,v,w,d,d,0,0,d,d),i.texImage2D(g.face,s,l,c,f,$.canvas)}),$.canvas.width=1,$.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,yr(i,n).forEach(function(g){const v=p[g.ndx*2+0]*d,w=p[g.ndx*2+1]*d;i.texImage2D(g.face,s,l,d,d,0,c,f,null),createImageBitmap(t,v,w,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(I){cn(i,n),i.bindTexture(r,e),i.texImage2D(g.face,s,l,c,f,I),vn(n)&&$r(i,e,n,o,a,l)})}))}else if(r===Ut||r===zt){const m=Math.min(t.width,t.height),h=Math.max(t.width,t.height),d=h/m;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=t.width===h?1:0,$=t.height===h?1:0;i.pixelStorei(Dr,1),i.pixelStorei(Ls,t.width),i.pixelStorei(Hs,0),i.pixelStorei(js,0),i.texImage3D(r,s,l,m,m,m,0,c,f,null);for(let g=0;g<d;++g){const v=g*m*p,w=g*m*$;i.pixelStorei(Gs,v),i.pixelStorei(Ws,w),i.texSubImage3D(r,s,0,0,g,m,m,1,c,f,t)}Zs(i)}else i.texImage2D(r,s,l,c,f,t);vn(n)&&$r(i,e,n,o,a,l),Xs(i,e,n)}function An(){}function W0(i){if(typeof document<"u"){const e=document.createElement("a");return e.href=i,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(i,location.href).origin===e}}function j0(i,e){return e===void 0&&!W0(i)?"anonymous":e}function V0(i,e,t){t=t||An;let n;if(e=e!==void 0?e:Lt.crossOrigin,e=j0(i,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const r=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+i;Fs(l),t(l,n),r()},o=function(){t(null,n),r()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=i,n}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){t(r,s)},a={};e&&(a.mode="cors"),fetch(i,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),n=null}return n}function qs(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap||typeof ImageData<"u"&&i instanceof ImageData||typeof HTMLElement<"u"&&i instanceof HTMLElement}function zr(i,e,t){return qs(i)?(setTimeout(function(){t(null,i)}),i):V0(i,e,t)}function Mr(i,e,t){t=t||Lt.textureOptions;const n=t.target||Rt;if(i.bindTexture(n,e),t.color===!1)return;const r=G0(t.color);if(n===Ct)for(let s=0;s<6;++s)i.texImage2D(Qn+s,0,Qe,1,1,0,Qe,Ke,r);else n===Ut||n===zt?i.texImage3D(n,0,Qe,1,1,1,0,Qe,Ke,r):i.texImage2D(n,0,Qe,1,1,0,Qe,Ke,r)}function Z0(i,e,t,n){return n=n||An,t=t||Lt.textureOptions,Mr(i,e,t),t=Object.assign({},t),zr(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(Ur(i,e,o,t),n(null,e,o))})}function X0(i,e,t,n){n=n||An;const r=t.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||Qe,a=fn(o),l=t.format||a.format,u=t.type||Ke,c=t.target||Rt;if(c!==Ct)throw"target must be TEXTURE_CUBE_MAP";Mr(i,e,t),t=Object.assign({},t);let f=6;const m=[],h=wr(i,t);let d;function p($){return function(g,v){--f,g?m.push(g):v.width!==v.height?m.push("cubemap face img is not a square: "+v.src):(cn(i,t),i.bindTexture(c,e),f===5?wr().forEach(function(w){i.texImage2D(w,s,o,l,u,v)}):i.texImage2D($,s,o,l,u,v),vn(t)&&i.generateMipmap(c)),f===0&&n(m.length?m:void 0,e,d)}}d=r.map(function($,g){return zr($,t.crossOrigin,p(h[g]))})}function q0(i,e,t,n){n=n||An;const r=t.src,s=t.internalFormat||t.format||Qe,o=fn(s),a=t.format||o.format,l=t.type||Ke,u=t.target||zt;if(u!==Ut&&u!==zt)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Mr(i,e,t),t=Object.assign({},t);let c=r.length;const f=[];let m;const h=t.level||0;let d=t.width,p=t.height;const $=r.length;let g=!0;function v(w){return function(I,S){if(--c,I)f.push(I);else{if(cn(i,t),i.bindTexture(u,e),g){g=!1,d=t.width||S.width,p=t.height||S.height,i.texImage3D(u,h,s,d,p,$,0,a,l,null);for(let B=0;B<$;++B)i.texSubImage3D(u,h,0,0,B,d,p,1,a,l,S)}else{let B=S,R;(S.width!==d||S.height!==p)&&(R=Os(),B=R.canvas,R.canvas.width=d,R.canvas.height=p,R.drawImage(S,0,0,d,p)),i.texSubImage3D(u,h,0,0,w,d,p,1,a,l,B),R&&B===R.canvas&&(R.canvas.width=0,R.canvas.height=0)}vn(t)&&i.generateMipmap(u)}c===0&&n(f.length?f:void 0,e,m)}}m=r.map(function(w,I){return zr(w,t.crossOrigin,v(I))})}function Y0(i,e,t,n){n=n||Lt.textureOptions;const r=n.target||Rt;i.bindTexture(r,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,u=n.internalFormat||n.format||Qe,c=fn(u),f=n.format||c.format,m=n.type||Vs(i,t,c.type);if(un(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const $=Rs(m);t=new $(t)}const h=M0(u,m),d=t.byteLength/h;if(d%1)throw"length wrong size for format: "+Ms(i,f);let p;if(r===Ut||r===zt)if(!s&&!o&&!a){const $=Math.cbrt(d);if($%1!==0)throw"can't guess cube size of array of numElements: "+d;s=$,o=$,a=$}else s&&(!o||!a)?(p=Pn(i,r,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=Pn(i,r,s,a,d/o),s=p.width,a=p.height):(p=Pn(i,r,s,o,d/a),s=p.width,o=p.height);else p=Pn(i,r,s,o,d),s=p.width,o=p.height;if(Zs(i),i.pixelStorei(Dr,n.unpackAlignment||1),cn(i,n),r===Ct){const $=h/t.BYTES_PER_ELEMENT,g=d/6*$;yr(i,n).forEach(v=>{const w=g*v.ndx,I=t.subarray(w,w+g);i.texImage2D(v.face,l,u,s,o,0,f,m,I)})}else r===Ut||r===zt?i.texImage3D(r,l,u,s,o,a,0,f,m,t):i.texImage2D(r,l,u,s,o,0,f,m,t);return{width:s,height:o,depth:a,type:m}}function K0(i,e,t){const n=t.target||Rt;i.bindTexture(n,e);const r=t.level||0,s=t.internalFormat||t.format||Qe,o=fn(s),a=t.format||o.format,l=t.type||o.type;if(cn(i,t),n===Ct)for(let u=0;u<6;++u)i.texImage2D(Qn+u,r,s,t.width,t.height,0,a,l,null);else n===Ut||n===zt?i.texImage3D(n,r,s,t.width,t.height,t.depth,0,a,l,null):i.texImage2D(n,r,s,t.width,t.height,0,a,l,null)}function Ys(i,e,t){t=t||An,e=e||Lt.textureOptions;const n=i.createTexture(),r=e.target||Rt;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Qe;i.bindTexture(r,n),r===Ct&&(i.texParameteri(r,Hn,Ln),i.texParameteri(r,Gn,Ln));let l=e.src;if(l)if(typeof l=="function"&&(l=l(i,e)),typeof l=="string")Z0(i,n,e,t);else if(un(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||un(l[0]))){const u=Y0(i,n,l,e);s=u.width,o=u.height}else Array.isArray(l)&&(typeof l[0]=="string"||qs(l[0]))?r===Ct?X0(i,n,e,t):q0(i,n,e,t):(Ur(i,n,l,e),s=l.width,o=l.height);else K0(i,n,e);return vn(e)&&$r(i,n,e,s,o,a),Xs(i,n,e),n}function Q0(i,e,t,n,r,s){n=n||t.width,r=r||t.height,s=s||t.depth;const o=t.target||Rt;i.bindTexture(o,e);const a=t.level||0,l=t.internalFormat||t.format||Qe,u=fn(l),c=t.format||u.format;let f;const m=t.src;if(m&&(un(m)||Array.isArray(m)&&typeof m[0]=="number")?f=t.type||Vs(i,m,u.type):f=t.type||u.type,o===Ct)for(let h=0;h<6;++h)i.texImage2D(Qn+h,a,l,n,r,0,c,f,null);else o===Ut||o===zt?i.texImage3D(o,a,l,n,r,s,0,c,f,null):i.texImage2D(o,a,l,n,r,0,c,f,null)}const Or=Fs;function J0(i){return typeof document<"u"&&document.getElementById?document.getElementById(i):null}const Wn=33984,er=34962,ep=34963,tp=35713,np=35714,rp=35632,ip=35633,sp=35981,Ks=35718,op=35721,ap=35971,lp=35382,up=35396,cp=35398,fp=35392,hp=35395,tr=5126,Qs=35664,Js=35665,eo=35666,Lr=5124,to=35667,no=35668,ro=35669,io=35670,so=35671,oo=35672,ao=35673,lo=35674,uo=35675,co=35676,mp=35678,dp=35680,pp=35679,_p=35682,gp=35685,bp=35686,vp=35687,$p=35688,wp=35689,yp=35690,Ap=36289,Ep=36292,kp=36293,Hr=5125,fo=36294,ho=36295,mo=36296,Tp=36298,Sp=36299,Ip=36300,Cp=36303,Rp=36306,Fp=36307,xp=36308,Bp=36311,nr=3553,rr=34067,Gr=32879,ir=35866,Me={};function po(i,e){return Me[e].bindPoint}function Np(i,e){return function(t){i.uniform1f(e,t)}}function Pp(i,e){return function(t){i.uniform1fv(e,t)}}function Dp(i,e){return function(t){i.uniform2fv(e,t)}}function Up(i,e){return function(t){i.uniform3fv(e,t)}}function zp(i,e){return function(t){i.uniform4fv(e,t)}}function _o(i,e){return function(t){i.uniform1i(e,t)}}function go(i,e){return function(t){i.uniform1iv(e,t)}}function bo(i,e){return function(t){i.uniform2iv(e,t)}}function vo(i,e){return function(t){i.uniform3iv(e,t)}}function $o(i,e){return function(t){i.uniform4iv(e,t)}}function Mp(i,e){return function(t){i.uniform1ui(e,t)}}function Op(i,e){return function(t){i.uniform1uiv(e,t)}}function Lp(i,e){return function(t){i.uniform2uiv(e,t)}}function Hp(i,e){return function(t){i.uniform3uiv(e,t)}}function Gp(i,e){return function(t){i.uniform4uiv(e,t)}}function Wp(i,e){return function(t){i.uniformMatrix2fv(e,!1,t)}}function jp(i,e){return function(t){i.uniformMatrix3fv(e,!1,t)}}function Vp(i,e){return function(t){i.uniformMatrix4fv(e,!1,t)}}function Zp(i,e){return function(t){i.uniformMatrix2x3fv(e,!1,t)}}function Xp(i,e){return function(t){i.uniformMatrix3x2fv(e,!1,t)}}function qp(i,e){return function(t){i.uniformMatrix2x4fv(e,!1,t)}}function Yp(i,e){return function(t){i.uniformMatrix4x2fv(e,!1,t)}}function Kp(i,e){return function(t){i.uniformMatrix3x4fv(e,!1,t)}}function Qp(i,e){return function(t){i.uniformMatrix4x3fv(e,!1,t)}}function at(i,e,t,n){const r=po(i,e);return yn(i)?function(s){let o,a;!s||Kn(i,s)?(o=s,a=null):(o=s.texture,a=s.sampler),i.uniform1i(n,t),i.activeTexture(Wn+t),i.bindTexture(r,o),i.bindSampler(t,a)}:function(s){i.uniform1i(n,t),i.activeTexture(Wn+t),i.bindTexture(r,s)}}function lt(i,e,t,n,r){const s=po(i,e),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=t+a;return yn(i)?function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Wn+o[u]);let c,f;Kn(i,l)?(c=l,f=null):(c=l.texture,f=l.sampler),i.bindSampler(t,f),i.bindTexture(s,c)})}:function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Wn+o[u]),i.bindTexture(s,l)})}}Me[tr]={Type:Float32Array,size:4,setter:Np,arraySetter:Pp};Me[Qs]={Type:Float32Array,size:8,setter:Dp,cols:2};Me[Js]={Type:Float32Array,size:12,setter:Up,cols:3};Me[eo]={Type:Float32Array,size:16,setter:zp,cols:4};Me[Lr]={Type:Int32Array,size:4,setter:_o,arraySetter:go};Me[to]={Type:Int32Array,size:8,setter:bo,cols:2};Me[no]={Type:Int32Array,size:12,setter:vo,cols:3};Me[ro]={Type:Int32Array,size:16,setter:$o,cols:4};Me[Hr]={Type:Uint32Array,size:4,setter:Mp,arraySetter:Op};Me[fo]={Type:Uint32Array,size:8,setter:Lp,cols:2};Me[ho]={Type:Uint32Array,size:12,setter:Hp,cols:3};Me[mo]={Type:Uint32Array,size:16,setter:Gp,cols:4};Me[io]={Type:Uint32Array,size:4,setter:_o,arraySetter:go};Me[so]={Type:Uint32Array,size:8,setter:bo,cols:2};Me[oo]={Type:Uint32Array,size:12,setter:vo,cols:3};Me[ao]={Type:Uint32Array,size:16,setter:$o,cols:4};Me[lo]={Type:Float32Array,size:32,setter:Wp,rows:2,cols:2};Me[uo]={Type:Float32Array,size:48,setter:jp,rows:3,cols:3};Me[co]={Type:Float32Array,size:64,setter:Vp,rows:4,cols:4};Me[gp]={Type:Float32Array,size:32,setter:Zp,rows:2,cols:3};Me[bp]={Type:Float32Array,size:32,setter:qp,rows:2,cols:4};Me[vp]={Type:Float32Array,size:48,setter:Xp,rows:3,cols:2};Me[$p]={Type:Float32Array,size:48,setter:Kp,rows:3,cols:4};Me[wp]={Type:Float32Array,size:64,setter:Yp,rows:4,cols:2};Me[yp]={Type:Float32Array,size:64,setter:Qp,rows:4,cols:3};Me[mp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:nr};Me[dp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[pp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:Gr};Me[_p]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:nr};Me[Ap]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[Ep]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[kp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[Tp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:nr};Me[Sp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:Gr};Me[Ip]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[Cp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[Rp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:nr};Me[Fp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:Gr};Me[xp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[Bp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};function sr(i,e){return function(t){if(t.value)switch(i.disableVertexAttribArray(e),t.value.length){case 4:i.vertexAttrib4fv(e,t.value);break;case 3:i.vertexAttrib3fv(e,t.value);break;case 2:i.vertexAttrib2fv(e,t.value);break;case 1:i.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else i.bindBuffer(er,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribPointer(e,t.numComponents||t.size,t.type||tr,t.normalize||!1,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Ht(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else i.bindBuffer(er,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Lr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function or(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else i.bindBuffer(er,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Hr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Wr(i,e,t){const n=t.size,r=t.count;return function(s){i.bindBuffer(er,s.buffer);const o=s.size||s.numComponents||n,a=o/r,l=s.type||tr,c=Me[l].size*o,f=s.normalize||!1,m=s.offset||0,h=c/r;for(let d=0;d<r;++d)i.enableVertexAttribArray(e+d),i.vertexAttribPointer(e+d,a,l,f,c,m+h*d),i.vertexAttribDivisor&&i.vertexAttribDivisor(e+d,s.divisor||0)}}const tt={};tt[tr]={size:4,setter:sr};tt[Qs]={size:8,setter:sr};tt[Js]={size:12,setter:sr};tt[eo]={size:16,setter:sr};tt[Lr]={size:4,setter:Ht};tt[to]={size:8,setter:Ht};tt[no]={size:12,setter:Ht};tt[ro]={size:16,setter:Ht};tt[Hr]={size:4,setter:or};tt[fo]={size:8,setter:or};tt[ho]={size:12,setter:or};tt[mo]={size:16,setter:or};tt[io]={size:4,setter:Ht};tt[so]={size:8,setter:Ht};tt[oo]={size:12,setter:Ht};tt[ao]={size:16,setter:Ht};tt[lo]={size:4,setter:Wr,count:2};tt[uo]={size:9,setter:Wr,count:3};tt[co]={size:16,setter:Wr,count:4};const Jp=/ERROR:\s*\d+:(\d+)/gi;function e1(i,e="",t=0){const n=[...e.matchAll(Jp)],r=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],u=l?l.index:e.length,c=e.substring(s.index,u);return[a-1,c]}));return i.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const os=/^[ \t]*\n/;function wo(i){let e=0;return os.test(i)&&(e=1,i=i.replace(os,"")),{lineOffset:e,shaderSource:i}}function t1(i,e,t,n){if(n=n||Or,!i.getShaderParameter(t,tp)){const s=i.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=wo(i.getShaderSource(t)),l=`${e1(a,s,o)}
Error compiling ${Ms(i,e)}: ${s}`;return n(l),l}return""}function yo(i,e,t){let n,r,s;if(typeof e=="function"&&(t=e,e=void 0),typeof i=="function")t=i,i=void 0;else if(i&&!Array.isArray(i)){const u=i;t=u.errorCallback,i=u.attribLocations,n=u.transformFeedbackVaryings,r=u.transformFeedbackMode,s=u.callback}const o=t||Or,a=[],l={errorCallback(u,...c){a.push(u),o(u,...c)},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:s,errors:a};{let u={};Array.isArray(i)?i.forEach(function(c,f){u[c]=e?e[f]:f}):u=i||{},l.attribLocations=u}return l}const n1=["VERTEX_SHADER","FRAGMENT_SHADER"];function r1(i,e){if(e.indexOf("frag")>=0)return rp;if(e.indexOf("vert")>=0)return ip}const i1=(i=0)=>new Promise(e=>setTimeout(e,i));function s1(i,e,t){const n=i.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=yo(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const u=J0(l),c=u?u.text:l;let f=i[n1[a]];u&&u.type&&(f=r1(i,u.type)||f),l=i.createShader(f),i.shaderSource(l,wo(c).shaderSource),i.compileShader(l),i.attachShader(n,l)}}Object.entries(r).forEach(([a,l])=>i.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),i.transformFeedbackVaryings(n,a,o||sp))}return i.linkProgram(n),n}async function o1(i,e){const t=i.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await i1(r),r=1e3/60;while(!n(i,e))}async function a1(i,e){for(const t of Object.values(e))await o1(i,t)}function l1(i,e,t){if(t=t||Or,!i.getProgramParameter(e,np)){const r=i.getProgramInfoLog(e);t(`Error in program linking: ${r}`);const o=i.getAttachedShaders(e).map(a=>t1(i,i.getShaderParameter(a,i.SHADER_TYPE),a,t));return`${r}
${o.filter(a=>a).join(`
`)}`}}function Ao(i){const e=i.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const u1=/(\.|\[|]|\w+)/g,c1=i=>i>="0"&&i<="9";function f1(i,e,t,n){const r=i.split(u1).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=c1(a[0]),u=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){t[u]=e;break}else{const f=r[s++],m=f==="[",h=t[u]||(m?[]:{});t[u]=h,t=h,n[o]=n[o]||function(d){return function(p){Eo(d,p)}}(h),o+=f}}}function h1(i,e){let t=0;function n(a,l,u){const c=l.name.endsWith("[0]"),f=l.type,m=Me[f];if(!m)throw new Error(`unknown type: 0x${f.toString(16)}`);let h;if(m.bindPoint){const d=t;t+=l.size,c?h=m.arraySetter(i,f,d,u,l.size):h=m.setter(i,f,d,u,l.size)}else m.arraySetter&&c?h=m.arraySetter(i,u):h=m.setter(i,u);return h.location=u,h}const r={},s={},o=i.getProgramParameter(e,Ks);for(let a=0;a<o;++a){const l=i.getActiveUniform(e,a);if(Ao(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const c=i.getUniformLocation(e,l.name);if(c){const f=n(e,l,c);r[u]=f,f1(u,f,s,r)}}return r}function m1(i,e){const t={},n=i.getProgramParameter(e,ap);for(let r=0;r<n;++r){const s=i.getTransformFeedbackVarying(e,r);t[s.name]={index:r,type:s.type,size:s.size}}return t}function d1(i,e){const t=i.getProgramParameter(e,Ks),n=[],r=[];for(let a=0;a<t;++a){r.push(a),n.push({});const l=i.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];i.getActiveUniforms(e,r,i[l]).forEach(function(c,f){n[f][u]=c})});const s={},o=i.getProgramParameter(e,lp);for(let a=0;a<o;++a){const l=i.getActiveUniformBlockName(e,a),u={index:i.getUniformBlockIndex(e,l),usedByVertexShader:i.getActiveUniformBlockParameter(e,a,up),usedByFragmentShader:i.getActiveUniformBlockParameter(e,a,cp),size:i.getActiveUniformBlockParameter(e,a,fp),uniformIndices:i.getActiveUniformBlockParameter(e,a,hp)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:n}}function Eo(i,e){for(const t in e){const n=i[t];typeof n=="function"?n(e[t]):Eo(i[t],e[t])}}function pn(i,...e){const t=i.uniformSetters||i,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)pn(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function p1(i,e){const t={},n=i.getProgramParameter(e,op);for(let r=0;r<n;++r){const s=i.getActiveAttrib(e,r);if(Ao(s))continue;const o=i.getAttribLocation(e,s.name),a=tt[s.type],l=a.setter(i,o,a);l.location=o,t[s.name]=l}return t}function _1(i,e){for(const t in e){const n=i[t];n&&n(e[t])}}function as(i,e,t){t.vertexArrayObject?i.bindVertexArray(t.vertexArrayObject):(_1(e.attribSetters||e,t.attribs),t.indices&&i.bindBuffer(ep,t.indices))}function g1(i,e){const t=h1(i,e),n=p1(i,e),r={program:e,uniformSetters:t,attribSetters:n};return yn(i)&&(r.uniformBlockSpec=d1(i,e),r.transformFeedbackInfo=m1(i,e)),r}function ls(i,e,t,n,r){for(const[s,o]of Object.entries(e)){const a={...r},l=t[s];Array.isArray(l)||Object.assign(a,l);const u=l1(i,o,a.errorCallback);if(u){for(const c of Object.values(e)){const f=i.getAttachedShaders(c);i.deleteProgram(c);for(const m of f)n.has(m)||i.deleteShader(m)}return u}}}function b1(i,e,t={}){const n=new Set,r=Object.fromEntries(Object.entries(e).map(([o,a])=>{const l={...t},u=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(l,a),u.forEach(n.add,n),[o,s1(i,u,l)]}));if(t.callback){a1(i,r).then(()=>{const o=ls(i,r,e,n,t);t.callback(o,o?void 0:r)});return}return ls(i,r,e,n,t)?void 0:r}function v1(i,e,t){t=yo(t);function n(o,a){return Object.fromEntries(Object.entries(a).map(([l,u])=>[l,g1(o,u)]))}const r=t.callback;r&&(t.callback=(o,a)=>{r(o,o?void 0:n(i,a))});const s=b1(i,e,t);if(!(r||!s))return n(i,s)}const $1=36160,qt=36161,w1=3553,y1=5121,A1=6402,E1=6408,k1=33190,T1=36012,S1=35056,I1=36013,C1=32854,R1=32855,F1=36194,ko=33189,To=6401,So=36168,jr=34041,Ar=36064,ar=36096,Io=36128,Vr=33306,Er=33071,kr=9729,Co=[{format:E1,type:y1,min:kr,wrap:Er},{format:jr}],vt={};vt[jr]=Vr;vt[To]=Io;vt[So]=Io;vt[A1]=ar;vt[ko]=ar;vt[k1]=ar;vt[T1]=ar;vt[S1]=Vr;vt[I1]=Vr;function x1(i,e){return vt[i]||vt[e]}const Gt={};Gt[C1]=!0;Gt[R1]=!0;Gt[F1]=!0;Gt[jr]=!0;Gt[ko]=!0;Gt[To]=!0;Gt[So]=!0;function B1(i){return Gt[i]}const N1=32;function P1(i){return i>=Ar&&i<Ar+N1}function us(i,e,t,n){const r=$1,s=i.createFramebuffer();i.bindFramebuffer(r,s),t=t||i.drawingBufferWidth,n=n||i.drawingBufferHeight,e=e||Co;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,u){let c=l.attachment;const f=l.samples,m=l.format;let h=l.attachmentPoint||x1(m,l.internalFormat);if(h||(h=Ar+u),P1(h)&&o.push(h),!c)if(f!==void 0||B1(m))c=i.createRenderbuffer(),i.bindRenderbuffer(qt,c),f>1?i.renderbufferStorageMultisample(qt,f,m,t,n):i.renderbufferStorage(qt,m,t,n);else{const d=Object.assign({},l);d.width=t,d.height=n,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||kr,d.mag=d.mag||d.minMag||kr,d.wrapS=d.wrapS||d.wrap||Er,d.wrapT=d.wrapT||d.wrap||Er),c=Ys(i,d)}if(xs(i,c))i.framebufferRenderbuffer(r,h,qt,c);else if(Kn(i,c))l.layer!==void 0?i.framebufferTextureLayer(r,h,c,l.level||0,l.layer):i.framebufferTexture2D(r,h,l.target||w1,c,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(c)}),i.drawBuffers&&i.drawBuffers(o),a}function D1(i,e,t,n,r){n=n||i.drawingBufferWidth,r=r||i.drawingBufferHeight,e.width=n,e.height=r,t=t||Co,t.forEach(function(s,o){const a=e.attachments[o],l=s.format,u=s.samples;if(u!==void 0||xs(i,a))i.bindRenderbuffer(qt,a),u>1?i.renderbufferStorageMultisample(qt,u,l,n,r):i.renderbufferStorage(qt,l,n,r);else if(Kn(i,a))Q0(i,a,s,n,r);else throw new Error("unknown attachment type")})}class U1{constructor(e,t,n,r){this.id=e,this.original=t,this.texture=n,this.meta=r}get width(){return this.original.width}get height(){return this.original.height}}class z1{constructor(e,t=new Es("textures")){Ie(this,"textures",new Map);this.gl=e,this.idGenerator=t}addImage(e,t){let n=t==null?void 0:t.id;if(n&&this.textures.has(n))throw new Error(`Texture with id ${n} already exists`);if(!n){for(let o=0;o<this.textures.size+5&&(n=this.idGenerator.generate(),!!this.textures.has(n));o++)n=void 0;if(!n)throw new Error("Textures overflow!")}const r=Ys(this.gl,{src:e}),s=new U1(n,e,r,t.meta);return this.textures.set(n,s),s}downloadImage(e,t){return As(e).then(n=>this.addImage(n,t))}delete(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} already deleted`);return this.gl.deleteTexture(t.texture),this.textures.delete(e),t.original}get(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} not found`);return t}has(e){return this.textures.has(e)}}const M1=`#version 300 es
precision highp  float;
precision highp  int;

vec2[6] v;
vec2[6] t;

out vec2 texCoord;
void main() {
    v[0] = vec2(-1, -1);
    v[1] = vec2(1, -1);
    v[2] = vec2(1, 1);
    v[3] = vec2(1, 1);
    v[4] = vec2(-1, 1);
    v[5] = vec2(-1, -1);
    int i = gl_VertexID;
    gl_Position = vec4(v[i], 0, 1);
    t[0] = vec2(0, 0);
    t[1] = vec2(1, 0);
    t[2] = vec2(1, 1);
    t[3] = vec2(1, 1);
    t[4] = vec2(0, 1);
    t[5] = vec2(0, 0);
    texCoord = vec2(t[i].x, t[i].y);
}`,O1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform float blur;
uniform vec2 resolution;
uniform bool dim;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    if(blur <= 0.) {
        vec4 origin = texture(stencilSampler, texCoord);
        FragColor = vec4(color, alpha * origin.a);
        return;
    }

    float sum = 0.0;
    float r = blur * 0.5;
    float scaleX = 1. / resolution.x;
    float scaleY = 1. / resolution.y;
    float from = -2.0 * r;
    float to = 2.0 * r;
    float C1 = 2. * r * r;
    float C2 = sqrt(C1 * PI);
    float channel = float(dim);
    for(float delta = from; delta <= to; delta++) {
        float x = (1. - channel) * delta;
        float y = channel * delta;
        vec2 shift = vec2(x * scaleX, y * scaleY);
        vec4 origin = texture(stencilSampler, texCoord + shift);
        float g = exp(-(x * x + y * y) / C1) / C2;
        sum += origin.a * g;
    }
    FragColor = vec4(color, alpha * sum);
}`,L1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D textureSampler;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    FragColor = texture(textureSampler, vec2(texCoord.x, texCoord.y));
}`,mr=`float channelAlpha(int currentChannel, int channels, vec4 o);

float fillAlpha(vec4 o) {
    return o.g * o.a;
}

float strokeFullAlpha(vec4 o) {
    float a = (1. - fillAlpha(o));
    if(a == 0.0)
        return o.a * o.r;
    return o.a * o.r / a;
}

float strokeSimpleAlpha(vec4 o) {
    return o.r * o.a;
}

#define STENCIL_CHANNEL_STROKE 1
#define STENCIL_CHANNEL_FILL 2

float channelAlpha(int currentChannel, int channels, vec4 o) {
    if(currentChannel == STENCIL_CHANNEL_FILL)
        return fillAlpha(o);
    if((channels & STENCIL_CHANNEL_FILL) != 0)
        return strokeFullAlpha(o);
    return strokeSimpleAlpha(o);
}

void main();`,cs=`#version 300 es
precision highp  float;
precision highp  int;

in vec3 position;
in vec2 textureCoordinate;

uniform mat4 transform;
uniform mat4 camera;

out vec2 texCoord;
void main() {
    gl_Position = camera * transform * vec4(position, 1);

    texCoord = textureCoordinate;
}`,H1=`#version 300 es
precision highp  float;
precision highp  int;

uniform sampler2D stencilSampler;
uniform float alpha;
uniform int channel;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int channel, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    FragColor = vec4(texCoord, 0, channelAlpha(channel, origin) * alpha);
}
`;function Ro(i){const e=parseInt(i.slice(1),16);return[(e>>2*8)/255,(e>>8&255)/255,(e&255)/255]}class G1{constructor(e,t,n){Ie(this,"shaders");Ie(this,"shadowBuffer");Ie(this,"shadowProgram");Ie(this,"imageProgram");Ie(this,"rectangleBuffer");this.gl=e,this.textures=t,e.enable(e.BLEND);{const o=[{format:e.RGBA}];this.shadowBuffer=[{options:o,info:us(e,o,e.canvas.width,e.canvas.height)},{options:o,info:us(e,o,e.canvas.width,e.canvas.height)}]}const r=Object.entries(n),s=v1(e,Object.fromEntries(r.map(([o,{vertex:a,fragment:l}])=>[o,[a||cs,(l||H1)+mr]]).concat([["__shadow__",[M1,O1+mr]],["__image__",[cs,L1+mr]]])));this.shaders=Object.fromEntries(r.map(([o,a])=>[o,{uniforms:(l,u,c)=>a.uniforms(l,u,c),info:s[o]}])),this.shadowProgram=s.__shadow__,this.imageProgram=s.__image__,this.rectangleBuffer=$d(e,{position:[[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]].flat(),textureCoordinate:[[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]].flat()})}get size(){return{width:this.gl.canvas.width,height:this.gl.canvas.height}}resize(e,t){this.size.width==e&&this.size.height==t||(this.gl.canvas.width=e,this.gl.canvas.height=t,this.shadowBuffer.forEach(n=>{D1(this.gl,n.info,n.options,e,t)}),this.gl.viewport(0,0,e,t))}drawImage(e){this.gl.useProgram(this.imageProgram.program),this.imageProgram.uniformSetters.textureSampler(e),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawShadow(e,t,n,r,s,o){const a=this.gl,l=this.shadowBuffer[0].info;a.bindFramebuffer(a.FRAMEBUFFER,l.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ZERO),this.drawStencilLayer(e,t,n,{...r,position:{x:r.position.x+o.offset.x,y:r.position.y+o.offset.y}},s,!1);const u={color:Ro(o.color),alpha:1,resolution:[this.size.width,this.size.height],blur:Math.min(o.blur,3600)};a.useProgram(this.shadowProgram.program);const c=this.shadowBuffer[1].info;a.bindFramebuffer(a.FRAMEBUFFER,c.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),pn(this.shadowProgram,{...u,stencilSampler:l.attachments[0],dim:0}),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ZERO,a.ONE),pn(this.shadowProgram,{...u,stencilSampler:c.attachments[0],dim:1}),a.drawArrays(a.TRIANGLES,0,6)}drawStencilLayer(e,t,n,r,s,o=!0){const a=this.gl;if(s.settings.type=="disabled")return;o&&s.shadow&&this.drawShadow(e,t,n,r,s,s.shadow);const l=this.shaders[s.settings.type],u={camera:dt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:dt.scale(dt.rotateZ(dt.translation([r.position.x,r.position.y,0]),r.rotation),[r.width,r.height,1]),stencilSampler:e,channel:t,channels:n,alpha:s.alpha,...l.uniforms(s.settings,r,this)};a.useProgram(l.info.program),pn(l.info,u),as(a,l.info,this.rectangleBuffer),a.drawArrays(a.TRIANGLES,0,6)}drawRectImage(e,t){const n=this.gl,r=this.imageProgram,s={camera:dt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:dt.scale(dt.rotateZ(dt.translation([t.position.x,t.position.y,0]),t.rotation),[t.width,t.height,1]),textureSampler:e};n.useProgram(r.program),pn(r,s),as(n,r,this.rectangleBuffer),n.drawArrays(n.TRIANGLES,0,6)}}const W1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec2 tcoords = texCoord;
    vec4 origin = texture(stencilSampler, tcoords);
    float originAlpha = channelAlpha(channel, channels, origin);
    FragColor = vec4(color, originAlpha * alpha);
}
`,j1={fragment:W1,uniforms(i){return{color:Ro(i.value)}}},V1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform sampler2D patternSampler;
uniform float alpha;
uniform int channel;
uniform int channels;
uniform mat4 patternTransform;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec4 patternCoord = patternTransform * vec4(texCoord, 0, 1);
    FragColor = texture(patternSampler, patternCoord.xy / patternCoord.w);
    FragColor.a *= channelAlpha(channel, channels, origin) * alpha;
}
`;function Z1(i){return{fragment:V1,uniforms(e,t,n){const r=n.textures.get(i.getTexture(e.name)),s=e.scale=="font"?dt.identity():dt.scaling([t.width/(r.width*e.scale.x),t.height/(r.height*e.scale.y),1]);return{patternSampler:r.texture,patternTransform:dt.multiply(dt.rotateZ(dt.translation([e.shift.x/r.width,e.shift.y/r.height,0]),e.rotate/180*Math.PI),s)}}}}const X1=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D stencilSampler;
uniform vec3 colors[4];
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec3 color = (1.0 - texCoord.x) * colors[0];
    color += (texCoord.x) * colors[1];
    color += (1.0 - texCoord.y) * colors[2];
    color += (texCoord.y) * colors[3];
    FragColor = vec4(color, channelAlpha(channel, channels, origin) * alpha);
}
`,q1={fragment:X1,uniforms(i){return{colors:[[1,0,0],[0,1,0],[0,1,1],[0,0,1]].flat()}}};function Y1(i,e){switch(e){case"As is":return i;case"UPPER":return i.toUpperCase();case"lower":return i.toLowerCase()}throw new Error(`Unsupported text case type: ${e}`)}class K1{constructor(e=document.createElement("canvas").getContext("2d")){this.ctx=e}set baseline(e){this.ctx.textBaseline=e}get baseline(){return this.ctx.textBaseline}set align(e){this.ctx.textAlign=e}get align(){return this.ctx.textAlign}measureText(e,t,n){n&&t&&(this.ctx.font=Kt(t,n));const r=this.ctx.measureText(e);return{advancedWidth:r.width,width:r.actualBoundingBoxLeft+r.actualBoundingBoxRight,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,boundingBox:{top:r.actualBoundingBoxAscent,bottom:r.actualBoundingBoxDescent,left:r.actualBoundingBoxLeft,right:r.actualBoundingBoxRight}}}}const Zr=class{constructor(e=new K1,t=100){Ie(this,"heightMeasuresCache",new Map);this.measurer=e,this.interpolationPoint=t,e.baseline="bottom"}drawTextInfo(e,t,n,r){const s=Y1(e,t.case).split(`
`);return this.drawLinesInfo(s,t.font,t.strokeWidth/100,t.align,t.baseline,t.lineSpacing,n,r)}fontSize(e,t,n,r,s,o,a){if(e<2||t<2)return Math.min(e,t);const l=n.map(v=>{const w=this.measurer.measureText(v,r,o);return{line:v,width:w.width}}).reduce((v,w)=>w.width>v.width?w:v).line,u=s*o,c=this.measureHeight(r,o)+u/2,m=(this.linesHeight(c,n.length,a)+u/2)/o,p=(this.measurer.measureText(l,r,o).width+u)/o,$=e/p,g=t/m;return Math.min(g,$)}measureHeight(e,t){return this.measureReference(e,t).height}measureReference(e,t){const n=Kt(e,t),r=this.heightMeasuresCache.get(n);if(r)return r;const s=this.measurer.measureText(Zr.MAX_HEIGHT_TEXT_EXAMPLE,e,t);return this.heightMeasuresCache.set(n,s),s}linesHeight(e,t,n){return e*(t+n*(t-1))}drawLinesInfo(e,t,n,r,s,o,a,l){const u=this.fontSize(a-2,l-2,e,t,n,this.interpolationPoint,o),c=n*u,f=c/2,m=r=="left"?f:r=="right"?a-f:a/2|0,h=this.measureReference(t,u),d=h.height+c/2,p=d*(1+o),$=this.linesHeight(d,e.length,o)+c/2,g=s=="top"?0:s=="middle"?(l-$)/2|0:l-$,v=d+g-h.boundingBox.bottom,w=new Array;this.measurer.align=r;for(let I=0;I<e.length;I++){const S=e[I],B=this.measurer.measureText(S,t,u).boundingBox,R=v+I*p;let j=m;switch(r){case"center":j+=(B.left-B.right)/2;break;case"left":j+=B.left;break;case"right":j-=B.right;break}w.push({text:S,x:j,y:R})}return{lines:w,font:t,fontSize:u,lineWidth:c,stringHeight:d,totalHeight:$,baseline:"bottom",align:r}}};let Un=Zr;Ie(Un,"MAX_HEIGHT_TEXT_EXAMPLE","AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZzАаБбВвГгДдЕеЁёЖжЗзИиЙйКкЛлМмНнОоПпРрСсТтУуФфХхЦцЧчШшЩщЪъЫыЬьЭэЮюЯя");class Q1{constructor(e,t=document.createElement("canvas").getContext("2d")){Ie(this,"textManager");Ie(this,"stencilTexture");Ie(this,"ctx");if(this.gl=e,!t)throw new Error("TextStencilService require not null ctx: CanvasRenderingContext2D.");this.ctx=t,this.textManager=new Un;const n=e.createTexture();if(!n)throw new Error("Failed to create WebGL texture in TextStencilService.");this.stencilTexture=n}getTextStencil(e,t,n,r){const s=Math.ceil(Math.abs(n)),o=Math.ceil(Math.abs(r)),a=this.textManager.drawTextInfo(e,t,s,o),l=this.ctx.canvas;l.height!=o&&(l.height=o),l.width!=s&&(l.width=s),this.ctx.clearRect(0,0,s,o),this.draw(this.ctx,a);const u=this.gl;return Ur(u,this.stencilTexture,l,{wrap:u.CLAMP_TO_EDGE,min:u.LINEAR}),{stencil:this.stencilTexture,info:a}}draw(e,t,n=!1){e.lineJoin="round",e.miterLimit=2,e.textAlign=t.align,e.textBaseline=t.baseline,e.lineWidth=t.lineWidth,e.font=Kt(t.font,t.fontSize),e.strokeStyle="#ff0000",e.fillStyle="#00ff00";const r=t.lines;for(let s=0;s<r.length;s++){const o=r[s];e.strokeText(o.text,o.x,o.y)}for(let s=0;s<r.length;s++){const o=r[s];e.fillText(o.text,o.x,o.y)}if(n){e.strokeStyle="#ffffff",e.lineWidth=1;for(let s=0;s<r.length;s++){const o=r[s],a=o.y,l=o.x,u=e.measureText(o.text);console.debug(o),console.debug(u),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke(),e.moveTo(l,a-u.actualBoundingBoxAscent),e.lineTo(l,a+u.actualBoundingBoxDescent),e.stroke(),e.strokeRect(l-u.actualBoundingBoxLeft,a-u.actualBoundingBoxAscent,u.actualBoundingBoxLeft+u.actualBoundingBoxRight,u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}e.lineWidth=3,e.strokeRect(0,0,e.canvas.width,e.canvas.height)}}}class J1{constructor(e,t){Ie(this,"textService");Ie(this,"graphics");this.gl=e,this.textures=t,this.textService=new Q1(e),this.graphics=new G1(e,t,{color:j1,pattern:Z1(Sr),gradient4:q1})}drawFrame(e){const{gl:t,graphics:n}=this;n.resize(e.width,e.height),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE),t.bindFramebuffer(t.FRAMEBUFFER,null),e.blocks.forEach(r=>this.drawBlock(e,r))}drawBlock(e,t){const{graphics:n,textures:r}=this,s=this.blockSize(e,t),{container:o,content:a}=t;switch(a.type){case"image":{const l=r.get(a.value.id);switch(o.type){case"global":{const u=n.size;n.drawRectImage(l.texture,{...s,position:{x:u.width/2,y:u.height/2},rotation:0});break}case"rectangle":{n.drawRectImage(l.texture,o.value);break}}break}case"text":{const{text:l,style:u}=a.value,c=this.textService.getTextStencil(l,u,s.width,s.height),f=this.textRectangle(e,t,s,u.baseline,c.info),m=u.stroke.settings.type!=="disabled",h=u.fill.settings.type!=="disabled",d=+m*1|+h*2;m&&n.drawStencilLayer(c.stencil,1,d,f,u.stroke),h&&n.drawStencilLayer(c.stencil,2,d,f,u.fill);break}}}blockSize(e,t){const n=t.container,r=t.content;if(n.type=="rectangle")return n.value;if(r.type=="text"){const s=r.value.text.split(`
`),o=s.length,a=Math.max(...s.map(l=>l.length));return{width:e.width*n.value.maxWidth,height:e.height*Math.max(n.value.minHeight,Math.min(n.value.maxHeight,o*(.175+Math.max(-.05,.03*(2.5-a/10)))))}}return{width:e.width*n.value.maxWidth,height:e.height*n.value.maxHeight}}textRectangle(e,t,n,r,s){const o=t.container;if(o.type=="rectangle")return o.value;const a=2/9,l=n.height/2+s.fontSize*a,u=r=="top"?l:r=="middle"?e.height/2:e.height-l;return{...n,rotation:0,position:{x:e.width/2,y:u}}}}const Xr=class{static fromFile(e){return new gn().loadAsync(e).then(n=>{const r=n.file("index.json");return r?r.async("string").then(s=>{const o=JSON.parse(s,(a,l)=>(a==="container"&&l.type==="global"&&(l.value.minHeight=.1),l));if(o.formatVersion!==this.FormatVersion)throw new zn(`expected version ${this.FormatVersion}, actual: ${o.formatVersion}`);return Promise.all(o.resources.images.map(a=>{const l=n.file(this.imageFilepath(a));if(!l)throw new Error(`Not found image with id ${a}`);return l.async("blob").then(u=>({id:a,blob:u}))})).then(a=>({meme:o.meme,resources:{images:a}}))}):Xr.zeroVersion(n)})}static toFile(e){const t=new gn;e.resources.images.forEach(({id:r,blob:s})=>{t.file(this.imageFilepath(r),s,{binary:!0})});const n={meme:e.meme,formatVersion:this.FormatVersion,editorVersion:this.EditorVersion,resources:{images:e.resources.images.map(r=>r.id)}};return t.file("index.json",JSON.stringify(n)),t.generateAsync({type:"blob"})}static imageFilepath(e){return`resources/images/${e}.png`}static zeroVersion(e){const t=e.file("text.json");if(!t)throw new zn("Unknown format");const n=t.comment;return t.async("string").then(r=>{const s=JSON.parse(r),o=e.file(/.*\.png/),a=new Array(o.length);return Promise.all(o.map(l=>l.async("blob").then(u=>{const c=+l.name.substring(0,l.name.length-4);return this.imageSizes(u).then(({width:f,height:m})=>{const h={id:`old-frame-${c}`,blocks:[{id:`old-frame-${c}-background`,container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:l.name}}}],height:m,width:f};a[c]=h}).then(()=>({id:l.name,blob:u}))}))).then(l=>{for(let u=0;u<s.length;u++){const c=s[u],f=a[u];if(n)switch(n){case"v0.0.3":f.blocks.push(...c.textContent.map((m,h)=>{const d=m.box,p=Tt.mergePartials(Tt.DefaultStyle(),m.style);return{id:`old-frame-${u}-block-${h}`,container:m.main?{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}}:{type:"rectangle",value:{height:d.height,width:d.width,position:{x:d.x,y:d.y},rotation:0}},content:{type:"text",value:{text:m.text,style:dr(p,m.main)}}}}));break;case"v0.0.4":f.blocks.push(...c.textContent.map((m,h)=>{const d=m.box,p=Tt.mergePartials(Tt.DefaultStyle(),m.style);return{id:`old-frame-${u}-block-${h}`,container:m.main?{type:"global",value:{maxHeight:.4,minHeight:.1,maxWidth:.96}}:{type:"rectangle",value:{height:d._height,width:d._width,position:{x:d.transform.x,y:d.transform.y},rotation:d.transform.rotate}},content:{type:"text",value:{text:m.text,style:dr(p,m.main)}}}}));break;default:throw new zn(`Unexpected legacy version ${n}`)}else{const m=typeof c=="string"?c:c.text,h=typeof c=="string"?Tt.DefaultStyle():c.textContent.style,d={text:m,style:dr(Tt.mergePartials(Tt.DefaultStyle(),h),!0)};f.blocks.push({id:`old-frame-${u}-block-0`,container:{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}},content:{type:"text",value:d}})}}return{meme:{frames:a},resources:{images:l}}})})}static imageSizes(e){return gr(e,As)}};let on=Xr;Ie(on,"FormatVersion","0.2.0"),Ie(on,"EditorVersion","v0.2.0");class zn extends Error{constructor(e,t){super(`Unsupported version: ${e}`,{cause:t})}}function dr(i,e){var n;const t=(n=i.shadow)!=null&&n.enabled?{blur:i.shadow.blur,color:i.shadow.color,offset:i.shadow.offset}:void 0;return{align:"center",baseline:e?"bottom":"middle",case:i.case,experimental:{},fill:{alpha:1,shadow:t,settings:fs(i.fill)},stroke:{alpha:1,shadow:t,settings:fs(i.stroke)},lineSpacing:i.experimental.lineWidthCoefficient*(i.experimental.lineSpacingCoefficient-.5),strokeWidth:i.experimental.lineWidthCoefficient*100,font:i.font}}function fs(i){switch(i.type){case"color":return{type:"color",value:i.name};case"pattern":return{type:"pattern",name:i.name,rotate:i.patternSettings.rotate,scale:i.patternSettings.scale,shift:i.patternSettings.shift};case"none":return{type:"disabled"};default:throw new zn(`Failed convert old brush ${JSON.stringify(i)} to material settings`)}}var Tt;(i=>{function e(){return{case:"UPPER",fill:{name:"#ffffff",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},stroke:{name:"#000000",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},name:"custom",font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},shadow:{enabled:!1,color:"#000000",blur:10,offset:{x:0,y:0}},experimental:{lineSpacingCoefficient:.5,lineWidthCoefficient:.1385,interpolationPoint:100}}}i.DefaultStyle=e;function t(r){return r!==null&&typeof r=="object"}function n(r,s){for(const o in r){const a=s[o],l=r[o];t(l)&&(!a||t(a))?s[o]=n(l,a||{}):a===void 0&&(s[o]=l)}return s}i.mergePartials=n})(Tt||(Tt={}));function e_(i){const e=new Set(Object.keys(i));return["empty","await"].every(t=>e.has(t))}function t_(i){return Object.values(i).every(e_)}class n_{constructor(e,t,n,r,s){Ie(this,"textures");Ie(this,"drawer");Ie(this,"meme",{frames:[]});Ie(this,"activeFrame");Ie(this,"activeBlock");Ie(this,"inUpdate",{meme:!1,frame:!1,block:!1});Ie(this,"backgroundTasks",new Map);Ie(this,"placeholdersTextures",new Array);Ie(this,"usedImages",new Map);Ie(this,"blockIdGenerator",new Es("v.0.2.0-"+Date.now().toString()+"-"));Ie(this,"setBackground",e=>{const t=new FileReader,n=new Promise((r,s)=>{t.addEventListener("load",()=>r(t.result)),t.addEventListener("error",()=>s(t.error))});t.readAsDataURL(e),this.runTask("Меняем фон",n.then(r=>this.textures.downloadImage(r,{meta:{source:"user",type:"image"}}).then(s=>{this.removeImageUsage(this.activeFrame.blocks[0]),this.activeFrame.blocks[0].content={type:"image",value:{id:s.id}},this.activeFrame.width=s.width,this.activeFrame.height=s.height,this.addImageUsage(this.activeFrame.blocks[0]),this.frameUpdated()})))});Ie(this,"zipCanvas",document.createElement("canvas"));Ie(this,"zipCtx",this.zipCanvas.getContext("2d"));this.stores=e,this.gl=t,this.textures=new z1(t),this.drawer=new J1(t,this.textures),this.runTask("Загрузка ресурсов",Promise.all(n.map(({name:a,url:l})=>this.textures.downloadImage(l,{id:a,wrap:t.REPEAT,meta:{source:"default",type:"pattern"}}).then(u=>[a,u]))).then(a=>a.map(([l,u])=>({name:l,textureId:u.id}))).then(a=>Sr.addPattern(...a))),this.runTask("Загрузка шрифтов",$f()),this.runTask("Загрузка плейсхолдеров",Promise.all(Object.entries(r).map(([a,{empty:l}])=>Promise.all(l.map(({name:u,url:c})=>this.textures.downloadImage(c,{id:`placeholder-${a}-${u}`,meta:{source:"default",type:"image"}}))).then(u=>[a,u]))).then(Object.fromEntries).then(a=>this.placeholdersTextures=a[s]??a.default).then(()=>this.deleteFrame(this.activeFrame)));const o=r_(()=>this.draw());e.meme.subscribe(a=>{this.inUpdate.meme||(this.meme=a)}),e.frame.subscribe(a=>{o(),!this.inUpdate.frame&&(this.activeFrame=a)}),e.block.subscribe(a=>{o(),!this.inUpdate.block&&(this.activeBlock=a)})}get busy(){return this.backgroundTasks.size!=0}get currentTask(){return this.busy?this.backgroundTasks.values().next().value:""}runTask(e,t){return this.backgroundTasks.set(t,e),this.stores.busy.set(this.currentTask),t.finally(()=>{this.backgroundTasks.delete(t),this.stores.busy.set(this.currentTask)}),t}addImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;let r=this.usedImages.get(t);r||this.usedImages.set(t,r=new Set),r.add(e)}removeImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;const r=this.usedImages.get(t);r&&(r.delete(e),r.size==0&&this.textures.delete(t))}memeUpdated(){this.inUpdate.meme=!0,this.stores.meme.set(this.meme),this.inUpdate.meme=!1}frameUpdated(){this.inUpdate.frame=!0,this.stores.frame.set(this.activeFrame),this.inUpdate.frame=!1}blockUpdated(){this.inUpdate.block=!0,this.stores.block.set(this.activeBlock),this.inUpdate.block=!1}shiftBlock(e,t){const n=this.activeFrame.blocks,r=n.indexOf(e);let s=-1;const o=n.length;for(let a=r+t;a>0&&a<o;a+=t)if(n[a].content.type=="text"){s=a;break}s!=-1&&(n[r]=n[s],n[s]=e,this.frameUpdated())}shiftFrame(e,t){const n=this.meme.frames,r=n.indexOf(e),s=r+t;s<0||s>=n.length||(n[r]=n[s],n[s]=e,this.memeUpdated())}addBlock(e=this.activeBlock){e=an(e),e.id=this.blockIdGenerator.generate(),e.content.type==="text"&&(e.content.value.text="Текст",e.container.type==="global"&&(e.content.value.style.baseline="middle",e.content.value.style.align="center"));const t=this.activeFrame;e.container={type:"rectangle",value:{width:t.width*.5|0,height:t.height*.5|0,position:{x:t.width*.5|0,y:t.height*.5|0},rotation:0}},this.activeFrame.blocks.push(e),this.activeBlock=e,this.frameUpdated(),this.blockUpdated()}newFrame(e){var n,r;const t={...an(((r=(n=this.activeBlock)==null?void 0:n.content)==null?void 0:r.type)==="text"?this.activeBlock.content.value.style:$s),baseline:"bottom"};return{id:this.blockIdGenerator.generate(),blocks:[{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:e.id}}},{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxWidth:.96,maxHeight:.4,minHeight:0}},content:{type:"text",value:{text:"",style:t}}}],height:e.height,width:e.width}}copyFrame(e){const t=an(e);return t.id=this.blockIdGenerator.generate(),e.blocks.forEach(n=>n.id=this.blockIdGenerator.generate()),t}addFrame(e){const t=e?this.copyFrame(e):this.newFrame(this.placeholdersTextures[Math.floor(Math.random()*this.placeholdersTextures.length)]);return this.meme.frames.push(t),this.activeFrame=t,t.blocks.forEach(n=>this.addImageUsage(n)),this.memeUpdated(),this.frameUpdated(),t}deleteBlock(e){if(e.id==this.activeBlock.id){const t=this.activeFrame.blocks.find(n=>n.id!=e.id&&n.content.type==="text");t?(this.activeBlock=t,this.blockUpdated()):this.addBlock()}this.removeImageUsage(e),this.activeFrame.blocks.splice(this.activeFrame.blocks.indexOf(e),1),this.frameUpdated()}deleteFrame(e){if(e.id==this.activeFrame.id){const t=this.meme.frames.find(n=>n.id!=e.id);t?(this.activeFrame=t,this.frameUpdated()):this.addFrame()}this.meme.frames.splice(this.meme.frames.indexOf(e),1),e.blocks.forEach(t=>this.removeImageUsage(t)),this.memeUpdated()}copyFrameToClipboard(){return this.runTask("Копируем",this.frameBlob(this.activeFrame).then(e=>{window.navigator.clipboard.write([new ClipboardItem({[e.type]:e})])}))}frameBlob(e){return this.drawer.drawFrame(e),hs(this.gl.canvas)}draw(e=this.activeFrame,t=!1){var n,r;this.busy&&!t||(this.drawer.drawFrame(e),(r=(n=this.stores.previews.value)[e.id])==null||r.call(n,this.gl.canvas))}renderMeme(){return this.runTask("Пакуем мем",Promise.all(this.meme.frames.map(e=>this.frameBlob(e))).then(e=>{if(this.drawer.drawFrame(this.activeFrame),e.length==1)return{ext:"png",blob:e[0]};const t=new gn,n=e.length.toString().length;return e.forEach((r,s)=>{t.file(`${(s+1).toString().padStart(n,"0")}.png`,r,{binary:!0})}),t.generateAsync({type:"blob"}).then(r=>({ext:"zip",blob:r}))}))}getImagesList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).map(n=>n.type=="image"?this.textures.get(n.value.id):"").filter(n=>n&&n.meta.source=="user"&&n.meta.type=="image"))))}exportMeme(){const e=this.getImagesList();return this.runTask("Пакуем мем",Promise.all(e.map(t=>(this.zipCanvas.width=t.width,this.zipCanvas.height=t.height,this.zipCtx.drawImage(t.original,0,0),hs(this.zipCanvas).then(n=>({id:t.id,blob:n}))))).then(t=>on.toFile({meme:this.meme,resources:{images:t}})))}openMeme(e){return this.runTask("Распаковываем мем",on.fromFile(e).then(t=>(this.getImagesList().forEach(n=>this.textures.delete(n.id)),this.usedImages.clear(),Promise.all(t.resources.images.map(({id:n,blob:r})=>gr(r,s=>this.textures.downloadImage(s,{id:n,meta:{source:"user",type:"image"}})))).then(()=>(this.meme=t.meme,this.meme.frames.flatMap(n=>n.blocks).forEach(n=>this.addImageUsage(n)),this.activeFrame=this.meme.frames[0],this.memeUpdated(),this.frameUpdated(),pr())).then(()=>{this.meme.frames.forEach(n=>this.draw(n,!0)),this.draw()}))))}framesFromImages(e){return this.runTask("Загружаем картинки",Promise.all(e.map(t=>gr(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"image"}})))).then(t=>t.map(n=>this.addFrame(this.newFrame(n)))).then(t=>pr().then(()=>t)).then(t=>{t.forEach(n=>this.draw(n,!0))}))}}function r_(i){let e=0;return()=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>{e=0,i()})}}function hs(i){return new Promise((e,t)=>i.toBlob(n=>{if(!n){t(new Error("Failed to get blob from canvas"));return}e(n)}))}function i_(i){let e,t;return{c(){e=oe("article"),t=Ae(i[5]),this.h()},l(n){e=ae(n,"ARTICLE",{class:!0});var r=ce(e);t=Ee(r,i[5]),r.forEach(C),this.h()},h(){Q(e,"class","svelte-1ow4yee")},m(n,r){J(n,e,r),q(e,t)},p(n,r){r[0]&32&&ft(t,n[5])},d(n){n&&C(e)}}}function s_(i){let e,t,n,r,s,o,a,l,u,c;e=new _r({props:{open:i[5]!=="",closable:!1,$$slots:{default:[i_]},$$scope:{ctx:i}}});function f(v){i[18](v)}function m(v){i[19](v)}function h(v){i[20](v)}function d(v){i[21](v)}function p(v){i[22](v)}function $(v){i[23](v)}let g={version:"v0.2.0",memeExampleURL:i[0]};return i[6]!==void 0&&(g.meme=i[6]),i[7]!==void 0&&(g.frame=i[7]),i[8]!==void 0&&(g.block=i[8]),i[3]!==void 0&&(g.canvasUI=i[3]),i[2]!==void 0&&(g.canvasWebgl=i[2]),i[9]!==void 0&&(g.previews=i[9]),n=new cm({props:g}),Te.push(()=>Ce(n,"meme",f)),Te.push(()=>Ce(n,"frame",m)),Te.push(()=>Ce(n,"block",h)),Te.push(()=>Ce(n,"canvasUI",d)),Te.push(()=>Ce(n,"canvasWebgl",p)),Te.push(()=>Ce(n,"previews",$)),n.$on("openMeme",i[24]),n.$on("saveMeme",i[25]),n.$on("renderMeme",i[26]),n.$on("changeBackground",i[27]),n.$on("frameToClipboard",i[28]),n.$on("createBlock",i[29]),n.$on("shiftBlock",i[30]),n.$on("deleteBlock",i[31]),n.$on("createFrame",i[32]),n.$on("shiftFrame",i[33]),n.$on("deleteFrame",i[34]),n.$on("framesFromImages",i[35]),{c(){L(e.$$.fragment),t=de(),L(n.$$.fragment)},l(v){H(e.$$.fragment,v),t=pe(v),H(n.$$.fragment,v)},m(v,w){G(e,v,w),J(v,t,w),G(n,v,w),c=!0},p(v,w){const I={};w[0]&32&&(I.open=v[5]!==""),w[0]&32|w[1]&256&&(I.$$scope={dirty:w,ctx:v}),e.$set(I);const S={};w[0]&1&&(S.memeExampleURL=v[0]),!r&&w[0]&64&&(r=!0,S.meme=v[6],Re(()=>r=!1)),!s&&w[0]&128&&(s=!0,S.frame=v[7],Re(()=>s=!1)),!o&&w[0]&256&&(o=!0,S.block=v[8],Re(()=>o=!1)),!a&&w[0]&8&&(a=!0,S.canvasUI=v[3],Re(()=>a=!1)),!l&&w[0]&4&&(l=!0,S.canvasWebgl=v[2],Re(()=>l=!1)),!u&&w[0]&512&&(u=!0,S.previews=v[9],Re(()=>u=!1)),n.$set(S)},i(v){c||(A(e.$$.fragment,v),A(n.$$.fragment,v),c=!0)},o(v){E(e.$$.fragment,v),E(n.$$.fragment,v),c=!1},d(v){W(e,v),v&&C(t),W(n,v)}}}function o_(i){let e,t,n;function r(o){i[36](o)}let s={$$slots:{default:[s_]},$$scope:{ctx:i}};return i[4]!==void 0&&(s.theme=i[4]),e=new ea({props:s}),Te.push(()=>Ce(e,"theme",r)),{c(){L(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p(o,a){const l={};a[0]&1007|a[1]&256&&(l.$$scope={dirty:a,ctx:o}),!t&&a[0]&16&&(t=!0,l.theme=o[4],Re(()=>t=!1)),e.$set(l)},i(o){n||(A(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function a_(i,e,t){let n,r,s,o,a,l;St(i,Jr,te=>t(4,n=te));let{patternUrls:u}=e,{placeholdersUrls:c}=e,{memeURL:f=null}=e,{memeExampleURL:m}=e;const h=new Tn({frames:[{height:300,width:600,id:"loading-placeholder",blocks:[{id:"loading-block-placeholder",container:{type:"global",value:{maxHeight:.9,maxWidth:.9,minHeight:0}},content:{type:"text",value:{text:"Loading...",style:$s}}}]}]});St(i,h,te=>t(6,s=te));const d=new Tn(h.value.frames[0]);St(i,d,te=>t(7,o=te));const p=new Tn(d.value.blocks.find(te=>te.content.type=="text"));St(i,p,te=>t(8,a=te));let $=d.value.id;h.subscribe(()=>{$=""}),d.subscribe(te=>{$!=te.id&&($=te.id,p.set(te.blocks.find(Fe=>Fe.content.type=="text")))});let g,v,w,I=new Tn({});St(i,I,te=>t(9,l=te));let S=Vn("Собираем интерфейс...");St(i,S,te=>t(5,r=te));let B="default";$n(()=>{B=new URL(location.href).searchParams.get("skin")??B;const te=v.getContext("webgl2",{alpha:!1});t(1,g=new n_({block:p,frame:d,meme:h,busy:S,previews:I},te,u,c,B)),new ua(w,v,h,d,p),f&&pr().then(()=>fetch(f)).then(Fe=>Fe.blob()).then(Fe=>g.openMeme(Fe))});function R(te){s=te,h.set(s)}function j(te){o=te,d.set(o)}function z(te){a=te,p.set(a)}function N(te){w=te,t(3,w)}function Y(te){v=te,t(2,v)}function T(te){l=te,I.set(l)}const F=te=>g==null?void 0:g.openMeme(te.detail.file),b=()=>{var te;return(te=g==null?void 0:g.exportMeme())==null?void 0:te.then(Xi("meme.meme"))},D=()=>{var te;return(te=g==null?void 0:g.renderMeme())==null?void 0:te.then(({ext:Fe,blob:Se})=>Xi(`meme.${Fe}`)(Se))},se=te=>g==null?void 0:g.setBackground(te.detail.file),X=()=>g==null?void 0:g.copyFrameToClipboard(),me=te=>{var Fe;return g==null?void 0:g.addBlock((Fe=te.detail)==null?void 0:Fe.origin)},ne=te=>g==null?void 0:g.shiftBlock(te.detail.block,te.detail.shift),be=te=>g==null?void 0:g.deleteBlock(te.detail.block),M=te=>{var Fe;return g==null?void 0:g.addFrame((Fe=te.detail)==null?void 0:Fe.origin)},P=te=>g==null?void 0:g.shiftFrame(te.detail.frame,te.detail.shift),Z=te=>g==null?void 0:g.deleteFrame(te.detail.frame),K=te=>g==null?void 0:g.framesFromImages(te.detail.files);function U(te){n=te,Jr.set(n)}return i.$$set=te=>{"patternUrls"in te&&t(15,u=te.patternUrls),"placeholdersUrls"in te&&t(16,c=te.placeholdersUrls),"memeURL"in te&&t(17,f=te.memeURL),"memeExampleURL"in te&&t(0,m=te.memeExampleURL)},[m,g,v,w,n,r,s,o,a,l,h,d,p,I,S,u,c,f,R,j,z,N,Y,T,F,b,D,se,X,me,ne,be,M,P,Z,K,U]}class l_ extends we{constructor(e){super(),ye(this,e,a_,o_,$e,{patternUrls:15,placeholdersUrls:16,memeURL:17,memeExampleURL:0},null,[-1,-1])}}const u_=""+new URL("../assets/docs.382a62e4.meme",import.meta.url).href;function c_(i){let e,t;return e=new l_({props:{patternUrls:i[0],placeholdersUrls:i[1],memeExampleURL:u_}}),{c(){L(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,r){G(e,n,r),t=!0},p:ot,i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function f_([i,e]){const t=i.split("/");let n=t[t.length-1];return n=n.slice(0,n.lastIndexOf(".")),{name:n,url:e}}function h_(i){return Object.entries(i).map(f_)}function m_(i){const e=h_(Object.assign({"/src/lib/resources/patterns/checkered.png":Do,"/src/lib/resources/patterns/debug.png":Uo,"/src/lib/resources/patterns/fire.png":zo,"/src/lib/resources/patterns/glitter-gold.png":Mo,"/src/lib/resources/patterns/rainbow.png":Oo,"/src/lib/resources/patterns/stars.png":Lo})),t=Object.entries(Object.assign({"/src/lib/resources/placeholders/default/await/1.png":Ho,"/src/lib/resources/placeholders/default/empty/1.png":Go,"/src/lib/resources/placeholders/inside/await/1.png":Wo,"/src/lib/resources/placeholders/inside/empty/1.png":jo,"/src/lib/resources/placeholders/inside/empty/2.png":Vo,"/src/lib/resources/placeholders/inside/empty/3.png":Zo,"/src/lib/resources/placeholders/inside/empty/4.png":Xo,"/src/lib/resources/placeholders/inside/empty/5.png":qo,"/src/lib/resources/placeholders/inside/empty/6.png":Yo,"/src/lib/resources/placeholders/inside/empty/7.png":Ko})).map(([n,r])=>{const s=/placeholders\//.exec(n);if(!s)throw Error(`Not found prefix 'placeholder' in '${n}''`);const o=s.index+s[0].length,a=n.substring(o),[l,u,c]=a.split("/"),f=c.slice(0,c.lastIndexOf("."));return{skin:l,category:u,name:f,url:r}}).reduce((n,r)=>(n[r.skin]=n[r.skin]??{},n[r.skin][r.category]=n[r.skin][r.category]??[],n[r.skin][r.category].push(r),n),{});if(!t_(t))throw Error(`Incorrect configuration: this is not skins map: ${JSON.stringify(t)}`);return[e,t]}class g_ extends we{constructor(e){super(),ye(this,e,m_,c_,$e,{})}}export{g_ as default};
