var No=Object.defineProperty;var Po=(i,e,t)=>e in i?No(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Ie=(i,e,t)=>(Po(i,typeof e!="symbol"?e+"":e,t),t);import{S as we,i as ye,s as $e,k as oe,a as de,l as ae,m as ce,h as C,c as pe,n as Q,b as te,G as K,g as y,v as Ze,f as Xe,d as k,J as gn,C as Fe,K as gt,L as De,D as xe,E as Ne,F as Pe,p as yt,M as Bo,N as pt,O as zo,P as Le,H as it,w as Te,Q as le,R as ps,e as Ye,T as _s,U as Ln,V as Ge,W as qr,X as ve,y as M,z as L,A as O,Y as He,B as G,Z as Mt,o as wn,_ as Vn,$ as Bt,q as Ee,r as ke,u as ft,a0 as ln,a1 as Ce,a2 as Re,I as St,a3 as Jr,a4 as Uo,t as _r}from"../chunks/index.d44cd2ce.js";import{w as Zn}from"../chunks/index.787662fd.js";function Qr(i,e,t){const n=i.slice();return n[5]=e[t],n}const Do=i=>({tab:i&2}),ei=i=>({tab:i[5]});function ti(i,e,t){const n=i.slice();return n[5]=e[t],n}const Mo=i=>({tab:i&2}),ni=i=>({tab:i[5]});function ri(i){let e,t,n,r,s;const o=i[3].default,a=Fe(o,i,i[2],ni);function l(){return i[4](i[5])}return{c(){e=oe("section"),a&&a.c(),t=de(),this.h()},l(u){e=ae(u,"SECTION",{class:!0});var c=ce(e);a&&a.l(c),t=pe(c),c.forEach(C),this.h()},h(){Q(e,"class","tab svelte-1kfk1mv"),gt(e,"active",i[0]===i[5])},m(u,c){te(u,e,c),a&&a.m(e,null),K(e,t),n=!0,r||(s=De(e,"click",l),r=!0)},p(u,c){i=u,a&&a.p&&(!n||c&6)&&xe(a,o,i,i[2],n?Pe(o,i[2],c,Mo):Ne(i[2]),ni),(!n||c&3)&&gt(e,"active",i[0]===i[5])},i(u){n||(y(a,u),n=!0)},o(u){k(a,u),n=!1},d(u){u&&C(e),a&&a.d(u),r=!1,s()}}}function ii(i){let e,t,n;const r=i[3].content,s=Fe(r,i,i[2],ei);return{c(){e=oe("section"),s&&s.c(),t=de(),this.h()},l(o){e=ae(o,"SECTION",{class:!0});var a=ce(e);s&&s.l(a),t=pe(a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1kfk1mv"),gt(e,"hide",i[0]!==i[5])},m(o,a){te(o,e,a),s&&s.m(e,null),K(e,t),n=!0},p(o,a){s&&s.p&&(!n||a&6)&&xe(s,r,o,o[2],n?Pe(r,o[2],a,Do):Ne(o[2]),ei),(!n||a&3)&&gt(e,"hide",o[0]!==o[5])},i(o){n||(y(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&C(e),s&&s.d(o)}}}function Lo(i){let e,t,n,r,s=i[1],o=[];for(let f=0;f<s.length;f+=1)o[f]=ri(ti(i,s,f));const a=f=>k(o[f],1,1,()=>{o[f]=null});let l=i[1],u=[];for(let f=0;f<l.length;f+=1)u[f]=ii(Qr(i,l,f));const c=f=>k(u[f],1,1,()=>{u[f]=null});return{c(){e=oe("article"),t=oe("header");for(let f=0;f<o.length;f+=1)o[f].c();n=de();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=ae(f,"ARTICLE",{class:!0});var h=ce(e);t=ae(h,"HEADER",{class:!0});var m=ce(t);for(let d=0;d<o.length;d+=1)o[d].l(m);m.forEach(C),n=pe(h);for(let d=0;d<u.length;d+=1)u[d].l(h);h.forEach(C),this.h()},h(){Q(t,"class","svelte-1kfk1mv"),Q(e,"class","svelte-1kfk1mv")},m(f,h){te(f,e,h),K(e,t);for(let m=0;m<o.length;m+=1)o[m].m(t,null);K(e,n);for(let m=0;m<u.length;m+=1)u[m].m(e,null);r=!0},p(f,[h]){if(h&7){s=f[1];let m;for(m=0;m<s.length;m+=1){const d=ti(f,s,m);o[m]?(o[m].p(d,h),y(o[m],1)):(o[m]=ri(d),o[m].c(),y(o[m],1),o[m].m(t,null))}for(Ze(),m=s.length;m<o.length;m+=1)a(m);Xe()}if(h&7){l=f[1];let m;for(m=0;m<l.length;m+=1){const d=Qr(f,l,m);u[m]?(u[m].p(d,h),y(u[m],1)):(u[m]=ii(d),u[m].c(),y(u[m],1),u[m].m(e,null))}for(Ze(),m=l.length;m<u.length;m+=1)c(m);Xe()}},i(f){if(!r){for(let h=0;h<s.length;h+=1)y(o[h]);for(let h=0;h<l.length;h+=1)y(u[h]);r=!0}},o(f){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)k(o[h]);u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)k(u[h]);r=!1},d(f){f&&C(e),gn(o,f),gn(u,f)}}}function Oo(i,e,t){let{$$slots:n={},$$scope:r}=e,{tabs:s}=e,{activeTab:o=s[0]}=e;const a=l=>t(0,o=l);return i.$$set=l=>{"tabs"in l&&t(1,s=l.tabs),"activeTab"in l&&t(0,o=l.activeTab),"$$scope"in l&&t(2,r=l.$$scope)},[o,s,r,n,a]}class gs extends we{constructor(e){super(),ye(this,e,Oo,Lo,$e,{tabs:1,activeTab:0})}}function si(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}const Go=i=>({item:i&2,index:i&2}),oi=i=>({item:i[9],index:i[11]});function ai(i,e){let t,n,r,s,o;const a=e[5].default,l=Fe(a,e,e[4],oi);function u(){return e[8](e[9])}return{key:i,first:null,c(){t=oe("article"),l&&l.c(),n=de(),this.h()},l(c){t=ae(c,"ARTICLE",{class:!0});var f=ce(t);l&&l.l(f),n=pe(f),f.forEach(C),this.h()},h(){Q(t,"class","item svelte-xsb8mb"),gt(t,"active",e[9].id===e[0].id),this.first=t},m(c,f){te(c,t,f),l&&l.m(t,null),K(t,n),r=!0,s||(o=De(t,"click",u),s=!0)},p(c,f){e=c,l&&l.p&&(!r||f&18)&&xe(l,a,e,e[4],r?Pe(a,e[4],f,Go):Ne(e[4]),oi),(!r||f&3)&&gt(t,"active",e[9].id===e[0].id)},i(c){r||(y(l,c),r=!0)},o(c){k(l,c),r=!1},d(c){c&&C(t),l&&l.d(c),s=!1,o()}}}function Ho(i){let e,t=[],n=new Map,r,s,o,a=i[1];const l=u=>u[9].id;for(let u=0;u<a.length;u+=1){let c=si(i,a,u),f=l(c);n.set(f,t[u]=ai(f,c))}return{c(){e=oe("main");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=ae(u,"MAIN",{style:!0,class:!0});var c=ce(e);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(C),this.h()},h(){yt(e,"height",i[3]),Q(e,"class","svelte-xsb8mb"),gt(e,"reverse",i[2])},m(u,c){te(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);r=!0,s||(o=[De(e,"drop",i[6]),De(e,"dragover",i[7])],s=!0)},p(u,[c]){c&19&&(a=u[1],Ze(),t=Bo(t,c,l,1,u,a,n,e,zo,ai,null,si),Xe()),(!r||c&8)&&yt(e,"height",u[3]),(!r||c&4)&&gt(e,"reverse",u[2])},i(u){if(!r){for(let c=0;c<a.length;c+=1)y(t[c]);r=!0}},o(u){for(let c=0;c<t.length;c+=1)k(t[c]);r=!1},d(u){u&&C(e);for(let c=0;c<t.length;c+=1)t[c].d();s=!1,pt(o)}}}function Wo(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{active:o}=e,{reverse:a=!1}=e,{height:l="100%"}=e;function u(h){Le.call(this,i,h)}function c(h){Le.call(this,i,h)}const f=h=>t(0,o=h);return i.$$set=h=>{"items"in h&&t(1,s=h.items),"active"in h&&t(0,o=h.active),"reverse"in h&&t(2,a=h.reverse),"height"in h&&t(3,l=h.height),"$$scope"in h&&t(4,r=h.$$scope)},[o,s,a,l,r,n,u,c,f]}class li extends we{constructor(e){super(),ye(this,e,Wo,Ho,$e,{items:1,active:0,reverse:2,height:3})}}function jo(i){let e,t,n,r,s,o;return{c(){e=oe("article"),t=oe("canvas"),n=de(),r=oe("canvas"),this.h()},l(a){e=ae(a,"ARTICLE",{class:!0});var l=ce(e);t=ae(l,"CANVAS",{class:!0}),ce(t).forEach(C),n=pe(l),r=ae(l,"CANVAS",{class:!0}),ce(r).forEach(C),l.forEach(C),this.h()},h(){Q(t,"class","svelte-flcf9e"),Q(r,"class","svelte-flcf9e"),Q(e,"class","svelte-flcf9e")},m(a,l){te(a,e,l),K(e,t),i[4](t),K(e,n),K(e,r),i[5](r),s||(o=[De(e,"dragover",i[2]),De(e,"drop",i[3])],s=!0)},p:it,i:it,o:it,d(a){a&&C(e),i[4](null),i[5](null),s=!1,pt(o)}}}function Vo(i,e,t){let{webgl:n}=e,{ui:r}=e;function s(u){Le.call(this,i,u)}function o(u){Le.call(this,i,u)}function a(u){Te[u?"unshift":"push"](()=>{n=u,t(0,n)})}function l(u){Te[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"webgl"in u&&t(0,n=u.webgl),"ui"in u&&t(1,r=u.ui)},[n,r,s,o,a,l]}class Zo extends we{constructor(e){super(),ye(this,e,Vo,jo,$e,{webgl:0,ui:1})}}function Xo(i){let e,t;const n=i[1].default,r=Fe(n,i,i[0],null);return{c(){e=oe("label"),r&&r.c(),this.h()},l(s){e=ae(s,"LABEL",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-1996wif")},m(s,o){te(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&xe(r,n,s,s[0],t?Pe(n,s[0],o,null):Ne(s[0]),null)},i(s){t||(y(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function Yo(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class et extends we{constructor(e){super(),ye(this,e,Yo,Xo,$e,{})}}var ui={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function ci(i,e,t){const n=i.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function ur(i){let e,t=[i[10]],n={};for(let r=0;r<t.length;r+=1)n=le(n,t[r]);return{c(){e=ps(i[9]),this.h()},l(r){e=_s(r,i[9],{}),ce(e).forEach(C),this.h()},h(){Ln(e,n)},m(r,s){te(r,e,s)},p(r,s){n=Ge(t,[s&16&&r[10]]),Ln(e,n)},d(r){r&&C(e)}}}function fi(i){let e=i[9],t,n=i[9]&&ur(i);return{c(){n&&n.c(),t=Ye()},l(r){n&&n.l(r),t=Ye()},m(r,s){n&&n.m(r,s),te(r,t,s)},p(r,s){r[9]?e?$e(e,r[9])?(n.d(1),n=ur(r),n.c(),n.m(t.parentNode,t)):n.p(r,s):(n=ur(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[9]},d(r){r&&C(t),n&&n.d(r)}}}function Ko(i){let e,t,n,r,s=i[4],o=[];for(let f=0;f<s.length;f+=1)o[f]=fi(ci(i,s,f));const a=i[8].default,l=Fe(a,i,i[7],null);let u=[ui,i[5],{width:i[2]},{height:i[2]},{stroke:i[1]},{"stroke-width":i[3]},{class:n=`tabler-icon tabler-icon-${i[0]} ${i[6].class??""}`}],c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return{c(){e=ps("svg");for(let f=0;f<o.length;f+=1)o[f].c();t=Ye(),l&&l.c(),this.h()},l(f){e=_s(f,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var h=ce(e);for(let m=0;m<o.length;m+=1)o[m].l(h);t=Ye(),l&&l.l(h),h.forEach(C),this.h()},h(){Ln(e,c)},m(f,h){te(f,e,h);for(let m=0;m<o.length;m+=1)o[m].m(e,null);K(e,t),l&&l.m(e,null),r=!0},p(f,[h]){if(h&16){s=f[4];let m;for(m=0;m<s.length;m+=1){const d=ci(f,s,m);o[m]?o[m].p(d,h):(o[m]=fi(d),o[m].c(),o[m].m(e,t))}for(;m<o.length;m+=1)o[m].d(1);o.length=s.length}l&&l.p&&(!r||h&128)&&xe(l,a,f,f[7],r?Pe(a,f[7],h,null):Ne(f[7]),null),Ln(e,c=Ge(u,[ui,h&32&&f[5],(!r||h&4)&&{width:f[2]},(!r||h&4)&&{height:f[2]},(!r||h&2)&&{stroke:f[1]},(!r||h&8)&&{"stroke-width":f[3]},(!r||h&65&&n!==(n=`tabler-icon tabler-icon-${f[0]} ${f[6].class??""}`))&&{class:n}]))},i(f){r||(y(l,f),r=!0)},o(f){k(l,f),r=!1},d(f){f&&C(e),gn(o,f),l&&l.d(f)}}}function qo(i,e,t){const n=["name","color","size","stroke","iconNode"];let r=qr(e,n),{$$slots:s={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{stroke:c=2}=e,{iconNode:f}=e;return i.$$set=h=>{t(6,e=le(le({},e),ve(h))),t(5,r=qr(e,n)),"name"in h&&t(0,a=h.name),"color"in h&&t(1,l=h.color),"size"in h&&t(2,u=h.size),"stroke"in h&&t(3,c=h.stroke),"iconNode"in h&&t(4,f=h.iconNode),"$$scope"in h&&t(7,o=h.$$scope)},e=ve(e),[a,l,u,c,f,r,e,o,s]}class Jo extends we{constructor(e){super(),ye(this,e,qo,Ko,$e,{name:0,color:1,size:2,stroke:3,iconNode:4})}}const We=Jo;function Qo(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ea(i){let e,t;const n=[{name:"align-box-bottom-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Qo]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function ta(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 15v2"}],["path",{d:"M12 11v6"}],["path",{d:"M15 13v4"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class na extends we{constructor(e){super(),ye(this,e,ta,ea,$e,{})}}const ra=na;function ia(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function sa(i){let e,t;const n=[{name:"align-box-center-middle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ia]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function oa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M11 15h2"}],["path",{d:"M9 12h6"}],["path",{d:"M10 9h4"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class aa extends we{constructor(e){super(),ye(this,e,oa,sa,$e,{})}}const la=aa;function ua(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ca(i){let e,t;const n=[{name:"align-box-top-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ua]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function fa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 9v-2"}],["path",{d:"M12 13v-6"}],["path",{d:"M15 11v-4"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ha extends we{constructor(e){super(),ye(this,e,fa,ca,$e,{})}}const ma=ha;function da(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pa(i){let e,t;const n=[{name:"align-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[da]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function _a(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ga extends we{constructor(e){super(),ye(this,e,_a,pa,$e,{})}}const ba=ga;function va(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $a(i){let e,t;const n=[{name:"align-left"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[va]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function wa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ya extends we{constructor(e){super(),ye(this,e,wa,$a,$e,{})}}const Ea=ya;function ka(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Aa(i){let e,t;const n=[{name:"align-right"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ka]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Ta(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Sa extends we{constructor(e){super(),ye(this,e,Ta,Aa,$e,{})}}const Ia=Sa;function Ca(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ra(i){let e,t;const n=[{name:"arrow-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ca]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Fa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 13l-6 6"}],["path",{d:"M6 13l6 6"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class xa extends we{constructor(e){super(),ye(this,e,Fa,Ra,$e,{})}}const Na=xa;function Pa(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ba(i){let e,t;const n=[{name:"arrow-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Pa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function za(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 11l-6 -6"}],["path",{d:"M6 11l6 -6"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ua extends we{constructor(e){super(),ye(this,e,za,Ba,$e,{})}}const Da=Ua;function Ma(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function La(i){let e,t;const n=[{name:"bold"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ma]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Oa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ga extends we{constructor(e){super(),ye(this,e,Oa,La,$e,{})}}const Ha=Ga;function Wa(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ja(i){let e,t;const n=[{name:"box-align-bottom"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Wa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Va(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 14h16v5a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1v-5z"}],["path",{d:"M4 9v.01"}],["path",{d:"M4 4v.01"}],["path",{d:"M9 4v.01"}],["path",{d:"M15 4v.01"}],["path",{d:"M20 4v.01"}],["path",{d:"M20 9v.01"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Za extends we{constructor(e){super(),ye(this,e,Va,ja,$e,{})}}const Xa=Za;function Ya(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ka(i){let e,t;const n=[{name:"box-align-top"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ya]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function qa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 9.505h16v-5a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1v5z"}],["path",{d:"M4 14.505v-.01"}],["path",{d:"M4 19.505v-.01"}],["path",{d:"M9 19.505v-.01"}],["path",{d:"M15 19.505v-.01"}],["path",{d:"M20 19.505v-.01"}],["path",{d:"M20 14.505v-.01"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ja extends we{constructor(e){super(),ye(this,e,qa,Ka,$e,{})}}const Qa=Ja;function el(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tl(i){let e,t;const n=[{name:"brand-github-filled"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[el]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function nl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z","stroke-width":"0",fill:"currentColor"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class rl extends we{constructor(e){super(),ye(this,e,nl,tl,$e,{})}}const il=rl;function sl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ol(i){let e,t;const n=[{name:"brand-vk"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[sl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function al(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ll extends we{constructor(e){super(),ye(this,e,al,ol,$e,{})}}const ul=ll;function cl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function fl(i){let e,t;const n=[{name:"chevron-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[cl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function hl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 9l6 6l6 -6"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ml extends we{constructor(e){super(),ye(this,e,hl,fl,$e,{})}}const dl=ml;function pl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function _l(i){let e,t;const n=[{name:"copy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[pl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function gl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class bl extends we{constructor(e){super(),ye(this,e,gl,_l,$e,{})}}const bs=bl;function vl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $l(i){let e,t;const n=[{name:"device-floppy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[vl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function wl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M14 4l0 4l-6 0l0 -4"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class yl extends we{constructor(e){super(),ye(this,e,wl,$l,$e,{})}}const El=yl;function kl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Al(i){let e,t;const n=[{name:"help"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[kl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Tl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M12 17l0 .01"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Sl extends we{constructor(e){super(),ye(this,e,Tl,Al,$e,{})}}const Il=Sl;function Cl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Rl(i){let e,t;const n=[{name:"history"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Cl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Fl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 8l0 4l2 2"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class xl extends we{constructor(e){super(),ye(this,e,Fl,Rl,$e,{})}}const Nl=xl;function Pl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Bl(i){let e,t;const n=[{name:"info-circle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Pl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function zl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Ul extends we{constructor(e){super(),ye(this,e,zl,Bl,$e,{})}}const Dl=Ul;function Ml(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ll(i){let e,t;const n=[{name:"italic"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ml]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Ol(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Gl extends we{constructor(e){super(),ye(this,e,Ol,Ll,$e,{})}}const Hl=Gl;function Wl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function jl(i){let e,t;const n=[{name:"line-height"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Wl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Vl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 8l3 -3l3 3"}],["path",{d:"M3 16l3 3l3 -3"}],["path",{d:"M6 5l0 14"}],["path",{d:"M13 6l7 0"}],["path",{d:"M13 12l7 0"}],["path",{d:"M13 18l7 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Zl extends we{constructor(e){super(),ye(this,e,Vl,jl,$e,{})}}const Xl=Zl;function Yl(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Kl(i){let e,t;const n=[{name:"minus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Yl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function ql(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Jl extends we{constructor(e){super(),ye(this,e,ql,Kl,$e,{})}}const Ql=Jl;function eu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tu(i){let e,t;const n=[{name:"new-section"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[eu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function nu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M9 12l6 0"}],["path",{d:"M12 9l0 6"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class ru extends we{constructor(e){super(),ye(this,e,nu,tu,$e,{})}}const hi=ru;function iu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function su(i){let e,t;const n=[{name:"photo-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[iu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function ou(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class au extends we{constructor(e){super(),ye(this,e,ou,su,$e,{})}}const lu=au;function uu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function cu(i){let e,t;const n=[{name:"photo-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[uu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function fu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3.5 3.5"}],["path",{d:"M14 14l1 -1c.679 -.653 1.473 -.829 2.214 -.526"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class hu extends we{constructor(e){super(),ye(this,e,fu,cu,$e,{})}}const mu=hu;function du(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pu(i){let e,t;const n=[{name:"plus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[du]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function _u(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class gu extends we{constructor(e){super(),ye(this,e,_u,pu,$e,{})}}const bu=gu;function vu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $u(i){let e,t;const n=[{name:"rectangle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[vu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function wu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class yu extends we{constructor(e){super(),ye(this,e,wu,$u,$e,{})}}const Eu=yu;function ku(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Au(i){let e,t;const n=[{name:"settings"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ku]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Tu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Su extends we{constructor(e){super(),ye(this,e,Tu,Au,$e,{})}}const Iu=Su;function Cu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ru(i){let e,t;const n=[{name:"trash"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Cu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Fu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class xu extends we{constructor(e){super(),ye(this,e,Fu,Ru,$e,{})}}const Nu=xu;function Pu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Bu(i){let e,t;const n=[{name:"upload"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Pu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function zu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M7 9l5 -5l5 5"}],["path",{d:"M12 4l0 12"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Uu extends we{constructor(e){super(),ye(this,e,zu,Bu,$e,{})}}const Du=Uu;function Mu(i){let e;const t=i[2].default,n=Fe(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&xe(n,t,r,r[3],e?Pe(t,r[3],s,null):Ne(r[3]),null)},i(r){e||(y(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Lu(i){let e,t;const n=[{name:"x"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Mu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=le(r,n[s]);return e=new We({props:r}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,o){O(e,s,o),t=!0},p(s,[o]){const a=o&3?Ge(n,[n[0],o&2&&He(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Ou(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M18 6l-12 12"}],["path",{d:"M6 6l12 12"}]];return i.$$set=o=>{t(1,e=le(le({},e),ve(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ve(e),[s,e,n,r]}class Gu extends we{constructor(e){super(),ye(this,e,Ou,Lu,$e,{})}}const Hu=Gu;function Wu(i){let e,t,n,r,s,o,a,l,u,c,f,h,m;return a=new Ql({}),c=new bu({}),{c(){e=oe("main"),t=oe("input"),r=de(),s=oe("footer"),o=oe("button"),M(a.$$.fragment),l=de(),u=oe("button"),M(c.$$.fragment),this.h()},l(d){e=ae(d,"MAIN",{class:!0});var p=ce(e);t=ae(p,"INPUT",{class:!0}),r=pe(p),s=ae(p,"FOOTER",{class:!0});var $=ce(s);o=ae($,"BUTTON",{title:!0,class:!0});var g=ce(o);L(a.$$.fragment,g),g.forEach(C),l=pe($),u=ae($,"BUTTON",{title:!0,class:!0});var v=ce(u);L(c.$$.fragment,v),v.forEach(C),$.forEach(C),p.forEach(C),this.h()},h(){t.value=n=i[0].toString(),Q(t,"class","svelte-r64waw"),Q(o,"title",i[9]),Q(o,"class","svelte-r64waw"),Q(u,"title",i[9]),Q(u,"class","svelte-r64waw"),Q(s,"class","svelte-r64waw"),Q(e,"class","svelte-r64waw")},m(d,p){te(d,e,p),K(e,t),K(e,r),K(e,s),K(s,o),O(a,o,null),K(s,l),K(s,u),O(c,u,null),f=!0,h||(m=[De(t,"input",i[12]),De(t,"change",i[13]),De(o,"mousedown",i[14]),De(o,"mouseup",i[15]),De(u,"mousedown",i[16]),De(u,"mouseup",i[17])],h=!0)},p(d,[p]){(!f||p&1&&n!==(n=d[0].toString())&&t.value!==n)&&(t.value=n)},i(d){f||(y(a.$$.fragment,d),y(c.$$.fragment,d),f=!0)},o(d){k(a.$$.fragment,d),k(c.$$.fragment,d),f=!1},d(d){d&&C(e),G(a),G(c),h=!1,pt(m)}}}function ju(i,e,t){let{value:n}=e,{min:r=-1/0}=e,{max:s=1/0}=e,{step:o=1}=e,{ctrlMultiplier:a=2}=e,{shiftMultiplier:l=5}=e;const u=Mt();let c=-1,f=!1;function h(R){(!R||R.button===0)&&c!==-1&&(clearInterval(c),t(4,f=!1))}function m(R){let W=1;return R.ctrlKey&&(W*=a),R.shiftKey&&(W*=l),W}function d(R){t(0,n=Math.min(s,Math.max(r,n+R))),u("input",n),u("change",n)}function p(R){h(),c=setInterval(()=>{t(4,f=!0),d(R)},150)}wn(()=>(document.addEventListener("mouseup",h),()=>document.removeEventListener("mouseup",h)));const $=`Шаг: ${o}
Ctrl: x${a}
Shift: x${l}`,g=R=>{const W=Number(R.currentTarget.value);if(Number.isNaN(W)){R.currentTarget.value=n.toString();return}t(0,n=Math.min(s,Math.max(r,W))),u("input",n)},v=R=>u("change",Number(R.currentTarget.value)),w=R=>{R.button==0&&p(-m(R)*o)},I=R=>{R.button==0&&(f||d(-m(R)*o))},S=R=>{R.button==0&&p(+m(R)*o)},P=R=>{R.button==0&&(f||d(+m(R)*o))};return i.$$set=R=>{"value"in R&&t(0,n=R.value),"min"in R&&t(1,r=R.min),"max"in R&&t(2,s=R.max),"step"in R&&t(3,o=R.step),"ctrlMultiplier"in R&&t(10,a=R.ctrlMultiplier),"shiftMultiplier"in R&&t(11,l=R.shiftMultiplier)},[n,r,s,o,f,u,m,d,p,$,a,l,g,v,w,I,S,P]}class _t extends we{constructor(e){super(),ye(this,e,ju,Wu,$e,{value:0,min:1,max:2,step:3,ctrlMultiplier:10,shiftMultiplier:11})}}function Vu(i){const e=i-1;return e*e*e+1}function zt(i,{delay:e=0,duration:t=400,easing:n=Vu}={}){const r=getComputedStyle(i),s=+r.opacity,o=parseFloat(r.height),a=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),h=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};height: ${m*o}px;padding-top: ${m*a}px;padding-bottom: ${m*l}px;margin-top: ${m*u}px;margin-bottom: ${m*c}px;border-top-width: ${m*f}px;border-bottom-width: ${m*h}px;`}}const Zu=i=>({}),mi=i=>({}),Xu=i=>({}),di=i=>({});function pi(i){let e,t,n,r,s,o;const a=i[5].content,l=Fe(a,i,i[4],mi);return{c(){e=oe("article"),l&&l.c(),this.h()},l(u){e=ae(u,"ARTICLE",{style:!0,class:!0});var c=ce(e);l&&l.l(c),c.forEach(C),this.h()},h(){Q(e,"style",t=`width:${i[3]}px;`),Q(e,"class","svelte-19hnyjw")},m(u,c){te(u,e,c),l&&l.m(e,null),r=!0,s||(o=[De(e,"mouseover",i[8]),De(e,"mouseout",i[9])],s=!0)},p(u,c){l&&l.p&&(!r||c&16)&&xe(l,a,u,u[4],r?Pe(a,u[4],c,Zu):Ne(u[4]),mi),(!r||c&8&&t!==(t=`width:${u[3]}px;`))&&Q(e,"style",t)},i(u){r||(y(l,u),Vn(()=>{n||(n=Bt(e,zt,{duration:150},!0)),n.run(1)}),r=!0)},o(u){k(l,u),n||(n=Bt(e,zt,{duration:150},!1)),n.run(0),r=!1},d(u){u&&C(e),l&&l.d(u),u&&n&&n.end(),s=!1,pt(o)}}}function Yu(i){let e,t,n,r,s,o,a,l,u,c;const f=i[5].header,h=Fe(f,i,i[4],di);r=new dl({});let m=(i[2]||i[1])&&pi(i);return{c(){e=oe("main"),t=oe("button"),h&&h.c(),n=de(),M(r.$$.fragment),o=de(),m&&m.c(),this.h()},l(d){e=ae(d,"MAIN",{style:!0,class:!0});var p=ce(e);t=ae(p,"BUTTON",{style:!0,class:!0});var $=ce(t);h&&h.l($),n=pe($),L(r.$$.fragment,$),$.forEach(C),o=pe(p),m&&m.l(p),p.forEach(C),this.h()},h(){Q(t,"style",s=`height:${i[0].height};width:${i[0].width};`),Q(t,"class","svelte-19hnyjw"),Q(e,"style",a=`height:${i[0].height};width:${i[0].width};${i[0].main}`),Q(e,"class","svelte-19hnyjw")},m(d,p){te(d,e,p),K(e,t),h&&h.m(t,null),K(t,n),O(r,t,null),K(e,o),m&&m.m(e,null),l=!0,u||(c=[De(t,"click",i[6]),De(t,"focusout",i[7])],u=!0)},p(d,[p]){h&&h.p&&(!l||p&16)&&xe(h,f,d,d[4],l?Pe(f,d[4],p,Xu):Ne(d[4]),di),(!l||p&1&&s!==(s=`height:${d[0].height};width:${d[0].width};`))&&Q(t,"style",s),d[2]||d[1]?m?(m.p(d,p),p&6&&y(m,1)):(m=pi(d),m.c(),y(m,1),m.m(e,null)):m&&(Ze(),k(m,1,1,()=>{m=null}),Xe()),(!l||p&1&&a!==(a=`height:${d[0].height};width:${d[0].width};${d[0].main}`))&&Q(e,"style",a)},i(d){l||(y(h,d),y(r.$$.fragment,d),y(m),l=!0)},o(d){k(h,d),k(r.$$.fragment,d),k(m),l=!1},d(d){d&&C(e),h&&h.d(d),G(r),m&&m.d(),u=!1,pt(c)}}}function Ku(i,e,t){let{$$slots:n={},$$scope:r}=e,s=!1,o=!1,{css:a={height:"48px",width:"100%",main:""}}=e,l=0;const u=m=>{const d=m.currentTarget.getBoundingClientRect();t(3,l=d.width),t(1,s=!s)},c=()=>setTimeout(()=>t(1,s=!1),100),f=()=>t(2,o=!0),h=()=>t(2,o=!1);return i.$$set=m=>{"css"in m&&t(0,a=m.css),"$$scope"in m&&t(4,r=m.$$scope)},[a,s,o,l,r,n,u,c,f,h]}class vs extends we{constructor(e){super(),ye(this,e,Ku,Yu,$e,{css:0})}}const qu=i=>({item:i&1}),_i=i=>({item:i[0]});function gi(i,e,t){const n=i.slice();return n[10]=e[t],n}const Ju=i=>({item:i&2}),bi=i=>({item:i[10]});function Qu(i){let e;return{c(){e=Ee(i[0])},l(t){e=ke(t,i[0])},m(t,n){te(t,e,n)},p(t,n){n&1&&ft(e,t[0])},d(t){t&&C(e)}}}function ec(i){let e;const t=i[5].default,n=Fe(t,i,i[9],_i),r=n||Qu(i);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,o){r&&r.m(s,o),e=!0},p(s,o){n?n.p&&(!e||o&513)&&xe(n,t,s,s[9],e?Pe(t,s[9],o,qu):Ne(s[9]),_i):r&&r.p&&(!e||o&1)&&r.p(s,e?o:-1)},i(s){e||(y(r,s),e=!0)},o(s){k(r,s),e=!1},d(s){r&&r.d(s)}}}function vi(i){let e,t,n,r,s,o,a,l;function u(...m){return i[8](i[10],...m)}const c=i[5].default,f=Fe(c,i,i[9],bi),h=f||tc(i);return{c(){e=oe("label"),t=oe("input"),r=de(),h&&h.c(),s=de(),this.h()},l(m){e=ae(m,"LABEL",{class:!0});var d=ce(e);t=ae(d,"INPUT",{type:!0,class:!0}),r=pe(d),h&&h.l(d),s=pe(d),d.forEach(C),this.h()},h(){Q(t,"type","radio"),t.__value=n=i[10],t.value=t.__value,Q(t,"class","svelte-1plfxql"),i[7][0].push(t),Q(e,"class","svelte-1plfxql"),gt(e,"active",i[10]===i[0])},m(m,d){te(m,e,d),K(e,t),t.checked=t.__value===i[0],K(e,r),h&&h.m(e,null),K(e,s),o=!0,a||(l=[De(t,"change",i[6]),De(t,"change",u)],a=!0)},p(m,d){i=m,(!o||d&2&&n!==(n=i[10]))&&(t.__value=n,t.value=t.__value),d&1&&(t.checked=t.__value===i[0]),f?f.p&&(!o||d&514)&&xe(f,c,i,i[9],o?Pe(c,i[9],d,Ju):Ne(i[9]),bi):h&&h.p&&(!o||d&2)&&h.p(i,o?d:-1),(!o||d&3)&&gt(e,"active",i[10]===i[0])},i(m){o||(y(h,m),o=!0)},o(m){k(h,m),o=!1},d(m){m&&C(e),i[7][0].splice(i[7][0].indexOf(t),1),h&&h.d(m),a=!1,pt(l)}}}function tc(i){let e=i[10]+"",t;return{c(){t=Ee(e)},l(n){t=ke(n,e)},m(n,r){te(n,t,r)},p(n,r){r&2&&e!==(e=n[10]+"")&&ft(t,e)},d(n){n&&C(t)}}}function $i(i){let e,t,n=i[10]!=i[2]&&vi(i);return{c(){n&&n.c(),e=Ye()},l(r){n&&n.l(r),e=Ye()},m(r,s){n&&n.m(r,s),te(r,e,s),t=!0},p(r,s){r[10]!=r[2]?n?(n.p(r,s),s&6&&y(n,1)):(n=vi(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ze(),k(n,1,1,()=>{n=null}),Xe())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function nc(i){let e,t,n=i[1],r=[];for(let o=0;o<n.length;o+=1)r[o]=$i(gi(i,n,o));const s=o=>k(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=Ye()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=Ye()},m(o,a){for(let l=0;l<r.length;l+=1)r[l].m(o,a);te(o,e,a),t=!0},p(o,a){if(a&535){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=gi(o,n,l);r[l]?(r[l].p(u,a),y(r[l],1)):(r[l]=$i(u),r[l].c(),y(r[l],1),r[l].m(e.parentNode,e))}for(Ze(),l=n.length;l<r.length;l+=1)s(l);Xe()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)y(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)k(r[a]);t=!1},d(o){gn(r,o),o&&C(e)}}}function rc(i){let e,t;return e=new vs({props:{css:i[3],$$slots:{content:[nc],header:[ec]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.css=n[3]),r&519&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ic(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{items:o}=e,{placeholder:a=void 0}=e,{css:l={height:"48px",width:"100%",main:""}}=e;const u=Mt(),c=[[]];function f(){s=this.__value,t(0,s)}const h=(m,d)=>{d.currentTarget.checked&&u("change",{value:m})};return i.$$set=m=>{"value"in m&&t(0,s=m.value),"items"in m&&t(1,o=m.items),"placeholder"in m&&t(2,a=m.placeholder),"css"in m&&t(3,l=m.css),"$$scope"in m&&t(9,r=m.$$scope)},[s,o,a,l,u,n,f,c,h,r]}class It extends we{constructor(e){super(),ye(this,e,ic,rc,$e,{value:0,items:1,placeholder:2,css:3})}}const sc={width:220,height:220},oc={width:660,height:440},ac={fill:{x:0,y:0},stroke:{x:1,y:0},shadow:{x:2,y:0},gear:{x:0,y:1},redo:{x:1,y:1},undo:{x:2,y:1}},lc={cell:sc,atlas:oc,images:ac},uc=""+new URL("../assets/atlas.27b53d5d.webp",import.meta.url).href;function cc(i){let e,t;return{c(){e=oe("main"),this.h()},l(n){e=ae(n,"MAIN",{style:!0,class:!0}),ce(e).forEach(C),this.h()},h(){Q(e,"style",t=`
width: ${i[1]}px;
height: ${i[1]}px;
background-image: url(${i[0]});
background-size: ${i[2]}px ${i[3]}px;
background-position: -${i[4]}px ${i[5]}px;
`),Q(e,"class","svelte-1b6vt1p")},m(n,r){te(n,e,r)},p(n,[r]){r&63&&t!==(t=`
width: ${n[1]}px;
height: ${n[1]}px;
background-image: url(${n[0]});
background-size: ${n[2]}px ${n[3]}px;
background-position: -${n[4]}px ${n[5]}px;
`)&&Q(e,"style",t)},i:it,o:it,d(n){n&&C(e)}}}function fc(i,e,t){let{atlasURL:n}=e,{atlasDescription:r}=e,{name:s}=e,{size:o}=e,a,l,u,c,f;return i.$$set=h=>{"atlasURL"in h&&t(0,n=h.atlasURL),"atlasDescription"in h&&t(6,r=h.atlasDescription),"name"in h&&t(7,s=h.name),"size"in h&&t(1,o=h.size)},i.$$.update=()=>{i.$$.dirty&450&&(t(8,a=r.images[s]),t(2,l=r.atlas.width/r.cell.width*o),t(3,u=r.atlas.height/r.cell.height*o),t(4,c=o*a.x),t(5,f=o*a.y))},[n,o,l,u,c,f,r,s,a]}class hc extends we{constructor(e){super(),ye(this,e,fc,cc,$e,{atlasURL:0,atlasDescription:6,name:7,size:1})}}function mc(i){let e,t;const n=i[1].default,r=Fe(n,i,i[0],null);return{c(){e=oe("article"),r&&r.c(),this.h()},l(s){e=ae(s,"ARTICLE",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-i0r9v3")},m(s,o){te(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&xe(r,n,s,s[0],t?Pe(n,s[0],o,null):Ne(s[0]),null)},i(s){t||(y(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function dc(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Lt extends we{constructor(e){super(),ye(this,e,dc,mc,$e,{})}}function pc(i){let e,t,n,r;return{c(){e=Ee("Цвет"),t=oe("input"),this.h()},l(s){e=ke(s,"Цвет"),t=ae(s,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","color")},m(s,o){te(s,e,o),te(s,t,o),ln(t,i[0].value),n||(r=[De(t,"input",i[2]),De(t,"change",i[1])],n=!0)},p(s,o){o&1&&ln(t,s[0].value)},d(s){s&&C(e),s&&C(t),n=!1,pt(r)}}}function _c(i){let e,t;return e=new et({props:{$$slots:{default:[pc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function gc(i){let e,t;return e=new Lt({props:{$$slots:{default:[_c]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function bc(i,e,t){let{value:n}=e;function r(o){Le.call(this,i,o)}function s(){n.value=this.value,t(0,n)}return i.$$set=o=>{"value"in o&&t(0,n=o.value)},[n,r,s]}class vc extends we{constructor(e){super(),ye(this,e,bc,gc,$e,{value:0})}}function $c(i){let e,t,n,r;function s(a){i[1](a)}let o={};return i[0].x!==void 0&&(o.value=i[0].x),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[2]),{c(){e=Ee("x "),M(t.$$.fragment)},l(a){e=ke(a,"x "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].x,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function wc(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].y!==void 0&&(o.value=i[0].y),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[4]),{c(){e=Ee("y "),M(t.$$.fragment)},l(a){e=ke(a,"y "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].y,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function yc(i){let e,t,n,r;return e=new et({props:{$$slots:{default:[$c]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[wc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment)},l(s){L(e.$$.fragment,s),t=pe(s),L(n.$$.fragment,s)},m(s,o){O(e,s,o),te(s,t,o),O(n,s,o),r=!0},p(s,o){const a={};o&33&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const l={};o&33&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){r||(y(e.$$.fragment,s),y(n.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(n.$$.fragment,s),r=!1},d(s){G(e,s),s&&C(t),G(n,s)}}}function Ec(i){let e,t;return e=new Lt({props:{$$slots:{default:[yc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function kc(i,e,t){let{value:n}=e;function r(l){i.$$.not_equal(n.x,l)&&(n.x=l,t(0,n))}function s(l){Le.call(this,i,l)}function o(l){i.$$.not_equal(n.y,l)&&(n.y=l,t(0,n))}function a(l){Le.call(this,i,l)}return i.$$set=l=>{"value"in l&&t(0,n=l.value)},[n,r,s,o,a]}class Xn extends we{constructor(e){super(),ye(this,e,kc,Ec,$e,{value:0})}}class Ac{constructor(e=new Array){Ie(this,"subscribers",new Set);this.patterns=e}subscribe(e){return this.subscribers.add(e),e(this.patterns),()=>{this.subscribers.delete(e)}}addPattern(...e){this.patterns=this.patterns.filter(t=>e.find(n=>n.name==t.name)),this.patterns.push(...e),this.subscribers.forEach(t=>t(this.patterns))}getTexture(e){const t=this.patterns.find(n=>n.name==e);if(!t)throw new Error(`Not found pattern '${e}'`);return t.textureId}}const Ir=new Ac;function Tc(i){let e,t,n,r;const s=i[3].default,o=Fe(s,i,i[2],null);return{c(){e=oe("button"),o&&o.c(),this.h()},l(a){e=ae(a,"BUTTON",{class:!0});var l=ce(e);o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-1ritj3i"),gt(e,"active",i[0])},m(a,l){te(a,e,l),o&&o.m(e,null),t=!0,n||(r=De(e,"click",i[4]),n=!0)},p(a,[l]){o&&o.p&&(!t||l&4)&&xe(o,s,a,a[2],t?Pe(s,a[2],l,null):Ne(a[2]),null),(!t||l&1)&&gt(e,"active",a[0])},i(a){t||(y(o,a),t=!0)},o(a){k(o,a),t=!1},d(a){a&&C(e),o&&o.d(a),n=!1,r()}}}function Sc(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e;const o=Mt(),a=()=>o("change",t(0,s=!s));return i.$$set=l=>{"value"in l&&t(0,s=l.value),"$$scope"in l&&t(2,r=l.$$scope)},[s,o,r,n,a]}class Un extends we{constructor(e){super(),ye(this,e,Sc,Tc,$e,{value:0})}}function Ic(i){let e,t,n,r;function s(a){i[2](a)}let o={items:i[1].map(yi)};return i[0].name!==void 0&&(o.value=i[0].name),t=new It({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[3]),{c(){e=Ee("Паттерн "),M(t.$$.fragment)},l(a){e=ke(a,"Паттерн "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};l&2&&(u.items=a[1].map(yi)),!n&&l&1&&(n=!0,u.value=a[0].name,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Cc(i){let e,t,n,r;function s(a){i[4](a)}let o={min:-360,max:360,step:.5};return i[0].rotate!==void 0&&(o.value=i[0].rotate),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[5]),{c(){e=Ee("Поворот "),M(t.$$.fragment)},l(a){e=ke(a,"Поворот "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].rotate,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Rc(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].shift!==void 0&&(o.value=i[0].shift),t=new Xn({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[7]),{c(){e=Ee("Сдвиг"),M(t.$$.fragment)},l(a){e=ke(a,"Сдвиг"),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shift,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Fc(i){let e;return{c(){e=Ee("Авто")},l(t){e=ke(t,"Авто")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function xc(i){let e,t,n;return t=new Un({props:{value:i[0].scale==="font",$$slots:{default:[Fc]},$$scope:{ctx:i}}}),t.$on("change",i[8]),t.$on("change",i[9]),{c(){e=Ee("Масштаб "),M(t.$$.fragment)},l(r){e=ke(r,"Масштаб "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].scale==="font"),s&4096&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function wi(i){let e,t;return e=new Lt({props:{$$slots:{default:[Nc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4097&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Nc(i){let e,t,n;function r(o){i[10](o)}let s={};return i[0].scale!==void 0&&(s.value=i[0].scale),e=new Xn({props:s}),Te.push(()=>Ce(e,"value",r)),e.$on("change",i[11]),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].scale,Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Pc(i){let e,t,n,r,s,o,a,l,u,c;e=new et({props:{$$slots:{default:[Ic]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Cc]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Rc]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[xc]},$$scope:{ctx:i}}});let f=i[0].scale!=="font"&&wi(i);return{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment),r=de(),M(s.$$.fragment),o=de(),M(a.$$.fragment),l=de(),f&&f.c(),u=Ye()},l(h){L(e.$$.fragment,h),t=pe(h),L(n.$$.fragment,h),r=pe(h),L(s.$$.fragment,h),o=pe(h),L(a.$$.fragment,h),l=pe(h),f&&f.l(h),u=Ye()},m(h,m){O(e,h,m),te(h,t,m),O(n,h,m),te(h,r,m),O(s,h,m),te(h,o,m),O(a,h,m),te(h,l,m),f&&f.m(h,m),te(h,u,m),c=!0},p(h,m){const d={};m&4099&&(d.$$scope={dirty:m,ctx:h}),e.$set(d);const p={};m&4097&&(p.$$scope={dirty:m,ctx:h}),n.$set(p);const $={};m&4097&&($.$$scope={dirty:m,ctx:h}),s.$set($);const g={};m&4097&&(g.$$scope={dirty:m,ctx:h}),a.$set(g),h[0].scale!=="font"?f?(f.p(h,m),m&1&&y(f,1)):(f=wi(h),f.c(),y(f,1),f.m(u.parentNode,u)):f&&(Ze(),k(f,1,1,()=>{f=null}),Xe())},i(h){c||(y(e.$$.fragment,h),y(n.$$.fragment,h),y(s.$$.fragment,h),y(a.$$.fragment,h),y(f),c=!0)},o(h){k(e.$$.fragment,h),k(n.$$.fragment,h),k(s.$$.fragment,h),k(a.$$.fragment,h),k(f),c=!1},d(h){G(e,h),h&&C(t),G(n,h),h&&C(r),G(s,h),h&&C(o),G(a,h),h&&C(l),f&&f.d(h),h&&C(u)}}}function Bc(i){let e,t;return e=new Lt({props:{$$slots:{default:[Pc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&4099&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}const yi=i=>i.name;function zc(i,e,t){let n;St(i,Ir,p=>t(1,n=p));let{value:r}=e;function s(p){i.$$.not_equal(r.name,p)&&(r.name=p,t(0,r))}function o(p){Le.call(this,i,p)}function a(p){i.$$.not_equal(r.rotate,p)&&(r.rotate=p,t(0,r))}function l(p){Le.call(this,i,p)}function u(p){i.$$.not_equal(r.shift,p)&&(r.shift=p,t(0,r))}function c(p){Le.call(this,i,p)}const f=p=>t(0,r.scale=p.detail?"font":{x:1,y:1},r);function h(p){Le.call(this,i,p)}function m(p){i.$$.not_equal(r.scale,p)&&(r.scale=p,t(0,r))}function d(p){Le.call(this,i,p)}return i.$$set=p=>{"value"in p&&t(0,r=p.value)},[r,n,s,o,a,l,u,c,f,h,m,d]}class Uc extends we{constructor(e){super(),ye(this,e,zc,Bc,$e,{value:0})}}function Dc(i){let e,t,n,r;return{c(){e=Ee("Цвет"),t=oe("input"),this.h()},l(s){e=ke(s,"Цвет"),t=ae(s,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","color")},m(s,o){te(s,e,o),te(s,t,o),ln(t,i[0].color),n||(r=[De(t,"input",i[2]),De(t,"change",i[1])],n=!0)},p(s,o){o&1&&ln(t,s[0].color)},d(s){s&&C(e),s&&C(t),n=!1,pt(r)}}}function Mc(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].offset!==void 0&&(o.value=i[0].offset),t=new Xn({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[4]),{c(){e=Ee("Сдвиг"),M(t.$$.fragment)},l(a){e=ke(a,"Сдвиг"),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].offset,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Lc(i){let e,t,n,r;function s(a){i[5](a)}let o={min:0,max:1e3};return i[0].blur!==void 0&&(o.value=i[0].blur),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[6]),{c(){e=Ee("Размытие"),M(t.$$.fragment)},l(a){e=ke(a,"Размытие"),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].blur,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Oc(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[Dc]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[Mc]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Lc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment),r=de(),M(s.$$.fragment)},l(a){L(e.$$.fragment,a),t=pe(a),L(n.$$.fragment,a),r=pe(a),L(s.$$.fragment,a)},m(a,l){O(e,a,l),te(a,t,l),O(n,a,l),te(a,r,l),O(s,a,l),o=!0},p(a,l){const u={};l&129&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const c={};l&129&&(c.$$scope={dirty:l,ctx:a}),n.$set(c);const f={};l&129&&(f.$$scope={dirty:l,ctx:a}),s.$set(f)},i(a){o||(y(e.$$.fragment,a),y(n.$$.fragment,a),y(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){G(e,a),a&&C(t),G(n,a),a&&C(r),G(s,a)}}}function Gc(i){let e,t;return e=new Lt({props:{$$slots:{default:[Oc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Hc(i,e,t){let{value:n}=e;function r(c){Le.call(this,i,c)}function s(){n.color=this.value,t(0,n)}function o(c){i.$$.not_equal(n.offset,c)&&(n.offset=c,t(0,n))}function a(c){Le.call(this,i,c)}function l(c){i.$$.not_equal(n.blur,c)&&(n.blur=c,t(0,n))}function u(c){Le.call(this,i,c)}return i.$$set=c=>{"value"in c&&t(0,n=c.value)},[n,r,s,o,a,l,u]}class Wc extends we{constructor(e){super(),ye(this,e,Hc,Gc,$e,{value:0})}}function jc(i){let e=i[2][i[15]]+"",t;return{c(){t=Ee(e)},l(n){t=ke(n,e)},m(n,r){te(n,t,r)},p(n,r){r&32768&&e!==(e=n[2][n[15]]+"")&&ft(t,e)},d(n){n&&C(t)}}}function Ei(i){let e,t;return e=new Lt({props:{$$slots:{default:[Kc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Vc(i){let e,t,n,r,s;function o(l){i[8](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new Uc({props:a}),Te.push(()=>Ce(t,"value",o)),t.$on("change",i[9]),{c(){e=oe("div"),M(t.$$.fragment)},l(l){e=ae(l,"DIV",{});var u=ce(e);L(t.$$.fragment,u),u.forEach(C)},m(l,u){te(l,e,u),O(t,e,null),s=!0},p(l,u){const c={};!n&&u&1&&(n=!0,c.value=l[0].settings,Re(()=>n=!1)),t.$set(c)},i(l){s||(y(t.$$.fragment,l),Vn(()=>{r||(r=Bt(e,zt,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),r||(r=Bt(e,zt,{},!1)),r.run(0),s=!1},d(l){l&&C(e),G(t),l&&r&&r.end()}}}function Zc(i){let e,t,n,r,s;function o(l){i[6](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new vc({props:a}),Te.push(()=>Ce(t,"value",o)),t.$on("change",i[7]),{c(){e=oe("div"),M(t.$$.fragment)},l(l){e=ae(l,"DIV",{});var u=ce(e);L(t.$$.fragment,u),u.forEach(C)},m(l,u){te(l,e,u),O(t,e,null),s=!0},p(l,u){const c={};!n&&u&1&&(n=!0,c.value=l[0].settings,Re(()=>n=!1)),t.$set(c)},i(l){s||(y(t.$$.fragment,l),Vn(()=>{r||(r=Bt(e,zt,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),r||(r=Bt(e,zt,{},!1)),r.run(0),s=!1},d(l){l&&C(e),G(t),l&&r&&r.end()}}}function Xc(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:1,value:100-i[0].alpha*100}}),t.$on("change",i[10]),t.$on("input",i[11]),{c(){e=Ee("Прозрачность (%) "),M(t.$$.fragment)},l(r){e=ke(r,"Прозрачность (%) "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=100-r[0].alpha*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function Yc(i){let e,t,n,r,s;return{c(){e=Ee("Тень "),t=oe("input"),this.h()},l(o){e=ke(o,"Тень "),t=ae(o,"INPUT",{type:!0}),this.h()},h(){Q(t,"type","checkbox"),t.checked=n=i[0].shadow!==void 0},m(o,a){te(o,e,a),te(o,t,a),r||(s=[De(t,"change",i[12]),De(t,"change",i[4])],r=!0)},p(o,a){a&1&&n!==(n=o[0].shadow!==void 0)&&(t.checked=n)},d(o){o&&C(e),o&&C(t),r=!1,pt(s)}}}function ki(i){let e,t,n,r;function s(a){i[13](a)}let o={};return i[0].shadow!==void 0&&(o.value=i[0].shadow),t=new Wc({props:o}),Te.push(()=>Ce(t,"value",s)),t.$on("change",i[14]),{c(){e=oe("div"),M(t.$$.fragment)},l(a){e=ae(a,"DIV",{});var l=ce(e);L(t.$$.fragment,l),l.forEach(C)},m(a,l){te(a,e,l),O(t,e,null),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shadow,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t)}}}function Kc(i){let e,t,n,r,s,o,a,l,u,c;const f=[Zc,Vc],h=[];function m(p,$){return p[0].settings.type==="color"?0:p[0].settings.type==="pattern"?1:-1}~(e=m(i))&&(t=h[e]=f[e](i)),s=new et({props:{$$slots:{default:[Xc]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[Yc]},$$scope:{ctx:i}}});let d=i[0].shadow&&ki(i);return{c(){t&&t.c(),n=de(),r=oe("div"),M(s.$$.fragment),o=de(),M(a.$$.fragment),l=de(),d&&d.c()},l(p){t&&t.l(p),n=pe(p),r=ae(p,"DIV",{});var $=ce(r);L(s.$$.fragment,$),o=pe($),L(a.$$.fragment,$),l=pe($),d&&d.l($),$.forEach(C)},m(p,$){~e&&h[e].m(p,$),te(p,n,$),te(p,r,$),O(s,r,null),K(r,o),O(a,r,null),K(r,l),d&&d.m(r,null),c=!0},p(p,$){let g=e;e=m(p),e===g?~e&&h[e].p(p,$):(t&&(Ze(),k(h[g],1,1,()=>{h[g]=null}),Xe()),~e?(t=h[e],t?t.p(p,$):(t=h[e]=f[e](p),t.c()),y(t,1),t.m(n.parentNode,n)):t=null);const v={};$&65537&&(v.$$scope={dirty:$,ctx:p}),s.$set(v);const w={};$&65537&&(w.$$scope={dirty:$,ctx:p}),a.$set(w),p[0].shadow?d?(d.p(p,$),$&1&&y(d,1)):(d=ki(p),d.c(),y(d,1),d.m(r,null)):d&&(Ze(),k(d,1,1,()=>{d=null}),Xe())},i(p){c||(y(t),y(s.$$.fragment,p),y(a.$$.fragment,p),y(d),Vn(()=>{u||(u=Bt(r,zt,{},!0)),u.run(1)}),c=!0)},o(p){k(t),k(s.$$.fragment,p),k(a.$$.fragment,p),k(d),u||(u=Bt(r,zt,{},!1)),u.run(0),c=!1},d(p){~e&&h[e].d(p),p&&C(n),p&&C(r),G(s),G(a),d&&d.d(),p&&u&&u.end()}}}function qc(i){let e,t,n,r,s;n=new It({props:{value:i[0].settings.type,items:["disabled","color","pattern"],$$slots:{default:[jc,({item:a})=>({15:a}),({item:a})=>a?32768:0]},$$scope:{ctx:i}}}),n.$on("change",i[1]),n.$on("change",i[5]);let o=i[0].settings.type!=="disabled"&&Ei(i);return{c(){e=oe("article"),t=oe("header"),M(n.$$.fragment),r=de(),o&&o.c(),this.h()},l(a){e=ae(a,"ARTICLE",{class:!0});var l=ce(e);t=ae(l,"HEADER",{});var u=ce(t);L(n.$$.fragment,u),u.forEach(C),r=pe(l),o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-1b7lwvz")},m(a,l){te(a,e,l),K(e,t),O(n,t,null),K(e,r),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.value=a[0].settings.type),l&98304&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),a[0].settings.type!=="disabled"?o?(o.p(a,l),l&1&&y(o,1)):(o=Ei(a),o.c(),y(o,1),o.m(e,null)):o&&(Ze(),k(o,1,1,()=>{o=null}),Xe())},i(a){s||(y(n.$$.fragment,a),y(o),s=!0)},o(a){k(n.$$.fragment,a),k(o),s=!1},d(a){a&&C(e),G(n),o&&o.d()}}}function Jc(i,e,t){let{value:n}=e,{defaults:r}=e;function s(v){const w=r.find(I=>I.type===v.detail.value);if(!w)throw new Error(`Not found default value for type ${v.detail.value}`);t(0,n.settings=w,n)}const o={disabled:"Выключить",color:"Цвет",pattern:"Паттерн"};function a(v){Le.call(this,i,v)}function l(v){Le.call(this,i,v)}function u(v){i.$$.not_equal(n.settings,v)&&(n.settings=v,t(0,n))}function c(v){Le.call(this,i,v)}function f(v){i.$$.not_equal(n.settings,v)&&(n.settings=v,t(0,n))}function h(v){Le.call(this,i,v)}function m(v){Le.call(this,i,v)}const d=v=>{t(0,n.alpha=(100-v.detail)/100,n)},p=v=>{t(0,n.shadow=v.currentTarget.checked?{blur:10,color:"#000000",offset:{x:0,y:0}}:void 0,n)};function $(v){i.$$.not_equal(n.shadow,v)&&(n.shadow=v,t(0,n))}function g(v){Le.call(this,i,v)}return i.$$set=v=>{"value"in v&&t(0,n=v.value),"defaults"in v&&t(3,r=v.defaults)},[n,s,o,r,a,l,u,c,f,h,m,d,p,$,g]}class $s extends we{constructor(e){super(),ye(this,e,Jc,qc,$e,{value:0,defaults:3})}}function qt({italic:i,smallCaps:e,bold:t,family:n},r){return`${i?"italic":"normal"} ${e?"small-caps":"normal"} ${t?"bold":"normal"} ${r}px ${n}`}class Sn{constructor(e){Ie(this,"subscribers",new Set);this.value=e}update(e){this.set(e(this.value))}subscribe(e){return e(this.value),this.subscribers.add(e),()=>{this.subscribers.delete(e)}}set(e){this.value=e,this.subscribers.forEach(t=>t(e))}}function an(i){return JSON.parse(JSON.stringify(i))}const ws={case:"UPPER",align:"center",baseline:"middle",lineSpacing:-.125,fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},strokeWidth:14,experimental:{}};function Qc(i,e){return e.case=i.case,e.fill=an(i.fill),e.stroke=an(i.stroke),e.font=an(i.font),e}const ef=[{name:"TRUE IMPACT",case:"UPPER",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1}},{name:"post-ironic lobster",case:"lower",fill:{settings:{type:"color",value:"#ffffff"},alpha:1,shadow:{color:"#000000",blur:15,offset:{x:0,y:0}}},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Lobster",italic:!1,smallCaps:!1}},{name:"Arial subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Arial bold subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial bold",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}}],tf=Zn(ef),nf=Zn(["Impact","Lobster","Arial","Helvetica","Next art","Pacifico","Caveat","Comforter"]);function rf(i=document.fonts){const e=new Array;return i.forEach(t=>e.push(t.load().catch(n=>(console.warn(`Failed load font ${t.family}: ${n.message}`),t)))),Promise.all(e)}function Ai(i,e,t){const n=i.slice();return n[24]=e[t],n}function sf(i){let e,t;return e=new Hl({props:{size:16}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p:it,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function of(i){let e,t;return e=new Ha({props:{size:16}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p:it,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function af(i){let e;return{c(){e=Ee("Small Caps")},l(t){e=ke(t,"Small Caps")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function lf(i){let e,t;return e=new Ia({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function uf(i){let e,t;return e=new ba({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function cf(i){let e,t;return e=new Ea({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ff(i){let e,t,n,r;const s=[cf,uf,lf],o=[];function a(l,u){return l[23]=="left"?0:l[23]=="center"?1:l[23]=="right"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=Ye()},l(l){t&&t.l(l),n=Ye()},m(l,u){~e&&o[e].m(l,u),te(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e!==c&&(t&&(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&C(n)}}}function hf(i){let e,t;return e=new ra({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function mf(i){let e,t;return e=new la({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function df(i){let e,t;return e=new ma({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function pf(i){let e,t,n,r;const s=[df,mf,hf],o=[];function a(l,u){return l[23]=="top"?0:l[23]=="middle"?1:l[23]=="bottom"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=Ye()},l(l){t&&t.l(l),n=Ye()},m(l,u){~e&&o[e].m(l,u),te(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e!==c&&(t&&(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&C(n)}}}function _f(i){let e,t;return e=new Xl({}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Ti(i){let e,t,n,r,s,o,a;return{c(){e=oe("label"),t=oe("input"),n=de(),r=Ee(i[24]),s=de(),this.h()},l(l){e=ae(l,"LABEL",{class:!0});var u=ce(e);t=ae(u,"INPUT",{type:!0,style:!0}),n=pe(u),r=ke(u,i[24]),s=pe(u),u.forEach(C),this.h()},h(){Q(t,"type","radio"),t.__value=i[24],t.value=t.__value,yt(t,"display","none"),i[18][0].push(t),Q(e,"class","svelte-ebxik1")},m(l,u){te(l,e,u),K(e,t),t.checked=t.__value===i[4],K(e,n),K(e,r),K(e,s),o||(a=De(t,"change",i[17]),o=!0)},p(l,u){u&16&&(t.checked=t.__value===l[4])},d(l){l&&C(e),i[18][0].splice(i[18][0].indexOf(t),1),o=!1,a()}}}function gf(i){let e,t,n,r,s;function o(c){i[16](c)}let a={min:-1,step:.125};i[4]!==void 0&&(a.value=i[4]),t=new _t({props:a}),Te.push(()=>Ce(t,"value",o));let l=[0,.5,1,1.25],u=[];for(let c=0;c<4;c+=1)u[c]=Ti(Ai(i,l,c));return{c(){e=oe("section"),M(t.$$.fragment),r=de();for(let c=0;c<4;c+=1)u[c].c();this.h()},l(c){e=ae(c,"SECTION",{slot:!0,class:!0});var f=ce(e);L(t.$$.fragment,f),r=pe(f);for(let h=0;h<4;h+=1)u[h].l(f);f.forEach(C),this.h()},h(){Q(e,"slot","content"),Q(e,"class","spacing-values svelte-ebxik1")},m(c,f){te(c,e,f),O(t,e,null),K(e,r);for(let h=0;h<4;h+=1)u[h].m(e,null);s=!0},p(c,f){const h={};if(!n&&f&16&&(n=!0,h.value=c[4],Re(()=>n=!1)),t.$set(h),f&16){l=[0,.5,1,1.25];let m;for(m=0;m<4;m+=1){const d=Ai(c,l,m);u[m]?u[m].p(d,f):(u[m]=Ti(d),u[m].c(),u[m].m(e,null))}for(;m<4;m+=1)u[m].d(1)}},i(c){s||(y(t.$$.fragment,c),s=!0)},o(c){k(t.$$.fragment,c),s=!1},d(c){c&&C(e),G(t),gn(u,c)}}}function bf(i){let e,t=i[23]+"",n;return{c(){e=oe("section"),n=Ee(t),this.h()},l(r){e=ae(r,"SECTION",{style:!0});var s=ce(e);n=ke(s,t),s.forEach(C),this.h()},h(){yt(e,"font-family",i[23])},m(r,s){te(r,e,s),K(e,n)},p(r,s){s&8388608&&t!==(t=r[23]+"")&&ft(n,t),s&8388608&&yt(e,"font-family",r[23])},d(r){r&&C(e)}}}function vf(i){let e=i[23]+"",t;return{c(){t=Ee(e)},l(n){t=ke(n,e)},m(n,r){te(n,t,r)},p(n,r){r&8388608&&e!==(e=n[23]+"")&&ft(t,e)},d(n){n&&C(t)}}}function $f(i){let e,t,n,r,s,o,a,l,u,c,f,h,m,d,p,$,g,v,w,I,S,P,R,W;function D(Z){i[6](Z)}let x={$$slots:{default:[sf]},$$scope:{ctx:i}};i[0].italic!==void 0&&(x.value=i[0].italic),t=new Un({props:x}),Te.push(()=>Ce(t,"value",D)),t.$on("change",i[7]);function X(Z){i[8](Z)}let T={$$slots:{default:[of]},$$scope:{ctx:i}};i[0].bold!==void 0&&(T.value=i[0].bold),s=new Un({props:T}),Te.push(()=>Ce(s,"value",X)),s.$on("change",i[9]);function F(Z){i[10](Z)}let b={$$slots:{default:[af]},$$scope:{ctx:i}};i[0].smallCaps!==void 0&&(b.value=i[0].smallCaps),l=new Un({props:b}),Te.push(()=>Ce(l,"value",F)),l.$on("change",i[11]);function V(Z){i[12](Z)}let me={items:["left","center","right"],$$slots:{default:[ff,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[2]!==void 0&&(me.value=i[2]),f=new It({props:me}),Te.push(()=>Ce(f,"value",V)),f.$on("change",i[13]);function Y(Z){i[14](Z)}let se={items:["top","middle","bottom"],$$slots:{default:[pf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[3]!==void 0&&(se.value=i[3]),d=new It({props:se}),Te.push(()=>Ce(d,"value",Y)),d.$on("change",i[15]),g=new vs({props:{css:{height:"48px",main:"min-width:100px",width:"100%"},$$slots:{content:[gf],header:[_f]},$$scope:{ctx:i}}});function J(Z){i[19](Z)}let _e={items:i[5],$$slots:{default:[bf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};i[0].family!==void 0&&(_e.value=i[0].family),w=new It({props:_e}),Te.push(()=>Ce(w,"value",J)),w.$on("change",i[20]);function U(Z){i[21](Z)}let B={items:["As is","UPPER","lower"],$$slots:{default:[vf,({item:Z})=>({23:Z}),({item:Z})=>Z?8388608:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(B.value=i[1]),P=new It({props:B}),Te.push(()=>Ce(P,"value",U)),P.$on("change",i[22]),{c(){e=oe("article"),M(t.$$.fragment),r=de(),M(s.$$.fragment),a=de(),M(l.$$.fragment),c=de(),M(f.$$.fragment),m=de(),M(d.$$.fragment),$=de(),M(g.$$.fragment),v=de(),M(w.$$.fragment),S=de(),M(P.$$.fragment),this.h()},l(Z){e=ae(Z,"ARTICLE",{class:!0});var q=ce(e);L(t.$$.fragment,q),r=pe(q),L(s.$$.fragment,q),a=pe(q),L(l.$$.fragment,q),c=pe(q),L(f.$$.fragment,q),m=pe(q),L(d.$$.fragment,q),$=pe(q),L(g.$$.fragment,q),v=pe(q),L(w.$$.fragment,q),S=pe(q),L(P.$$.fragment,q),q.forEach(C),this.h()},h(){Q(e,"class","svelte-ebxik1")},m(Z,q){te(Z,e,q),O(t,e,null),K(e,r),O(s,e,null),K(e,a),O(l,e,null),K(e,c),O(f,e,null),K(e,m),O(d,e,null),K(e,$),O(g,e,null),K(e,v),O(w,e,null),K(e,S),O(P,e,null),W=!0},p(Z,[q]){const z={};q&134217728&&(z.$$scope={dirty:q,ctx:Z}),!n&&q&1&&(n=!0,z.value=Z[0].italic,Re(()=>n=!1)),t.$set(z);const ee={};q&134217728&&(ee.$$scope={dirty:q,ctx:Z}),!o&&q&1&&(o=!0,ee.value=Z[0].bold,Re(()=>o=!1)),s.$set(ee);const ze={};q&134217728&&(ze.$$scope={dirty:q,ctx:Z}),!u&&q&1&&(u=!0,ze.value=Z[0].smallCaps,Re(()=>u=!1)),l.$set(ze);const Se={};q&142606336&&(Se.$$scope={dirty:q,ctx:Z}),!h&&q&4&&(h=!0,Se.value=Z[2],Re(()=>h=!1)),f.$set(Se);const Ue={};q&142606336&&(Ue.$$scope={dirty:q,ctx:Z}),!p&&q&8&&(p=!0,Ue.value=Z[3],Re(()=>p=!1)),d.$set(Ue);const Be={};q&134217744&&(Be.$$scope={dirty:q,ctx:Z}),g.$set(Be);const Oe={};q&32&&(Oe.items=Z[5]),q&142606336&&(Oe.$$scope={dirty:q,ctx:Z}),!I&&q&1&&(I=!0,Oe.value=Z[0].family,Re(()=>I=!1)),w.$set(Oe);const rt={};q&142606336&&(rt.$$scope={dirty:q,ctx:Z}),!R&&q&2&&(R=!0,rt.value=Z[1],Re(()=>R=!1)),P.$set(rt)},i(Z){W||(y(t.$$.fragment,Z),y(s.$$.fragment,Z),y(l.$$.fragment,Z),y(f.$$.fragment,Z),y(d.$$.fragment,Z),y(g.$$.fragment,Z),y(w.$$.fragment,Z),y(P.$$.fragment,Z),W=!0)},o(Z){k(t.$$.fragment,Z),k(s.$$.fragment,Z),k(l.$$.fragment,Z),k(f.$$.fragment,Z),k(d.$$.fragment,Z),k(g.$$.fragment,Z),k(w.$$.fragment,Z),k(P.$$.fragment,Z),W=!1},d(Z){Z&&C(e),G(t),G(s),G(l),G(f),G(d),G(g),G(w),G(P)}}}function wf(i,e,t){let n;St(i,nf,x=>t(5,n=x));let{font:r}=e,{textCase:s}=e,{align:o}=e,{baseline:a}=e,{spacing:l}=e;const u=[[]];function c(x){i.$$.not_equal(r.italic,x)&&(r.italic=x,t(0,r))}function f(x){Le.call(this,i,x)}function h(x){i.$$.not_equal(r.bold,x)&&(r.bold=x,t(0,r))}function m(x){Le.call(this,i,x)}function d(x){i.$$.not_equal(r.smallCaps,x)&&(r.smallCaps=x,t(0,r))}function p(x){Le.call(this,i,x)}function $(x){o=x,t(2,o)}function g(x){Le.call(this,i,x)}function v(x){a=x,t(3,a)}function w(x){Le.call(this,i,x)}function I(x){l=x,t(4,l)}function S(){l=this.__value,t(4,l)}function P(x){i.$$.not_equal(r.family,x)&&(r.family=x,t(0,r))}function R(x){Le.call(this,i,x)}function W(x){s=x,t(1,s)}function D(x){Le.call(this,i,x)}return i.$$set=x=>{"font"in x&&t(0,r=x.font),"textCase"in x&&t(1,s=x.textCase),"align"in x&&t(2,o=x.align),"baseline"in x&&t(3,a=x.baseline),"spacing"in x&&t(4,l=x.spacing)},[r,s,o,a,l,n,c,f,h,m,d,p,$,g,v,w,I,S,u,P,R,W,D]}class yf extends we{constructor(e){super(),ye(this,e,wf,$f,$e,{font:0,textCase:1,align:2,baseline:3,spacing:4})}}function Ef(i){let e,t=i[25].name+"",n;return{c(){e=oe("div"),n=Ee(t)},l(r){e=ae(r,"DIV",{});var s=ce(e);n=ke(s,t),s.forEach(C)},m(r,s){te(r,e,s),K(e,n)},p(r,s){s&33554432&&t!==(t=r[25].name+"")&&ft(n,t)},d(r){r&&C(e)}}}function kf(i){let e,t=i[25].name+"",n;return{c(){e=oe("div"),n=Ee(t),this.h()},l(r){e=ae(r,"DIV",{style:!0});var s=ce(e);n=ke(s,t),s.forEach(C),this.h()},h(){yt(e,"font",qt(i[25].preset.font,16))},m(r,s){te(r,e,s),K(e,n)},p(r,s){s&33554432&&t!==(t=r[25].name+"")&&ft(n,t),s&33554432&&yt(e,"font",qt(r[25].preset.font,16))},d(r){r&&C(e)}}}function Af(i){let e;function t(s,o){return s[25].preset?kf:Ef}let n=t(i),r=n(i);return{c(){r.c(),e=Ye()},l(s){r.l(s),e=Ye()},m(s,o){r.m(s,o),te(s,e,o)},p(s,o){n===(n=t(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&C(e)}}}function Tf(i){let e,t,n;return t=new hc({props:{size:24,name:i[24].icon,atlasDescription:lc,atlasURL:uc}}),{c(){e=oe("div"),M(t.$$.fragment),this.h()},l(r){e=ae(r,"DIV",{class:!0});var s=ce(e);L(t.$$.fragment,s),s.forEach(C),this.h()},h(){Q(e,"class","icon")},m(r,s){te(r,e,s),O(t,e,null),n=!0},p(r,s){const o={};s&16777216&&(o.name=r[24].icon),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t)}}}function Sf(i){let e,t,n,r,s;e=new et({props:{$$slots:{default:[Cf]},$$scope:{ctx:i}}});function o(l){i[21](l)}let a={defaults:[{type:"disabled"},{type:"color",value:"#000000"},{type:"pattern",name:"fire",rotate:0,scale:"font",shift:{x:0,y:0}}]};return i[0].stroke!==void 0&&(a.value=i[0].stroke),n=new $s({props:a}),Te.push(()=>Ce(n,"value",o)),n.$on("change",i[22]),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment)},l(l){L(e.$$.fragment,l),t=pe(l),L(n.$$.fragment,l)},m(l,u){O(e,l,u),te(l,t,u),O(n,l,u),s=!0},p(l,u){const c={};u&67108865&&(c.$$scope={dirty:u,ctx:l}),e.$set(c);const f={};!r&&u&1&&(r=!0,f.value=l[0].stroke,Re(()=>r=!1)),n.$set(f)},i(l){s||(y(e.$$.fragment,l),y(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){G(e,l),l&&C(t),G(n,l)}}}function If(i){let e,t,n;function r(o){i[18](o)}let s={defaults:[{type:"disabled"},{type:"color",value:"#ffffff"},{type:"pattern",name:"fire",rotate:0,scale:"font",shift:{x:0,y:0}}]};return i[0].fill!==void 0&&(s.value=i[0].fill),e=new $s({props:s}),Te.push(()=>Ce(e,"value",r)),e.$on("change",i[19]),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].fill,Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Cf(i){let e,t,n,r;function s(a){i[20](a)}let o={min:0};return i[0].strokeWidth!==void 0&&(o.value=i[0].strokeWidth),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ee(`Толщина обводки (%)
					`),M(t.$$.fragment)},l(a){e=ke(a,`Толщина обводки (%)
					`),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].strokeWidth,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function Rf(i){let e,t,n,r;const s=[If,Sf],o=[];function a(l,u){return l[24].label==="Заливка"?0:l[24].label==="Обводка"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=oe("div"),n&&n.c(),this.h()},l(l){e=ae(l,"DIV",{slot:!0});var u=ce(e);n&&n.l(u),u.forEach(C),this.h()},h(){Q(e,"slot","content")},m(l,u){te(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let c=t;t=a(l),t===c?~t&&o[t].p(l,u):(n&&(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),y(n,1),n.m(e,null)):n=null)},i(l){r||(y(n),r=!0)},o(l){k(n),r=!1},d(l){l&&C(e),~t&&o[t].d()}}}function Ff(i){let e,t,n,r,s,o,a,l,u,c,f,h,m,d,p,$,g,v;function w(F){i[9](F)}let I={placeholder:i[6],items:[i[6],...i[4].map(Si)],$$slots:{default:[Af,({item:F})=>({25:F}),({item:F})=>F?33554432:0]},$$scope:{ctx:i}};i[3]!==void 0&&(I.value=i[3]),t=new It({props:I}),Te.push(()=>Ce(t,"value",w)),t.$on("change",i[7]),t.$on("change",i[10]);function S(F){i[11](F)}function P(F){i[12](F)}function R(F){i[13](F)}function W(F){i[14](F)}function D(F){i[15](F)}let x={};i[0].font!==void 0&&(x.font=i[0].font),i[0].case!==void 0&&(x.textCase=i[0].case),i[0].align!==void 0&&(x.align=i[0].align),i[0].baseline!==void 0&&(x.baseline=i[0].baseline),i[0].lineSpacing!==void 0&&(x.spacing=i[0].lineSpacing),s=new yf({props:x}),Te.push(()=>Ce(s,"font",S)),Te.push(()=>Ce(s,"textCase",P)),Te.push(()=>Ce(s,"align",R)),Te.push(()=>Ce(s,"baseline",W)),Te.push(()=>Ce(s,"spacing",D)),s.$on("change",i[16]);function X(F){i[23](F)}let T={tabs:i[5],$$slots:{content:[Rf,({tab:F})=>({24:F}),({tab:F})=>F?16777216:0],default:[Tf,({tab:F})=>({24:F}),({tab:F})=>F?16777216:0]},$$scope:{ctx:i}};return i[2]!==void 0&&(T.activeTab=i[2]),d=new gs({props:T}),Te.push(()=>Ce(d,"activeTab",X)),{c(){e=oe("article"),M(t.$$.fragment),r=de(),M(s.$$.fragment),f=de(),h=oe("textarea"),m=de(),M(d.$$.fragment),this.h()},l(F){e=ae(F,"ARTICLE",{});var b=ce(e);L(t.$$.fragment,b),r=pe(b),L(s.$$.fragment,b),f=pe(b),h=ae(b,"TEXTAREA",{style:!0,rows:!0,class:!0}),ce(h).forEach(C),m=pe(b),L(d.$$.fragment,b),b.forEach(C),this.h()},h(){yt(h,"width","100%"),Q(h,"rows","6"),Q(h,"class","svelte-1fuxbeo")},m(F,b){te(F,e,b),O(t,e,null),K(e,r),O(s,e,null),K(e,f),K(e,h),ln(h,i[1]),K(e,m),O(d,e,null),$=!0,g||(v=[De(h,"input",i[17]),De(h,"change",i[8])],g=!0)},p(F,[b]){const V={};b&16&&(V.items=[F[6],...F[4].map(Si)]),b&100663296&&(V.$$scope={dirty:b,ctx:F}),!n&&b&8&&(n=!0,V.value=F[3],Re(()=>n=!1)),t.$set(V);const me={};!o&&b&1&&(o=!0,me.font=F[0].font,Re(()=>o=!1)),!a&&b&1&&(a=!0,me.textCase=F[0].case,Re(()=>a=!1)),!l&&b&1&&(l=!0,me.align=F[0].align,Re(()=>l=!1)),!u&&b&1&&(u=!0,me.baseline=F[0].baseline,Re(()=>u=!1)),!c&&b&1&&(c=!0,me.spacing=F[0].lineSpacing,Re(()=>c=!1)),s.$set(me),b&2&&ln(h,F[1]);const Y={};b&83886081&&(Y.$$scope={dirty:b,ctx:F}),!p&&b&4&&(p=!0,Y.activeTab=F[2],Re(()=>p=!1)),d.$set(Y)},i(F){$||(y(t.$$.fragment,F),y(s.$$.fragment,F),y(d.$$.fragment,F),$=!0)},o(F){k(t.$$.fragment,F),k(s.$$.fragment,F),k(d.$$.fragment,F),$=!1},d(F){F&&C(e),G(t),G(s),G(d),g=!1,pt(v)}}}const Si=i=>({name:i.name,preset:i});function xf(i,e,t){let n;St(i,tf,X=>t(4,n=X));let{style:r}=e,{text:s}=e,o=[{icon:"fill",label:"Заливка"},{icon:"stroke",label:"Обводка"}],a=o[0];const l={name:"Выбрать пресет...",preset:null};let u=l;function c(X){const T=X.detail.value.preset;T&&(t(0,r=Qc(T,r)),t(3,u=l))}function f(X){Le.call(this,i,X)}function h(X){u=X,t(3,u)}function m(X){Le.call(this,i,X)}function d(X){i.$$.not_equal(r.font,X)&&(r.font=X,t(0,r))}function p(X){i.$$.not_equal(r.case,X)&&(r.case=X,t(0,r))}function $(X){i.$$.not_equal(r.align,X)&&(r.align=X,t(0,r))}function g(X){i.$$.not_equal(r.baseline,X)&&(r.baseline=X,t(0,r))}function v(X){i.$$.not_equal(r.lineSpacing,X)&&(r.lineSpacing=X,t(0,r))}function w(X){Le.call(this,i,X)}function I(){s=this.value,t(1,s)}function S(X){i.$$.not_equal(r.fill,X)&&(r.fill=X,t(0,r))}function P(X){Le.call(this,i,X)}function R(X){i.$$.not_equal(r.strokeWidth,X)&&(r.strokeWidth=X,t(0,r))}function W(X){i.$$.not_equal(r.stroke,X)&&(r.stroke=X,t(0,r))}function D(X){Le.call(this,i,X)}function x(X){a=X,t(2,a)}return i.$$set=X=>{"style"in X&&t(0,r=X.style),"text"in X&&t(1,s=X.text)},[r,s,a,u,n,o,l,c,f,h,m,d,p,$,g,v,w,I,S,P,R,W,D,x]}class Nf extends we{constructor(e){super(),ye(this,e,xf,Ff,$e,{style:0,text:1})}}function Pf(i){let e,t,n,r;function s(l){i[1](l)}function o(l){i[2](l)}let a={};return i[0].text!==void 0&&(a.text=i[0].text),i[0].style!==void 0&&(a.style=i[0].style),e=new Nf({props:a}),Te.push(()=>Ce(e,"text",s)),Te.push(()=>Ce(e,"style",o)),e.$on("change",i[3]),{c(){M(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,u){O(e,l,u),r=!0},p(l,[u]){const c={};!t&&u&1&&(t=!0,c.text=l[0].text,Re(()=>t=!1)),!n&&u&1&&(n=!0,c.style=l[0].style,Re(()=>n=!1)),e.$set(c)},i(l){r||(y(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){G(e,l)}}}function Bf(i,e,t){let{content:n}=e;function r(a){i.$$.not_equal(n.text,a)&&(n.text=a,t(0,n))}function s(a){i.$$.not_equal(n.style,a)&&(n.style=a,t(0,n))}function o(a){Le.call(this,i,a)}return i.$$set=a=>{"content"in a&&t(0,n=a.content)},[n,r,s,o]}class zf extends we{constructor(e){super(),ye(this,e,Bf,Pf,$e,{content:0})}}function Uf(i){let e,t,n,r=i[0].text+"",s,o,a;const l=i[2].default,u=Fe(l,i,i[1],null);return{c(){e=oe("article"),t=oe("main"),n=oe("div"),s=Ee(r),o=de(),u&&u.c(),this.h()},l(c){e=ae(c,"ARTICLE",{class:!0});var f=ce(e);t=ae(f,"MAIN",{style:!0,class:!0});var h=ce(t);n=ae(h,"DIV",{class:!0});var m=ce(n);s=ke(m,r),m.forEach(C),h.forEach(C),o=pe(f),u&&u.l(f),f.forEach(C),this.h()},h(){Q(n,"class","svelte-nwe19k"),yt(t,"font",qt(i[0].style.font,16)),Q(t,"class","svelte-nwe19k"),Q(e,"class","svelte-nwe19k")},m(c,f){te(c,e,f),K(e,t),K(t,n),K(n,s),K(e,o),u&&u.m(e,null),a=!0},p(c,[f]){(!a||f&1)&&r!==(r=c[0].text+"")&&ft(s,r),(!a||f&1)&&yt(t,"font",qt(c[0].style.font,16)),u&&u.p&&(!a||f&2)&&xe(u,l,c,c[1],a?Pe(l,c[1],f,null):Ne(c[1]),null)},i(c){a||(y(u,c),a=!0)},o(c){k(u,c),a=!1},d(c){c&&C(e),u&&u.d(c)}}}function Df(i,e,t){let{$$slots:n={},$$scope:r}=e,{content:s}=e;return i.$$set=o=>{"content"in o&&t(0,s=o.content),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class ys extends we{constructor(e){super(),ye(this,e,Df,Uf,$e,{content:0})}}function Ii(i){let e,t,n,r,s;return t=new Nu({props:{size:Yn}}),{c(){e=oe("button"),M(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);L(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","danger svelte-1m62gt5")},m(o,a){te(o,e,a),O(t,e,null),n=!0,r||(s=De(e,"click",i[4]("remove")),r=!0)},p:it,i(o){n||(y(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&C(e),G(t),r=!1,s()}}}function Ci(i){let e,t,n,r,s;return t=new bs({props:{size:Yn}}),{c(){e=oe("button"),M(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);L(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){te(o,e,a),O(t,e,null),n=!0,r||(s=De(e,"click",i[4]("copy")),r=!0)},p:it,i(o){n||(y(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&C(e),G(t),r=!1,s()}}}function Ri(i){let e,t,n,r,s;return t=new Da({props:{size:Yn}}),{c(){e=oe("button"),M(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);L(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){te(o,e,a),O(t,e,null),n=!0,r||(s=De(e,"click",i[4]("up")),r=!0)},p:it,i(o){n||(y(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&C(e),G(t),r=!1,s()}}}function Fi(i){let e,t,n,r,s;return t=new Na({props:{size:Yn}}),{c(){e=oe("button"),M(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);L(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(o,a){te(o,e,a),O(t,e,null),n=!0,r||(s=De(e,"click",i[4]("down")),r=!0)},p:it,i(o){n||(y(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&C(e),G(t),r=!1,s()}}}function Mf(i){let e,t,n,r,s,o,a=i[3]&&Ii(i),l=i[2]&&Ci(i),u=i[0]&&Ri(i),c=i[1]&&Fi(i);const f=i[7].default,h=Fe(f,i,i[6],null);return{c(){e=oe("footer"),a&&a.c(),t=de(),l&&l.c(),n=de(),u&&u.c(),r=de(),c&&c.c(),s=de(),h&&h.c(),this.h()},l(m){e=ae(m,"FOOTER",{class:!0});var d=ce(e);a&&a.l(d),t=pe(d),l&&l.l(d),n=pe(d),u&&u.l(d),r=pe(d),c&&c.l(d),s=pe(d),h&&h.l(d),d.forEach(C),this.h()},h(){Q(e,"class","svelte-1m62gt5")},m(m,d){te(m,e,d),a&&a.m(e,null),K(e,t),l&&l.m(e,null),K(e,n),u&&u.m(e,null),K(e,r),c&&c.m(e,null),K(e,s),h&&h.m(e,null),o=!0},p(m,[d]){m[3]?a?(a.p(m,d),d&8&&y(a,1)):(a=Ii(m),a.c(),y(a,1),a.m(e,t)):a&&(Ze(),k(a,1,1,()=>{a=null}),Xe()),m[2]?l?(l.p(m,d),d&4&&y(l,1)):(l=Ci(m),l.c(),y(l,1),l.m(e,n)):l&&(Ze(),k(l,1,1,()=>{l=null}),Xe()),m[0]?u?(u.p(m,d),d&1&&y(u,1)):(u=Ri(m),u.c(),y(u,1),u.m(e,r)):u&&(Ze(),k(u,1,1,()=>{u=null}),Xe()),m[1]?c?(c.p(m,d),d&2&&y(c,1)):(c=Fi(m),c.c(),y(c,1),c.m(e,s)):c&&(Ze(),k(c,1,1,()=>{c=null}),Xe()),h&&h.p&&(!o||d&64)&&xe(h,f,m,m[6],o?Pe(f,m[6],d,null):Ne(m[6]),null)},i(m){o||(y(a),y(l),y(u),y(c),y(h,m),o=!0)},o(m){k(a),k(l),k(u),k(c),k(h,m),o=!1},d(m){m&&C(e),a&&a.d(),l&&l.d(),u&&u.d(),c&&c.d(),h&&h.d(m)}}}const Yn=16;function Lf(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{up:o=!1}=e,{down:a=!1}=e,{copy:l=!1}=e,{remove:u=!1}=e;const c=Mt();function f(h){return m=>{m.preventDefault(),m.stopPropagation(),c(h,s)}}return i.$$set=h=>{"value"in h&&t(5,s=h.value),"up"in h&&t(0,o=h.up),"down"in h&&t(1,a=h.down),"copy"in h&&t(2,l=h.copy),"remove"in h&&t(3,u=h.remove),"$$scope"in h&&t(6,r=h.$$scope)},[o,a,l,u,f,s,r,n]}class Es extends we{constructor(e){super(),ye(this,e,Lf,Mf,$e,{value:5,up:0,down:1,copy:2,remove:3})}}function Of(i){let e,t,n=i[0]+1+"",r,s,o,a,l;const u=i[4].default,c=Fe(u,i,i[3],null);return{c(){e=oe("article"),t=oe("header"),r=Ee(n),s=de(),o=oe("canvas"),a=de(),c&&c.c(),this.h()},l(f){e=ae(f,"ARTICLE",{class:!0});var h=ce(e);t=ae(h,"HEADER",{class:!0});var m=ce(t);r=ke(m,n),m.forEach(C),s=pe(h),o=ae(h,"CANVAS",{class:!0}),ce(o).forEach(C),a=pe(h),c&&c.l(h),h.forEach(C),this.h()},h(){Q(t,"class","svelte-awjzj9"),Q(o,"class","svelte-awjzj9"),Q(e,"class","svelte-awjzj9")},m(f,h){te(f,e,h),K(e,t),K(t,r),K(e,s),K(e,o),i[5](o),K(e,a),c&&c.m(e,null),l=!0},p(f,[h]){(!l||h&1)&&n!==(n=f[0]+1+"")&&ft(r,n),c&&c.p&&(!l||h&8)&&xe(c,u,f,f[3],l?Pe(u,f[3],h,null):Ne(f[3]),null)},i(f){l||(y(c,f),l=!0)},o(f){k(c,f),l=!1},d(f){f&&C(e),i[5](null),c&&c.d(f)}}}function Gf(i,e,t){let{$$slots:n={},$$scope:r}=e,s,o,{index:a}=e;const l=c=>{const f=s.clientWidth,m=f/c.width*c.height|0;s.width!=f&&t(1,s.width=f,s),s.height!=m&&t(1,s.height=m,s),o.drawImage(c,0,0,f,m)};wn(()=>{o=s.getContext("2d")});function u(c){Te[c?"unshift":"push"](()=>{s=c,t(1,s)})}return i.$$set=c=>{"index"in c&&t(0,a=c.index),"$$scope"in c&&t(3,r=c.$$scope)},[a,s,l,r,n,u]}class Hf extends we{constructor(e){super(),ye(this,e,Gf,Of,$e,{index:0,updatePreview:2})}get updatePreview(){return this.$$.ctx[2]}}function Wf(i){let e;return{c(){e=Ee("Что-то пошло не так...")},l(t){e=ke(t,"Что-то пошло не так...")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function jf(i){let e;return{c(){e=Ee("Прямоугольник")},l(t){e=ke(t,"Прямоугольник")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function Vf(i){let e;return{c(){e=Ee("Глобальный")},l(t){e=ke(t,"Глобальный")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function Zf(i){let e;function t(s,o){return s[12]=="global"?Vf:s[12]=="rectangle"?jf:Wf}let n=t(i),r=n(i);return{c(){r.c(),e=Ye()},l(s){r.l(s),e=Ye()},m(s,o){r.m(s,o),te(s,e,o)},p(s,o){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&C(e)}}}function Xf(i){let e,t;return e=new Lt({props:{$$slots:{default:[Qf]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Yf(i){let e,t;return e=new Lt({props:{$$slots:{default:[ih]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8193&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Kf(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.maxWidth*100}}),t.$on("change",i[9]),{c(){e=Ee("Максимальная ширина (%): "),M(t.$$.fragment)},l(r){e=ke(r,"Максимальная ширина (%): "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxWidth*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function qf(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.maxHeight*100}}),t.$on("change",i[10]),{c(){e=Ee("Максимальная высота (%): "),M(t.$$.fragment)},l(r){e=ke(r,"Максимальная высота (%): "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxHeight*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function Jf(i){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:i[0].value.minHeight*100}}),t.$on("change",i[11]),{c(){e=Ee("Минимальная высота (%): "),M(t.$$.fragment)},l(r){e=ke(r,"Минимальная высота (%): "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.minHeight*100),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function Qf(i){let e,t,n,r,s,o;return e=new et({props:{$$slots:{default:[Kf]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[qf]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[Jf]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment),r=de(),M(s.$$.fragment)},l(a){L(e.$$.fragment,a),t=pe(a),L(n.$$.fragment,a),r=pe(a),L(s.$$.fragment,a)},m(a,l){O(e,a,l),te(a,t,l),O(n,a,l),te(a,r,l),O(s,a,l),o=!0},p(a,l){const u={};l&8193&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const c={};l&8193&&(c.$$scope={dirty:l,ctx:a}),n.$set(c);const f={};l&8193&&(f.$$scope={dirty:l,ctx:a}),s.$set(f)},i(a){o||(y(e.$$.fragment,a),y(n.$$.fragment,a),y(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){G(e,a),a&&C(t),G(n,a),a&&C(r),G(s,a)}}}function eh(i){let e,t,n,r;function s(a){i[5](a)}let o={};return i[0].value.position!==void 0&&(o.value=i[0].value.position),t=new Xn({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ee("Позиция "),M(t.$$.fragment)},l(a){e=ke(a,"Позиция "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.position,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function th(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].value.width!==void 0&&(o.value=i[0].value.width),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ee("Ширина "),M(t.$$.fragment)},l(a){e=ke(a,"Ширина "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.width,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function nh(i){let e,t,n,r;function s(a){i[7](a)}let o={};return i[0].value.height!==void 0&&(o.value=i[0].value.height),t=new _t({props:o}),Te.push(()=>Ce(t,"value",s)),{c(){e=Ee("Высота "),M(t.$$.fragment)},l(a){e=ke(a,"Высота "),L(t.$$.fragment,a)},m(a,l){te(a,e,l),O(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.height,Re(()=>n=!1)),t.$set(u)},i(a){r||(y(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&C(e),G(t,a)}}}function rh(i){let e,t,n;return t=new _t({props:{step:1,value:Math.round(i[0].value.rotation/Math.PI*180)}}),t.$on("change",i[8]),{c(){e=Ee("Поворот "),M(t.$$.fragment)},l(r){e=ke(r,"Поворот "),L(t.$$.fragment,r)},m(r,s){te(r,e,s),O(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=Math.round(r[0].value.rotation/Math.PI*180)),t.$set(o)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&C(e),G(t,r)}}}function ih(i){let e,t,n,r,s,o,a,l;return e=new et({props:{$$slots:{default:[eh]},$$scope:{ctx:i}}}),n=new et({props:{$$slots:{default:[th]},$$scope:{ctx:i}}}),s=new et({props:{$$slots:{default:[nh]},$$scope:{ctx:i}}}),a=new et({props:{$$slots:{default:[rh]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment),r=de(),M(s.$$.fragment),o=de(),M(a.$$.fragment)},l(u){L(e.$$.fragment,u),t=pe(u),L(n.$$.fragment,u),r=pe(u),L(s.$$.fragment,u),o=pe(u),L(a.$$.fragment,u)},m(u,c){O(e,u,c),te(u,t,c),O(n,u,c),te(u,r,c),O(s,u,c),te(u,o,c),O(a,u,c),l=!0},p(u,c){const f={};c&8193&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const h={};c&8193&&(h.$$scope={dirty:c,ctx:u}),n.$set(h);const m={};c&8193&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const d={};c&8193&&(d.$$scope={dirty:c,ctx:u}),a.$set(d)},i(u){l||(y(e.$$.fragment,u),y(n.$$.fragment,u),y(s.$$.fragment,u),y(a.$$.fragment,u),l=!0)},o(u){k(e.$$.fragment,u),k(n.$$.fragment,u),k(s.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){G(e,u),u&&C(t),G(n,u),u&&C(r),G(s,u),u&&C(o),G(a,u)}}}function sh(i){let e,t,n,r,s,o;t=new It({props:{value:i[0].type,items:["global","rectangle"],$$slots:{default:[Zf,({item:c})=>({12:c}),({item:c})=>c?4096:0]},$$scope:{ctx:i}}}),t.$on("change",i[4]);const a=[Yf,Xf],l=[];function u(c,f){return c[0].type=="rectangle"?0:c[0].type=="global"?1:-1}return~(r=u(i))&&(s=l[r]=a[r](i)),{c(){e=oe("article"),M(t.$$.fragment),n=de(),s&&s.c()},l(c){e=ae(c,"ARTICLE",{});var f=ce(e);L(t.$$.fragment,f),n=pe(f),s&&s.l(f),f.forEach(C)},m(c,f){te(c,e,f),O(t,e,null),K(e,n),~r&&l[r].m(e,null),o=!0},p(c,[f]){const h={};f&1&&(h.value=c[0].type),f&12288&&(h.$$scope={dirty:f,ctx:c}),t.$set(h);let m=r;r=u(c),r===m?~r&&l[r].p(c,f):(s&&(Ze(),k(l[m],1,1,()=>{l[m]=null}),Xe()),~r?(s=l[r],s?s.p(c,f):(s=l[r]=a[r](c),s.c()),y(s,1),s.m(e,null)):s=null)},i(c){o||(y(t.$$.fragment,c),y(s),o=!0)},o(c){k(t.$$.fragment,c),k(s),o=!1},d(c){c&&C(e),G(t),~r&&l[r].d()}}}function oh(i,e,t){let{container:n}=e,{frameWidth:r}=e,{frameHeight:s}=e;function o(p){if(p=="global"){t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n);return}t(0,n.value={width:r/2,height:s/2,position:{x:r/2,y:s/2},rotation:0},n),t(0,n.type="rectangle",n)}const a=p=>o(p.detail.value);function l(p){i.$$.not_equal(n.value.position,p)&&(n.value.position=p,t(0,n))}function u(p){i.$$.not_equal(n.value.width,p)&&(n.value.width=p,t(0,n))}function c(p){i.$$.not_equal(n.value.height,p)&&(n.value.height=p,t(0,n))}const f=p=>{n.type==="rectangle"&&t(0,n.value.rotation=p.detail%360/180*Math.PI,n)},h=p=>{n.type==="global"&&t(0,n.value.maxWidth=p.detail/100,n)},m=p=>{n.type==="global"&&t(0,n.value.maxHeight=p.detail/100,n)},d=p=>{n.type==="global"&&t(0,n.value.minHeight=p.detail/100,n)};return i.$$set=p=>{"container"in p&&t(0,n=p.container),"frameWidth"in p&&t(2,r=p.frameWidth),"frameHeight"in p&&t(3,s=p.frameHeight)},[n,o,r,s,a,l,u,c,f,h,m,d]}class ah extends we{constructor(e){super(),ye(this,e,oh,sh,$e,{container:0,frameWidth:2,frameHeight:3})}}function lh(i){let e;return{c(){e=Ee("Выбрать файл...")},l(t){e=ke(t,"Выбрать файл...")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function uh(i){let e,t,n,r,s,o,a;const l=i[5].default,u=Fe(l,i,i[4],null),c=u||lh();return{c(){e=oe("label"),c&&c.c(),t=de(),n=oe("input"),this.h()},l(f){e=ae(f,"LABEL",{class:!0});var h=ce(e);c&&c.l(h),t=pe(h),n=ae(h,"INPUT",{accept:!0,type:!0,class:!0}),h.forEach(C),this.h()},h(){Q(n,"accept",i[0]),Q(n,"type","file"),Q(n,"class","svelte-187m8cr"),Q(e,"class",r=Jr(i[2])+" svelte-187m8cr")},m(f,h){te(f,e,h),c&&c.m(e,null),K(e,t),K(e,n),s=!0,o||(a=De(n,"change",i[6]),o=!0)},p(f,[h]){u&&u.p&&(!s||h&16)&&xe(u,l,f,f[4],s?Pe(l,f[4],h,null):Ne(f[4]),null),(!s||h&1)&&Q(n,"accept",f[0]),(!s||h&4&&r!==(r=Jr(f[2])+" svelte-187m8cr"))&&Q(e,"class",r)},i(f){s||(y(c,f),s=!0)},o(f){k(c,f),s=!1},d(f){f&&C(e),c&&c.d(f),o=!1,a()}}}function ch(i,e,t){let{$$slots:n={},$$scope:r}=e,{accept:s=void 0}=e,{typeFilter:o=/.*/}=e,{class:a=""}=e;const l=Mt(),u=c=>{const f=c.currentTarget.files;if(!f||f.length===0)return;const h=Array.from(f).filter(m=>{var d;return(d=m.type)==null?void 0:d.match(o)});h.length!==0&&(l("change",h),c.currentTarget.value="")};return i.$$set=c=>{"accept"in c&&t(0,s=c.accept),"typeFilter"in c&&t(1,o=c.typeFilter),"class"in c&&t(2,a=c.class),"$$scope"in c&&t(4,r=c.$$scope)},[s,o,a,l,r,n,u]}class xi extends we{constructor(e){super(),ye(this,e,ch,uh,$e,{accept:0,typeFilter:1,class:2})}}function fh(i){let e=i[5]+"",t;return{c(){t=Ee(e)},l(n){t=ke(n,e)},m(n,r){te(n,t,r)},p(n,r){r&32&&e!==(e=n[5]+"")&&ft(t,e)},i:it,o:it,d(n){n&&C(t)}}}function hh(i){let e,t;return e=new Iu({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function mh(i){let e,t;return e=new Eu({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function dh(i){let e,t;return e=new Xa({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ph(i){let e,t;return e=new Qa({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function _h(i){let e,t,n,r;const s=[ph,dh,mh,hh,fh],o=[];function a(l,u){return l[5]=="Top"?0:l[5]=="Bottom"?1:l[5]=="Free"?2:l[5]=="Custom"?3:4}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=Ye()},l(l){t.l(l),n=Ye()},m(l,u){o[e].m(l,u),te(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&C(n)}}}function gh(i){let e,t;return e=new It({props:{css:{height:"32px",width:"100%",main:"flex:1;"},items:["Top","Bottom","Free","Custom"],placeholder:"Custom",value:i[0].type=="rectangle"&&i[1].baseline=="middle"?"Free":i[0].type=="global"&&i[1].baseline=="top"?"Top":i[0].type=="global"&&i[1].baseline=="bottom"?"Bottom":"Custom",$$slots:{default:[_h,({item:n})=>({5:n}),({item:n})=>n?32:0]},$$scope:{ctx:i}}}),e.$on("change",i[3]),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&3&&(s.value=n[0].type=="rectangle"&&n[1].baseline=="middle"?"Free":n[0].type=="global"&&n[1].baseline=="top"?"Top":n[0].type=="global"&&n[1].baseline=="bottom"?"Bottom":"Custom"),r&100&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function bh(i,e,t){let{container:n}=e,{style:r}=e,{frame:s}=e,{iconSize:o=16}=e;function a(l){switch(l.detail.value){case"Top":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="top",r);break}case"Bottom":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="bottom",r);break}case"Free":{t(0,n.value={width:s.width/2,height:s.height/2,position:{x:s.width/2,y:s.height/2},rotation:0},n),t(0,n.type="rectangle",n),t(1,r.baseline="middle",r);break}}}return i.$$set=l=>{"container"in l&&t(0,n=l.container),"style"in l&&t(1,r=l.style),"frame"in l&&t(4,s=l.frame),"iconSize"in l&&t(2,o=l.iconSize)},[n,r,o,a,s]}class vh extends we{constructor(e){super(),ye(this,e,bh,gh,$e,{container:0,style:1,frame:4,iconSize:2})}}const $h=i=>({}),Ni=i=>({}),wh=i=>({}),Pi=i=>({});function Bi(i){let e,t,n,r,s,o,a,l,u,c,f=i[4].title&&zi(i);const h=i[6].default,m=Fe(h,i,i[5],null);let d=i[4].footer&&Di(i);return{c(){e=oe("button"),t=de(),n=oe("div"),r=oe("article"),f&&f.c(),s=de(),o=oe("main"),m&&m.c(),a=de(),d&&d.c(),this.h()},l(p){e=ae(p,"BUTTON",{class:!0}),ce(e).forEach(C),t=pe(p),n=ae(p,"DIV",{class:!0});var $=ce(n);r=ae($,"ARTICLE",{class:!0});var g=ce(r);f&&f.l(g),s=pe(g),o=ae(g,"MAIN",{class:!0});var v=ce(o);m&&m.l(v),v.forEach(C),a=pe(g),d&&d.l(g),g.forEach(C),$.forEach(C),this.h()},h(){Q(e,"class","backdrop fixed svelte-194wwek"),Q(o,"class","svelte-194wwek"),Q(r,"class","svelte-194wwek"),Q(n,"class","container fixed svelte-194wwek")},m(p,$){te(p,e,$),te(p,t,$),te(p,n,$),K(n,r),f&&f.m(r,null),K(r,s),K(r,o),m&&m.m(o,null),K(r,a),d&&d.m(r,null),l=!0,u||(c=[De(e,"click",i[7]),De(n,"keypress",i[3])],u=!0)},p(p,$){p[4].title?f?(f.p(p,$),$&16&&y(f,1)):(f=zi(p),f.c(),y(f,1),f.m(r,s)):f&&(Ze(),k(f,1,1,()=>{f=null}),Xe()),m&&m.p&&(!l||$&32)&&xe(m,h,p,p[5],l?Pe(h,p[5],$,null):Ne(p[5]),null),p[4].footer?d?(d.p(p,$),$&16&&y(d,1)):(d=Di(p),d.c(),y(d,1),d.m(r,null)):d&&(Ze(),k(d,1,1,()=>{d=null}),Xe())},i(p){l||(y(f),y(m,p),y(d),l=!0)},o(p){k(f),k(m,p),k(d),l=!1},d(p){p&&C(e),p&&C(t),p&&C(n),f&&f.d(),m&&m.d(p),d&&d.d(),u=!1,pt(c)}}}function zi(i){let e,t,n;const r=i[6].title,s=Fe(r,i,i[5],Pi);let o=i[1]&&Ui(i);return{c(){e=oe("header"),s&&s.c(),t=de(),o&&o.c(),this.h()},l(a){e=ae(a,"HEADER",{class:!0});var l=ce(e);s&&s.l(l),t=pe(l),o&&o.l(l),l.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(a,l){te(a,e,l),s&&s.m(e,null),K(e,t),o&&o.m(e,null),n=!0},p(a,l){s&&s.p&&(!n||l&32)&&xe(s,r,a,a[5],n?Pe(r,a[5],l,wh):Ne(a[5]),Pi),a[1]?o?(o.p(a,l),l&2&&y(o,1)):(o=Ui(a),o.c(),y(o,1),o.m(e,null)):o&&(Ze(),k(o,1,1,()=>{o=null}),Xe())},i(a){n||(y(s,a),y(o),n=!0)},o(a){k(s,a),k(o),n=!1},d(a){a&&C(e),s&&s.d(a),o&&o.d()}}}function Ui(i){let e,t,n,r,s;return t=new Hu({}),{c(){e=oe("button"),M(t.$$.fragment),this.h()},l(o){e=ae(o,"BUTTON",{class:!0});var a=ce(e);L(t.$$.fragment,a),a.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(o,a){te(o,e,a),O(t,e,null),n=!0,r||(s=De(e,"click",i[8]),r=!0)},p:it,i(o){n||(y(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&C(e),G(t),r=!1,s()}}}function Di(i){let e,t;const n=i[6].footer,r=Fe(n,i,i[5],Ni);return{c(){e=oe("footer"),r&&r.c(),this.h()},l(s){e=ae(s,"FOOTER",{class:!0});var o=ce(e);r&&r.l(o),o.forEach(C),this.h()},h(){Q(e,"class","svelte-194wwek")},m(s,o){te(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&32)&&xe(r,n,s,s[5],t?Pe(n,s[5],o,$h):Ne(s[5]),Ni)},i(s){t||(y(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&C(e),r&&r.d(s)}}}function yh(i){let e,t,n=i[0]&&Bi(i);return{c(){n&&n.c(),e=Ye()},l(r){n&&n.l(r),e=Ye()},m(r,s){n&&n.m(r,s),te(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&y(n,1)):(n=Bi(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ze(),k(n,1,1,()=>{n=null}),Xe())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function Eh(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Uo(n);let{open:o=!0}=e,{closable:a=!0}=e;const l=Mt();function u(m="cancel"){a&&(t(0,o=!1),l("close",{action:m}))}function c(m){o&&m.key==="Escape"&&u("cancel")}wn(()=>(document.addEventListener("keyup",c),()=>document.removeEventListener("keyup",c)));const f=()=>u("cancel"),h=()=>u("cancel");return i.$$set=m=>{"open"in m&&t(0,o=m.open),"closable"in m&&t(1,a=m.closable),"$$scope"in m&&t(5,r=m.$$scope)},[o,a,u,c,s,r,n,f,h]}class gr extends we{constructor(e){super(),ye(this,e,Eh,yh,$e,{open:0,closable:1})}}function kh(i){let e,t,n,r,s,o;return{c(){e=oe("p"),t=Ee(`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),n=de(),r=oe("p"),s=Ee("Версия: "),o=Ee(i[0]),this.h()},l(a){e=ae(a,"P",{class:!0});var l=ce(e);t=ke(l,`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),l.forEach(C),n=pe(a),r=ae(a,"P",{class:!0});var u=ce(r);s=ke(u,"Версия: "),o=ke(u,i[0]),u.forEach(C),this.h()},h(){Q(e,"class","svelte-17axcd5"),Q(r,"class","svelte-17axcd5")},m(a,l){te(a,e,l),K(e,t),te(a,n,l),te(a,r,l),K(r,s),K(r,o)},p(a,l){l&1&&ft(o,a[0])},d(a){a&&C(e),a&&C(n),a&&C(r)}}}function Ah(i){let e;return{c(){e=Ee("О проекте")},l(t){e=ke(t,"О проекте")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function Th(i){let e,t,n,r,s;return{c(){e=oe("p"),t=Ee("Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=oe("a"),r=Ee("GitHub"),s=Ee("."),this.h()},l(o){e=ae(o,"P",{class:!0});var a=ce(e);t=ke(a,"Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=ae(a,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var l=ce(n);r=ke(l,"GitHub"),l.forEach(C),s=ke(a,"."),a.forEach(C),this.h()},h(){Q(n,"target","_blank"),Q(n,"rel","noreferrer"),Q(n,"title","Changelog"),Q(n,"href","https://github.com/RobolabGs2/memaker/blob/main/CHANGELOG.md"),Q(n,"class","svelte-17axcd5"),Q(e,"class","svelte-17axcd5")},m(o,a){te(o,e,a),K(e,t),K(e,n),K(n,r),K(e,s)},p:it,d(o){o&&C(e)}}}function Sh(i){let e;return{c(){e=Ee("История версий")},l(t){e=ke(t,"История версий")},m(t,n){te(t,e,n)},d(t){t&&C(e)}}}function Ih(i){let e,t,n,r,s,o,a,l,u,c,f,h,m,d,p,$,g,v,w,I,S,P,R,W,D,x,X,T,F;function b(se){i[4](se)}let V={$$slots:{title:[Ah],default:[kh]},$$scope:{ctx:i}};i[1]!==void 0&&(V.open=i[1]),t=new gr({props:V}),Te.push(()=>Ce(t,"open",b));function me(se){i[5](se)}let Y={$$slots:{title:[Sh],default:[Th]},$$scope:{ctx:i}};return i[2]!==void 0&&(Y.open=i[2]),s=new gr({props:Y}),Te.push(()=>Ce(s,"open",me)),d=new Il({props:{size:mn}}),g=new Nl({props:{size:mn}}),I=new Dl({props:{size:mn}}),R=new il({props:{size:mn}}),x=new ul({props:{size:mn}}),{c(){e=oe("main"),M(t.$$.fragment),r=de(),M(s.$$.fragment),a=de(),l=oe("header"),u=Ee("Memaker "),c=Ee(i[0]),f=de(),h=oe("section"),m=oe("div"),M(d.$$.fragment),p=de(),$=oe("div"),M(g.$$.fragment),v=de(),w=oe("div"),M(I.$$.fragment),S=de(),P=oe("a"),M(R.$$.fragment),W=de(),D=oe("a"),M(x.$$.fragment),this.h()},l(se){e=ae(se,"MAIN",{class:!0});var J=ce(e);L(t.$$.fragment,J),r=pe(J),L(s.$$.fragment,J),a=pe(J),l=ae(J,"HEADER",{class:!0});var _e=ce(l);u=ke(_e,"Memaker "),c=ke(_e,i[0]),_e.forEach(C),f=pe(J),h=ae(J,"SECTION",{class:!0});var U=ce(h);m=ae(U,"DIV",{title:!0,class:!0});var B=ce(m);L(d.$$.fragment,B),B.forEach(C),p=pe(U),$=ae(U,"DIV",{title:!0,class:!0});var Z=ce($);L(g.$$.fragment,Z),Z.forEach(C),v=pe(U),w=ae(U,"DIV",{title:!0,class:!0});var q=ce(w);L(I.$$.fragment,q),q.forEach(C),S=pe(U),P=ae(U,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var z=ce(P);L(R.$$.fragment,z),z.forEach(C),W=pe(U),D=ae(U,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var ee=ce(D);L(x.$$.fragment,ee),ee.forEach(C),U.forEach(C),J.forEach(C),this.h()},h(){Q(l,"class","svelte-17axcd5"),Q(m,"title","Открыть пример"),Q(m,"class","svelte-17axcd5"),Q($,"title","История версий приложения"),Q($,"class","svelte-17axcd5"),Q(w,"title","О проекте"),Q(w,"class","svelte-17axcd5"),Q(P,"target","_blank"),Q(P,"rel","noreferrer"),Q(P,"title","GitHub репозиторий"),Q(P,"href","https://github.com/RobolabGs2/memaker"),Q(P,"class","svelte-17axcd5"),Q(D,"target","_blank"),Q(D,"rel","noreferrer"),Q(D,"title","Группа ВК"),Q(D,"href","https://vk.com/memaker_app"),Q(D,"class","svelte-17axcd5"),Q(h,"class","svelte-17axcd5"),Q(e,"class","svelte-17axcd5")},m(se,J){te(se,e,J),O(t,e,null),K(e,r),O(s,e,null),K(e,a),K(e,l),K(l,u),K(l,c),K(e,f),K(e,h),K(h,m),O(d,m,null),K(h,p),K(h,$),O(g,$,null),K(h,v),K(h,w),O(I,w,null),K(h,S),K(h,P),O(R,P,null),K(h,W),K(h,D),O(x,D,null),X=!0,T||(F=[De(m,"click",i[6]),De($,"click",i[7]),De(w,"click",i[8])],T=!0)},p(se,[J]){const _e={};J&513&&(_e.$$scope={dirty:J,ctx:se}),!n&&J&2&&(n=!0,_e.open=se[1],Re(()=>n=!1)),t.$set(_e);const U={};J&512&&(U.$$scope={dirty:J,ctx:se}),!o&&J&4&&(o=!0,U.open=se[2],Re(()=>o=!1)),s.$set(U),(!X||J&1)&&ft(c,se[0])},i(se){X||(y(t.$$.fragment,se),y(s.$$.fragment,se),y(d.$$.fragment,se),y(g.$$.fragment,se),y(I.$$.fragment,se),y(R.$$.fragment,se),y(x.$$.fragment,se),X=!0)},o(se){k(t.$$.fragment,se),k(s.$$.fragment,se),k(d.$$.fragment,se),k(g.$$.fragment,se),k(I.$$.fragment,se),k(R.$$.fragment,se),k(x.$$.fragment,se),X=!1},d(se){se&&C(e),G(t),G(s),G(d),G(g),G(I),G(R),G(x),T=!1,pt(F)}}}let mn=24;function Ch(i,e,t){let{version:n}=e;const r=Mt();let s=!1,o=!1;function a(h){s=h,t(1,s)}function l(h){o=h,t(2,o)}const u=()=>r("openExample"),c=()=>t(2,o=!0),f=()=>t(1,s=!0);return i.$$set=h=>{"version"in h&&t(0,n=h.version)},[n,s,o,r,a,l,u,c,f]}class Rh extends we{constructor(e){super(),ye(this,e,Ch,Ih,$e,{version:0})}}function Fh(i){let e,t;function n(){return i[11](i[39])}function r(){return i[12](i[39])}function s(){return i[13](i[39])}function o(){return i[14](i[39])}return e=new Es({props:{up:!0,down:!0,remove:!0,copy:!0,value:i[39]}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),e.$on("copy",o),{c(){M(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,l){O(e,a,l),t=!0},p(a,l){i=a;const u={};l[1]&256&&(u.value=i[39]),e.$set(u)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}function xh(i){let e,t,n;function r(o){i[15](o,i[39])}let s={index:i[40],$$slots:{default:[Fh]},$$scope:{ctx:i}};return i[2][i[39].id]!==void 0&&(s.updatePreview=i[2][i[39].id]),e=new Hf({props:s}),Te.push(()=>Ce(e,"updatePreview",r)),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){i=o;const l={};a[1]&512&&(l.index=i[40]),a[1]&1280&&(l.$$scope={dirty:a,ctx:i}),!t&&a[0]&4|a[1]&256&&(t=!0,l.updatePreview=i[2][i[39].id],Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Nh(i){let e,t,n,r;return e=new Du({props:{size:24}}),{c(){M(e.$$.fragment),t=oe("span"),n=Ee("Открыть проект мема"),this.h()},l(s){L(e.$$.fragment,s),t=ae(s,"SPAN",{class:!0});var o=ce(t);n=ke(o,"Открыть проект мема"),o.forEach(C),this.h()},h(){Q(t,"class","svelte-uv7e7e")},m(s,o){O(e,s,o),te(s,t,o),K(t,n),r=!0},p:it,i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){G(e,s),s&&C(t)}}}function Ph(i){let e,t,n,r;return e=new mu({props:{size:24}}),{c(){M(e.$$.fragment),t=oe("span"),n=Ee("Сменить фон"),this.h()},l(s){L(e.$$.fragment,s),t=ae(s,"SPAN",{class:!0});var o=ce(t);n=ke(o,"Сменить фон"),o.forEach(C),this.h()},h(){Q(t,"class","svelte-uv7e7e")},m(s,o){O(e,s,o),te(s,t,o),K(t,n),r=!0},p:it,i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){G(e,s),s&&C(t)}}}function Mi(i){let e,t,n,r;const s=[zh,Bh],o=[];function a(l,u){return l[39].id==l[1].id&&l[1].content.type=="text"?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=Ye()},l(l){t.l(l),n=Ye()},m(l,u){o[e].m(l,u),te(l,n,u),r=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),y(t,1),t.m(n.parentNode,n))},i(l){r||(y(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&C(n)}}}function Bh(i){let e,t;return e=new ys({props:{content:i[39].content.value}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&256&&(s.content=n[39].content.value),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function zh(i){let e,t;return e=new ys({props:{content:i[1].content.value,$$slots:{default:[Dh]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.content=n[1].content.value),r[0]&3|r[1]&1280&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Uh(i){let e,t,n,r;function s(l){i[28](l)}function o(l){i[29](l)}let a={frame:i[0]};return i[1].content.value.style!==void 0&&(a.style=i[1].content.value.style),i[1].container!==void 0&&(a.container=i[1].container),e=new vh({props:a}),Te.push(()=>Ce(e,"style",s)),Te.push(()=>Ce(e,"container",o)),{c(){M(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,u){O(e,l,u),r=!0},p(l,u){const c={};u[0]&1&&(c.frame=l[0]),!t&&u[0]&2&&(t=!0,c.style=l[1].content.value.style,Re(()=>t=!1)),!n&&u[0]&2&&(n=!0,c.container=l[1].container,Re(()=>n=!1)),e.$set(c)},i(l){r||(y(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){G(e,l)}}}function Dh(i){let e,t;function n(){return i[30](i[39])}function r(){return i[31](i[39])}function s(){return i[32](i[39])}return e=new Es({props:{up:!0,down:!0,remove:!0,value:i[39],$$slots:{default:[Uh]},$$scope:{ctx:i}}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),t=!0},p(o,a){i=o;const l={};a[1]&256&&(l.value=i[39]),a[0]&3|a[1]&1024&&(l.$$scope={dirty:a,ctx:i}),e.$set(l)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){k(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function Mh(i){let e,t,n=i[39].content.type=="text"&&Mi(i);return{c(){n&&n.c(),e=Ye()},l(r){n&&n.l(r),e=Ye()},m(r,s){n&&n.m(r,s),te(r,e,s),t=!0},p(r,s){r[39].content.type=="text"?n?(n.p(r,s),s[1]&256&&y(n,1)):(n=Mi(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(Ze(),k(n,1,1,()=>{n=null}),Xe())},i(r){t||(y(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function Lh(i){let e,t=i[38]+"",n;return{c(){e=oe("span"),n=Ee(t),this.h()},l(r){e=ae(r,"SPAN",{class:!0});var s=ce(e);n=ke(s,t),s.forEach(C),this.h()},h(){Q(e,"class","svelte-uv7e7e")},m(r,s){te(r,e,s),K(e,n)},p(r,s){s[1]&128&&t!==(t=r[38]+"")&&ft(n,t)},d(r){r&&C(e)}}}function Oh(i){let e,t,n;function r(o){i[36](o)}let s={frameHeight:i[0].height,frameWidth:i[0].width};return i[1].container!==void 0&&(s.container=i[1].container),e=new ah({props:s}),Te.push(()=>Ce(e,"container",r)),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){const l={};a[0]&1&&(l.frameHeight=o[0].height),a[0]&1&&(l.frameWidth=o[0].width),!t&&a[0]&2&&(t=!0,l.container=o[1].container,Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Gh(i){let e,t,n;function r(o){i[34](o)}let s={};return i[1].content.value!==void 0&&(s.content=i[1].content.value),e=new zf({props:s}),Te.push(()=>Ce(e,"content",r)),e.$on("change",i[35]),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.content=o[1].content.value,Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function Hh(i){let e,t,n,r;const s=[Gh,Oh],o=[];function a(l,u){return l[38]==="Текст"&&l[1].content.type=="text"?0:l[38]==="Контейнер"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=oe("div"),n&&n.c(),this.h()},l(l){e=ae(l,"DIV",{slot:!0});var u=ce(e);n&&n.l(u),u.forEach(C),this.h()},h(){Q(e,"slot","content")},m(l,u){te(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let c=t;t=a(l),t===c?~t&&o[t].p(l,u):(n&&(Ze(),k(o[c],1,1,()=>{o[c]=null}),Xe()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),y(n,1),n.m(e,null)):n=null)},i(l){r||(y(n),r=!0)},o(l){k(n),r=!1},d(l){l&&C(e),~t&&o[t].d()}}}function Wh(i){let e,t,n,r,s,o,a,l,u,c,f,h,m,d,p,$,g,v,w,I,S,P,R,W,D,x,X,T,F,b,V,me,Y,se,J,_e,U,B,Z,q,z,ee,ze,Se,Ue,Be,Oe,rt,Qe,_,ne,j,A,E,N;r=new hi({});function re(ue){i[16](ue)}let ie={height:"50%",items:i[5].frames,$$slots:{default:[xh,({item:ue,index:be})=>({39:ue,40:be}),({item:ue,index:be})=>[0,(ue?256:0)|(be?512:0)]]},$$scope:{ctx:i}};i[0]!==void 0&&(ie.active=i[0]),u=new li({props:ie}),Te.push(()=>Ce(u,"active",re)),u.$on("drop",Li(i[17])),m=new lu({props:{size:24}}),w=new El({props:{size:24}}),W=new xi({props:{class:"new-block",accept:".meme",$$slots:{default:[Nh]},$$scope:{ctx:i}}}),W.$on("change",i[20]),x=new Rh({props:{version:i[6]}}),x.$on("openExample",i[21]),b=new xi({props:{class:"new-block",accept:"image/*",typeFilter:/^image\//,$$slots:{default:[Ph]},$$scope:{ctx:i}}}),b.$on("change",i[22]),Y=new bs({});function H(ue){i[24](ue)}function fe(ue){i[25](ue)}let ge={};i[3]!==void 0&&(ge.webgl=i[3]),i[4]!==void 0&&(ge.ui=i[4]),B=new Zo({props:ge}),Te.push(()=>Ce(B,"webgl",H)),Te.push(()=>Ce(B,"ui",fe)),B.$on("drop",Li(i[26])),Se=new hi({});function he(ue){i[33](ue)}let Ae={height:"25%",reverse:!0,items:i[0].blocks.filter(Oi),$$slots:{default:[Mh,({item:ue})=>({39:ue}),({item:ue})=>[0,ue?256:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(Ae.active=i[1]),Qe=new li({props:Ae}),Te.push(()=>Ce(Qe,"active",he)),j=new gs({props:{tabs:["Текст","Контейнер"],$$slots:{content:[Hh,({tab:ue})=>({38:ue}),({tab:ue})=>[0,ue?128:0]],default:[Lh,({tab:ue})=>({38:ue}),({tab:ue})=>[0,ue?128:0]]},$$scope:{ctx:i}}}),{c(){e=oe("article"),t=oe("section"),n=oe("button"),M(r.$$.fragment),s=de(),o=oe("span"),a=Ee("Новый фрейм"),l=de(),M(u.$$.fragment),f=de(),h=oe("button"),M(m.$$.fragment),d=de(),p=oe("span"),$=Ee("Скачать мем"),g=de(),v=oe("button"),M(w.$$.fragment),I=de(),S=oe("span"),P=Ee("Сохранить проект мема"),R=de(),M(W.$$.fragment),D=de(),M(x.$$.fragment),X=de(),T=oe("section"),F=oe("header"),M(b.$$.fragment),V=de(),me=oe("button"),M(Y.$$.fragment),se=oe("span"),J=Ee("Копировать"),_e=de(),U=oe("header"),M(B.$$.fragment),z=de(),ee=oe("section"),ze=oe("button"),M(Se.$$.fragment),Ue=de(),Be=oe("span"),Oe=Ee("Новый блок"),rt=de(),M(Qe.$$.fragment),ne=de(),M(j.$$.fragment),this.h()},l(ue){e=ae(ue,"ARTICLE",{class:!0});var be=ce(e);t=ae(be,"SECTION",{class:!0});var je=ce(t);n=ae(je,"BUTTON",{class:!0});var ht=ce(n);L(r.$$.fragment,ht),s=pe(ht),o=ae(ht,"SPAN",{class:!0});var st=ce(o);a=ke(st,"Новый фрейм"),st.forEach(C),ht.forEach(C),l=pe(je),L(u.$$.fragment,je),f=pe(je),h=ae(je,"BUTTON",{class:!0});var mt=ce(h);L(m.$$.fragment,mt),d=pe(mt),p=ae(mt,"SPAN",{class:!0});var Ve=ce(p);$=ke(Ve,"Скачать мем"),Ve.forEach(C),mt.forEach(C),g=pe(je),v=ae(je,"BUTTON",{class:!0});var ut=ce(v);L(w.$$.fragment,ut),I=pe(ut),S=ae(ut,"SPAN",{class:!0});var Et=ce(S);P=ke(Et,"Сохранить проект мема"),Et.forEach(C),ut.forEach(C),R=pe(je),L(W.$$.fragment,je),D=pe(je),L(x.$$.fragment,je),je.forEach(C),X=pe(be),T=ae(be,"SECTION",{class:!0});var ct=ce(T);F=ae(ct,"HEADER",{class:!0});var Wt=ce(F);L(b.$$.fragment,Wt),V=pe(Wt),me=ae(Wt,"BUTTON",{class:!0});var hn=ce(me);L(Y.$$.fragment,hn),se=ae(hn,"SPAN",{class:!0});var An=ce(se);J=ke(An,"Копировать"),An.forEach(C),hn.forEach(C),Wt.forEach(C),_e=pe(ct),U=ae(ct,"HEADER",{class:!0});var Tn=ce(U);L(B.$$.fragment,Tn),Tn.forEach(C),ct.forEach(C),z=pe(be),ee=ae(be,"SECTION",{class:!0});var kt=ce(ee);ze=ae(kt,"BUTTON",{class:!0});var $t=ce(ze);L(Se.$$.fragment,$t),Ue=pe($t),Be=ae($t,"SPAN",{class:!0});var jt=ce(Be);Oe=ke(jt,"Новый блок"),jt.forEach(C),$t.forEach(C),rt=pe(kt),L(Qe.$$.fragment,kt),ne=pe(kt),L(j.$$.fragment,kt),kt.forEach(C),be.forEach(C),this.h()},h(){Q(o,"class","svelte-uv7e7e"),Q(n,"class","new-block"),Q(p,"class","svelte-uv7e7e"),Q(h,"class","new-block"),Q(S,"class","svelte-uv7e7e"),Q(v,"class","new-block"),Q(t,"class","svelte-uv7e7e"),Q(se,"class","svelte-uv7e7e"),Q(me,"class","new-block"),Q(F,"class","controls svelte-uv7e7e"),Q(U,"class","canvas svelte-uv7e7e"),Q(T,"class","svelte-uv7e7e"),Q(Be,"class","svelte-uv7e7e"),Q(ze,"class","new-block"),Q(ee,"class","svelte-uv7e7e"),Q(e,"class","svelte-uv7e7e")},m(ue,be){te(ue,e,be),K(e,t),K(t,n),O(r,n,null),K(n,s),K(n,o),K(o,a),K(t,l),O(u,t,null),K(t,f),K(t,h),O(m,h,null),K(h,d),K(h,p),K(p,$),K(t,g),K(t,v),O(w,v,null),K(v,I),K(v,S),K(S,P),K(t,R),O(W,t,null),K(t,D),O(x,t,null),K(e,X),K(e,T),K(T,F),O(b,F,null),K(F,V),K(F,me),O(Y,me,null),K(me,se),K(se,J),K(T,_e),K(T,U),O(B,U,null),K(e,z),K(e,ee),K(ee,ze),O(Se,ze,null),K(ze,Ue),K(ze,Be),K(Be,Oe),K(ee,rt),O(Qe,ee,null),K(ee,ne),O(j,ee,null),A=!0,E||(N=[De(n,"click",i[10]),De(h,"click",i[18]),De(v,"click",i[19]),De(me,"click",i[23]),De(ze,"click",i[27])],E=!0)},p(ue,be){const je={};be[0]&32&&(je.items=ue[5].frames),be[0]&4|be[1]&1792&&(je.$$scope={dirty:be,ctx:ue}),!c&&be[0]&1&&(c=!0,je.active=ue[0],Re(()=>c=!1)),u.$set(je);const ht={};be[1]&1024&&(ht.$$scope={dirty:be,ctx:ue}),W.$set(ht);const st={};be[0]&64&&(st.version=ue[6]),x.$set(st);const mt={};be[1]&1024&&(mt.$$scope={dirty:be,ctx:ue}),b.$set(mt);const Ve={};!Z&&be[0]&8&&(Z=!0,Ve.webgl=ue[3],Re(()=>Z=!1)),!q&&be[0]&16&&(q=!0,Ve.ui=ue[4],Re(()=>q=!1)),B.$set(Ve);const ut={};be[0]&1&&(ut.items=ue[0].blocks.filter(Oi)),be[0]&3|be[1]&1280&&(ut.$$scope={dirty:be,ctx:ue}),!_&&be[0]&2&&(_=!0,ut.active=ue[1],Re(()=>_=!1)),Qe.$set(ut);const Et={};be[0]&3|be[1]&1152&&(Et.$$scope={dirty:be,ctx:ue}),j.$set(Et)},i(ue){A||(y(r.$$.fragment,ue),y(u.$$.fragment,ue),y(m.$$.fragment,ue),y(w.$$.fragment,ue),y(W.$$.fragment,ue),y(x.$$.fragment,ue),y(b.$$.fragment,ue),y(Y.$$.fragment,ue),y(B.$$.fragment,ue),y(Se.$$.fragment,ue),y(Qe.$$.fragment,ue),y(j.$$.fragment,ue),A=!0)},o(ue){k(r.$$.fragment,ue),k(u.$$.fragment,ue),k(m.$$.fragment,ue),k(w.$$.fragment,ue),k(W.$$.fragment,ue),k(x.$$.fragment,ue),k(b.$$.fragment,ue),k(Y.$$.fragment,ue),k(B.$$.fragment,ue),k(Se.$$.fragment,ue),k(Qe.$$.fragment,ue),k(j.$$.fragment,ue),A=!1},d(ue){ue&&C(e),G(r),G(u),G(m),G(w),G(W),G(x),G(b),G(Y),G(B),G(Se),G(Qe),G(j),E=!1,pt(N)}}}function In(i){i.preventDefault()}function Li(i){return e=>{var r;e.preventDefault();const t=(r=e.dataTransfer)==null?void 0:r.files;if(!t)return;const n=Array.from(t).filter(s=>{var o;return(o=s.type)==null?void 0:o.match(/^image/)});n.length&&i(n)}}const Oi=i=>i.content.type=="text";function jh(i,e,t){let{meme:n}=e,{frame:r}=e,{block:s}=e,{previews:o={}}=e,{canvasWebgl:a}=e,{canvasUI:l}=e,{version:u}=e,{memeExampleURL:c}=e;const f=Mt();function h(z){f("changeBackground",{file:z})}function m(z){var ze,Se;if(z.target instanceof HTMLInputElement||z.target instanceof HTMLTextAreaElement)return;const ee=(ze=z.clipboardData)==null?void 0:ze.items;if(ee)for(let Ue=0;Ue<ee.length;Ue++){const Be=ee[Ue];if(!((Se=Be.type)!=null&&Se.match(/^image/)))continue;const Oe=Be.getAsFile();Oe&&h(Oe);return}}wn(()=>(document.addEventListener("paste",m),document.addEventListener("dragover",In),document.addEventListener("drop",In),()=>{document.removeEventListener("paste",m),document.removeEventListener("dragover",In),document.removeEventListener("drop",In)}));const d=()=>f("createFrame"),p=z=>f("shiftFrame",{frame:z,shift:-1}),$=z=>f("shiftFrame",{frame:z,shift:1}),g=z=>f("deleteFrame",{frame:z}),v=z=>f("createFrame",{origin:z});function w(z,ee){i.$$.not_equal(o[ee.id],z)&&(o[ee.id]=z,t(2,o))}function I(z){r=z,t(0,r)}const S=z=>f("framesFromImages",{files:z}),P=()=>f("renderMeme",{meme:n}),R=()=>f("saveMeme",{meme:n}),W=z=>f("openMeme",{file:z.detail[0]}),D=()=>fetch(c).then(z=>z.blob()).then(z=>f("openMeme",{file:z})),x=z=>h(z.detail[0]),X=()=>f("frameToClipboard",{frame:r});function T(z){a=z,t(3,a)}function F(z){l=z,t(4,l)}const b=z=>f("changeBackground",{file:z[0]}),V=()=>f("createBlock");function me(z){i.$$.not_equal(s.content.value.style,z)&&(s.content.value.style=z,t(1,s))}function Y(z){i.$$.not_equal(s.container,z)&&(s.container=z,t(1,s))}const se=z=>f("shiftBlock",{block:z,shift:1}),J=z=>f("shiftBlock",{block:z,shift:-1}),_e=z=>f("deleteBlock",{block:z});function U(z){s=z,t(1,s)}function B(z){i.$$.not_equal(s.content.value,z)&&(s.content.value=z,t(1,s))}function Z(z){Le.call(this,i,z)}function q(z){i.$$.not_equal(s.container,z)&&(s.container=z,t(1,s))}return i.$$set=z=>{"meme"in z&&t(5,n=z.meme),"frame"in z&&t(0,r=z.frame),"block"in z&&t(1,s=z.block),"previews"in z&&t(2,o=z.previews),"canvasWebgl"in z&&t(3,a=z.canvasWebgl),"canvasUI"in z&&t(4,l=z.canvasUI),"version"in z&&t(6,u=z.version),"memeExampleURL"in z&&t(7,c=z.memeExampleURL)},[r,s,o,a,l,n,u,c,f,h,d,p,$,g,v,w,I,S,P,R,W,D,x,X,T,F,b,V,me,Y,se,J,_e,U,B,Z,q]}class Vh extends we{constructor(e){super(),ye(this,e,jh,Wh,$e,{meme:5,frame:0,block:1,previews:2,canvasWebgl:3,canvasUI:4,version:6,memeExampleURL:7},null,[-1,-1])}}function Zh(i){let e,t,n;const r=i[2].default,s=Fe(r,i,i[1],null);return{c(){e=oe("div"),s&&s.c(),this.h()},l(o){e=ae(o,"DIV",{style:!0,class:!0});var a=ce(e);s&&s.l(a),a.forEach(C),this.h()},h(){Q(e,"style",t=Gi(i[0])),Q(e,"class","svelte-1u48p2s")},m(o,a){te(o,e,a),s&&s.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&xe(s,r,o,o[1],n?Pe(r,o[1],a,null):Ne(o[1]),null),(!n||a&1&&t!==(t=Gi(o[0])))&&Q(e,"style",t)},i(o){n||(y(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&C(e),s&&s.d(o)}}}function Gi(i){return Object.entries(i).map(([e,t])=>`--${e.split(new RegExp("(?<=[a-z])(?=[A-Z])")).map(r=>r.toLowerCase()).join("-")}: ${t};`).join("")}function Xh(i,e,t){let{$$slots:n={},$$scope:r}=e,{theme:s}=e;return i.$$set=o=>{"theme"in o&&t(0,s=o.theme),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class Yh extends we{constructor(e){super(),ye(this,e,Xh,Zh,$e,{theme:0})}}const Kh={textSecondary:"white",secondary:"#34352F",secondaryHover:"#3E3D32",secondaryActive:"#272822",borderSecondary:"1px solid #111111",borderSecondaryHover:"1px solid #222222",borderSecondaryActive:"1px solid #aaaaaa",border:"none"},Hi=Zn(Kh);class qh{constructor(e,t,n,r){Ie(this,"position",{x:0,y:0});Ie(this,"moveStart");Ie(this,"ctrl",!1);Ie(this,"shift",!1);this.canvas=e,e.addEventListener("touchmove",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&s.preventDefault(),r()}),e.addEventListener("mousemove",s=>{const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchstart",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)?s.preventDefault():this.moveStart=void 0),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("mousedown",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchend",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this)&&s.preventDefault(),this.moveStart=void 0),s.preventDefault(),r()}),e.addEventListener("mouseup",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this),this.moveStart=void 0),r()})}get pressed(){return this.moveStart!==void 0}get scale(){const e=this.canvas;return e.width/e.clientWidth}get realSize(){return{width:this.canvas.clientWidth,height:this.canvas.clientHeight}}posFromTouchEvent(e){return this.posFromTouch(e.changedTouches[0])}posFromTouch(e){const t=this.canvas.getBoundingClientRect(),n=e.pageX-t.x,r=e.pageY-t.y;return{x:n,y:r}}}function Wi(i,e){return{x:e.x-i.x,y:e.y-i.y}}function Jh(i,e,t=0){return Math.abs(i.x-e.x)<=t&&Math.abs(i.y-e.y)<=t}class Qh{constructor(e,t,n){Ie(this,"sprites",new Array);Ie(this,"cursor");Ie(this,"dragAndDrop");Ie(this,"hoveredSprite");this.dragDropSystemSource=t,this.onupdate=n,this.cursor=new qh(e,()=>{if(this.dragAndDrop)return!0;if(!this.hoveredSprite)return!1;const r=this.dragDropSystemSource(this.hoveredSprite);return r?(this.dragAndDrop={sprite:this.hoveredSprite,system:r,lastPosition:{x:NaN,y:NaN}},!0):!1},(r,s)=>{if(!this.dragAndDrop)return!1;const o=this.dragAndDrop.system;return this.dragAndDrop=void 0,o.drop(r,s,this.cursor),!0},()=>this.update())}add(e){return this.sprites.push(e),e}clear(){var e;(e=this.dragAndDrop)==null||e.system.drop(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop=void 0,this.hoveredSprite=void 0,this.sprites.length=0}update(){var t,n;if(this.dragAndDrop){Jh(this.cursor.position,this.dragAndDrop.lastPosition,.001)||(this.dragAndDrop.system.move(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop.lastPosition.x=this.cursor.position.x,this.dragAndDrop.lastPosition.y=this.cursor.position.y,(t=this.onupdate)==null||t.call(this));return}const e=this.hoveredSprite;this.hoveredSprite=void 0;for(let r=this.sprites.length-1;r>=0;r--){const s=this.sprites[r];if(s.interactive&&s.contains(this.cursor.position)){this.hoveredSprite=s;break}}e!==this.hoveredSprite&&((n=this.onupdate)==null||n.call(this))}draw(e){this.sprites.forEach(t=>{e.save(),t.draw(e,this.spriteState(t)),e.restore()})}spriteState(e){var t;return((t=this.dragAndDrop)==null?void 0:t.sprite)===e?"active":this.hoveredSprite===e?"hover":"default"}}class nt{constructor(){Ie(this,"data",[[0,0,0],[0,0,0],[0,0,0]])}static Zero(){return new nt}static Ident(){const e=new nt;return e.data[0][0]=1,e.data[1][1]=1,e.data[2][2]=1,e}static RotationAround(e,t){return nt.Translate({x:-e.x,y:-e.y}).Multiply(this.Rotation(t)).Multiply(nt.Translate(e))}static Rotation(e){const t=Math.sin(e),n=Math.cos(e);return this.RotationCosSin(n,t)}static RotationCosSin(e,t){const n=nt.Ident();return n.data[0][0]=e,n.data[0][1]=t,n.data[1][0]=-t,n.data[1][1]=e,n}static Translate(e,t){const n=nt.Ident();if(typeof e=="number"&&typeof t=="number")n.data[2][0]=e,n.data[2][1]=t;else if(typeof e!="number"){const r=e;n.data[2][0]=r.x,n.data[2][1]=r.y}else throw new Error(`Unexpected type combination in Matrix.Translate: x: ${typeof e}, y: ${typeof t}`);return n}Get(e,t){return this.data[e][t]}Set(e,t,n){this.data[e][t]=n}Multiply(e){const t=nt.Zero();for(let n=0;n<3;++n)for(let r=0;r<3;++r)for(let s=0;s<3;++s)t.data[n][r]+=this.data[n][s]*e.data[s][r];return t}Transform(e,t={x:0,y:0}){const n=this.Get(0,0)*e.x+this.Get(1,0)*e.y+this.Get(2,0),r=this.Get(0,1)*e.x+this.Get(1,1)*e.y+this.Get(2,1),s=this.Get(0,2)*e.x+this.Get(1,2)*e.y+this.Get(2,2);return t.x=n/s,t.y=r/s,t}}class Cr{constructor(e,t,n){Ie(this,"normal");Ie(this,"normalization");this.a=e,this.b=t,this.c=n;const r=Math.sqrt(e*e+t*t);this.normal={x:e/r,y:t/r},this.normalization=r}static byTwoPoints({x:e,y:t},{x:n,y:r}){return new Cr(t-r,n-e,e*r-n*t)}onLine(e){return Math.abs(this.rawDistance(e))<1e-15}sign(e){return Math.sign(this.rawDistance(e))}rawDistance({x:e,y:t}){return this.a*e+this.b*t+this.c}distance(e){const t=this.rawDistance(e);return Math.abs(t)/this.normalization}projection(e){const t=this.rawDistance(e)/this.normalization;return{x:e.x-this.normal.x*t,y:e.y-this.normal.y*t}}}class ji{constructor(e,t){Ie(this,"line");this.p1=e,this.p2=t,this.line=Cr.byTwoPoints(e,t)}get left(){return Math.min(this.p1.x,this.p2.x)}get right(){return Math.max(this.p1.x,this.p2.x)}}class yn{constructor(e){Ie(this,"edges");this.points=e,this.edges=new Array(e.length),this.updateEdges()}updateEdges(){const e=this.points;for(let t=0;t<e.length-1;t++)this.edges[t]=new ji(e[t],e[t+1]);this.edges[e.length-1]=new ji(e[e.length-1],e[0])}transform(e){const t=this.points,n=t.length;for(let r=0;r<n;r++)e.Transform(t[r],t[r]);this.updateEdges()}transformCopy(e){return new yn(this.points.map(t=>e.Transform(t)))}contains(e){let t=0;const n=this.edges.length;for(let r=0;r<n;r++){const s=this.edges[r];e.x<=s.left||e.x>s.right||(t+=s.line.sign(e))}return t!=0}center(){const e=this.points,t=e.length;let n=0,r=0;for(let s=0;s<t;s++)n+=e[s].x,r+=e[s].y;return{x:n/t,y:r/t}}area(){let e=0;const t=this.points.length-1,n=this.points;for(let r=0;r<t;r++)e+=n[r].x*n[r+1].x-n[r+1].y*n[r].y;return e+=n[t].x*n[0].y-n[0].x*n[t].y,e/2}repair(){this.area()<0&&this.points.reverse()}}class em{constructor(e=!1,t){this.interactive=e,this.settings=t}draw(e,t){const n=this.settings.fill[t],r=this.settings.stroke[t];this.makePath(e),n&&(e.fillStyle=n,e.fill()),r&&(e.strokeStyle=r,e.stroke())}}class ks extends em{constructor(e=new Nt,t=!1,n){super(t,n),this.transform=e}getPolygon(){return this.localPolygon().transformCopy(this.transform.matrix())}makePath(e){rm(e,this.getPolygon())}contains(e){return this.getPolygon().contains(e)}}class Jt extends ks{constructor(e,t=new Nt,n=!1,r){super(t,n,r),this.polygon=e}localPolygon(){return this.polygon}}class Vi extends ks{constructor(e,t=new Nt,n=!1,r){super(t,n,r),this.localPolygon=e}}function Qt(i,e){const t=i/2,n=e/2;return new yn([{x:-t,y:-n},{x:t,y:-n},{x:t,y:n},{x:-t,y:n}])}class Nt{constructor(e=0,t=0,n=0,r){this.x=e,this.y=t,this.rotate=n,this.parent=r}matrix(){const e=nt.Rotation(this.rotate).Multiply(nt.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}class Cn{constructor(e=()=>0,t=()=>0,n=()=>0,r){this.xSource=e,this.ySource=t,this.rotateSource=n,this.parent=r}get rotate(){return this.rotateSource()}get x(){return this.xSource()}get y(){return this.ySource()}matrix(){const e=nt.Rotation(this.rotate).Multiply(nt.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}function tm(i,e){const t=e/3,n=t/2,r=[{x:i-n-2*t,y:n},{x:-n,y:n},{x:-n,y:-n},{x:i-n-2*t,y:-n},{x:i-n-3*t,y:-n-t},{x:i-n,y:0},{x:i-n-3*t,y:+n+t}];return new yn(r)}function nm(i,e,t){const n=t/3,r=n/2,s=e/(Math.PI/45)|0,o=e/s,a=[],l=[],u=i-r,c=i+r;for(let m=0;m<s;m++){const d=Math.cos(o*m),p=Math.sin(o*m),$=d*u,g=p*u;a.push({x:$,y:g});const v=d*c,w=p*c;l.push({x:v,y:w})}const f=[{x:-t,y:+r+n},{x:t,y:0},{x:-t,y:-r-n}],h=nt.Rotation(Math.PI/2).Multiply(nt.Translate({x:i,y:0})).Multiply(nt.RotationAround({x:0,y:0},e));return new yn([...a,...f.map(m=>h.Transform(m,m)),...l.reverse()])}function rm(i,e){i.beginPath(),i.moveTo(e.points[0].x,e.points[0].y),e.points.forEach(t=>i.lineTo(t.x,t.y)),i.closePath()}class im{constructor(e,t,n,r,s){Ie(this,"ctx");Ie(this,"sprites");Ie(this,"handlers",new Map);Ie(this,"selectors",new Map);Ie(this,"activeBlockId","");Ie(this,"activeContainerType","");Ie(this,"draw",Xi(()=>{const e=this.ctx.canvas,t=this.cursor.realSize;e.width!==t.width&&(e.width=t.width),e.height!==t.height&&(e.height=t.height),this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save(),this.ctx.scale(1/this.cursor.scale,1/this.cursor.scale),this.sprites.draw(this.ctx),this.ctx.restore()}));this.ctx=e.getContext("2d");let o=!1;this.sprites=new Qh(t,a=>{var f;const l=this.selectors.get(a);if(l)return{move(){},drop(){s.set(r.value.blocks.find(({id:h})=>l===h))}};const u=s.value.container;if(!this.activeBlockId||u.type!=="rectangle")return;const c=(f=this.handlers.get(a))==null?void 0:f(u.value);if(c)return{move:Xi((h,m,d)=>{u.value=c(h,m,d),o=!0,s.set(s.value),o=!1}),drop(h,m,d){u.value=c(h,m,d),o=!0,s.set(s.value),o=!1}}},()=>this.draw()),n.subscribe(()=>{this.activeBlockId=""}),s.subscribe(a=>{o||this.draw(),!(a.id==this.activeBlockId&&a.container.type==this.activeContainerType)&&(this.activeBlockId=a.id,this.activeContainerType=a.container.type,this.setup(r.value.blocks,a))})}get cursor(){return this.sprites.cursor}clear(){this.selectors.clear(),this.handlers.clear(),this.sprites.clear()}setup(e,t){if(this.clear(),e.forEach(f=>{f===t||f.container.type!=="rectangle"||this.addSelector(f.id,f.container.value)}),t.container.type!=="rectangle")return;const n=new Vi(()=>Qt(t.container.value.width,t.container.value.height),new Cn(()=>t.container.value.position.x,()=>t.container.value.position.y,()=>t.container.value.rotation),!0,{fill:{},stroke:{default:"#aaaa00 "}}),r=this.sprites.add(n),s=18*this.cursor.scale,o=tm(s*7,s*1.4),a=new Cn(()=>0,()=>0,()=>this.cursor.ctrl?-r.transform.rotation():0,r.transform),l=new Jt(o,new Nt(0,0,0,a),!0,en("#0000ff")),u=new Jt(o,new Nt(0,0,-Math.PI/2,a),!0,en("#ff0000"));this.addModifier(l,Zi(l)),this.addModifier(u,Zi(u)),this.addModifier(new Jt(Qt(s*2,s*2),new Nt(0,0,0,r.transform),!0,en("#ff00ff")),f=>(h,m)=>{const d=m.x-h.x,p=m.y-h.y,{x:$,y:g}=f.position;return{...f,position:{x:$+d,y:g+p}}});const c=new Jt(nm(4*s,Math.PI*1.5,s*1.5),new Nt(0,0,-Math.PI/4,r.transform),!0,en("#00ff00"));this.addModifier(c,sm),[{dim:"width",dir:{x:1,y:0}},{dim:"width",dir:{x:-1,y:0}},{dim:"height",dir:{x:0,y:1}},{dim:"height",dir:{x:0,y:-1}}].forEach(({dim:f,dir:h})=>{const m=f==="height"?()=>Qt(t.container.value.width-s,s):()=>Qt(s,t.container.value.height-s);this.addModifier(new Vi(m,new Cn(()=>h.x*t.container.value.width/2,()=>h.y*t.container.value.height/2,()=>0,r.transform),!0,en("#ff9900")),om(f,h))}),[{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}].forEach(f=>{this.addModifier(new Jt(Qt(s,s),new Cn(()=>f.x*t.container.value.width/2,()=>f.y*t.container.value.height/2,()=>0,r.transform),!0,en("#ff99ff")),am(f))})}addSelector(e,t){const n=this.sprites.add(new Jt(Qt(t.width,t.height),new Nt(t.position.x,t.position.y,t.rotation),!0,{fill:{hover:"#aaaaaa22",active:"#aaaaaa44"},stroke:{hover:"#aaaaaa99",active:"#aaaaaa"}}));this.selectors.set(n,e)}addModifier(e,t){this.handlers.set(this.sprites.add(e),t)}}function sm(i){const{rotation:e}=i,t=i.position;return(n,r,s)=>{const o=Wi(t,n),a=Wi(t,r),l=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x),c=Math.PI/180*1;let f=Math.round((u-l)/c)*c;const h=Math.PI/4;return s.shift&&(f=(f/h|0)*h),{...i,rotation:s.ctrl?f:e+f}}}function en(i){return{fill:{default:`${i}44`,hover:`${i}99`,active:`${i}`},stroke:{default:`${i}44`,hover:`${i}99`,active:`${i}`}}}function om(i,e){return t=>(n,r,s)=>{const o=r.x-n.x,a=r.y-n.y,l=nt.Rotation(t.rotation).Transform(e);let u=o*l.x+a*l.y;return s.shift&&(u=(u/10|0)*10),s.ctrl?{...t,position:{x:t.position.x+l.x*u/2,y:t.position.y+l.y*u/2},[i]:t[i]+u}:{...t,[i]:t[i]+2*u}}}function am(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,a=nt.Rotation(e.rotation).Transform({x:0,y:i.y}),l=nt.Rotation(e.rotation).Transform({x:i.x,y:0});let u=s*a.x+o*a.y,c=s*l.x+o*l.y;return r.shift&&(u=c=Math.max(u,c)),r.ctrl?{...e,position:{x:e.position.x+a.x*u/2+l.x*c/2,y:e.position.y+a.y*u/2+l.y*c/2},height:e.height+u,width:e.width+c}:{...e,height:e.height+2*u,width:e.width+2*c}}}function Zi(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,{x:a,y:l}=e.position,u=nt.Rotation(i.transform.rotation()).Transform({x:1,y:0});let c=s*u.x+o*u.y;return r.shift&&(c=(c/10|0)*10),{...e,position:{x:a+u.x*c,y:l+u.y*c}}}}function Xi(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fn(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bn={},lm={get exports(){return bn},set exports(i){bn=i}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function o(u,c){if(!r[u]){if(!n[u]){var f=typeof Fn=="function"&&Fn;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=r[u]={exports:{}};n[u][0].call(m.exports,function(d){var p=n[u][1][d];return o(p||d)},m,m.exports,t,n,r,s)}return r[u].exports}for(var a=typeof Fn=="function"&&Fn,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,c,f,h,m,d,p,$=[],g=0,v=l.length,w=v,I=s.getTypeOf(l)!=="string";g<l.length;)w=v-g,f=I?(u=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(u=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),h=u>>2,m=(3&u)<<4|c>>4,d=1<w?(15&c)<<2|f>>6:64,p=2<w?63&f:64,$.push(a.charAt(h)+a.charAt(m)+a.charAt(d)+a.charAt(p));return $.join("")},r.decode=function(l){var u,c,f,h,m,d,p=0,$=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(h=a.indexOf(l.charAt(p++)))>>4,c=(15&h)<<4|(m=a.indexOf(l.charAt(p++)))>>2,f=(3&m)<<6|(d=a.indexOf(l.charAt(p++))),v[$++]=u,m!==64&&(v[$++]=c),d!==64&&(v[$++]=f);return v}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(c,f,h,m,d){this.compressedSize=c,this.uncompressedSize=f,this.crc32=h,this.compression=m,this.compressedContent=d}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,h){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,f,h){var m=o,d=h+f;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^c[p])];return-1^u}(0|l,a,a.length,0):function(u,c,f,h){var m=o,d=h+f;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^c.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}r.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},r.compressWorker=function(f){return new c("Deflate",f)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(m,d){var p,$="";for(p=0;p<d;p++)$+=String.fromCharCode(255&m),m>>>=8;return $}function o(m,d,p,$,g,v){var w,I,S=m.file,P=m.compression,R=v!==u.utf8encode,W=a.transformTo("string",v(S.name)),D=a.transformTo("string",u.utf8encode(S.name)),x=S.comment,X=a.transformTo("string",v(x)),T=a.transformTo("string",u.utf8encode(x)),F=D.length!==S.name.length,b=T.length!==x.length,V="",me="",Y="",se=S.dir,J=S.date,_e={crc32:0,compressedSize:0,uncompressedSize:0};d&&!p||(_e.crc32=m.crc32,_e.compressedSize=m.compressedSize,_e.uncompressedSize=m.uncompressedSize);var U=0;d&&(U|=8),R||!F&&!b||(U|=2048);var B=0,Z=0;se&&(B|=16),g==="UNIX"?(Z=798,B|=function(z,ee){var ze=z;return z||(ze=ee?16893:33204),(65535&ze)<<16}(S.unixPermissions,se)):(Z=20,B|=function(z){return 63&(z||0)}(S.dosPermissions)),w=J.getUTCHours(),w<<=6,w|=J.getUTCMinutes(),w<<=5,w|=J.getUTCSeconds()/2,I=J.getUTCFullYear()-1980,I<<=4,I|=J.getUTCMonth()+1,I<<=5,I|=J.getUTCDate(),F&&(me=s(1,1)+s(c(W),4)+D,V+="up"+s(me.length,2)+me),b&&(Y=s(1,1)+s(c(X),4)+T,V+="uc"+s(Y.length,2)+Y);var q="";return q+=`
\0`,q+=s(U,2),q+=P.magic,q+=s(w,2),q+=s(I,2),q+=s(_e.crc32,4),q+=s(_e.compressedSize,4),q+=s(_e.uncompressedSize,4),q+=s(W.length,2),q+=s(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+q+W+V,dirRecord:f.CENTRAL_FILE_HEADER+s(Z,2)+q+s(X.length,2)+"\0\0\0\0"+s(B,4)+s($,4)+W+V+X}}var a=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),c=t("../crc32"),f=t("../signature");function h(m,d,p,$){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=p,this.encodeFileName=$,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(m){var d=m.meta.percent||0,p=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:p?(d+100*(p-$-1))/p:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var d=this.streamFiles&&!m.file.dir;if(d){var p=o(m,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var d=this.streamFiles&&!m.file.dir,p=o(m,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),d)this.push({data:function($){return f.DATA_DESCRIPTOR+s($.crc32,4)+s($.compressedSize,4)+s($.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var p=this.bytesWritten-m,$=function(g,v,w,I,S){var P=a.transformTo("string",S(I));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(v,4)+s(w,4)+s(P.length,2)+P}(this.dirRecords.length,p,m,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var d=this;return m.on("data",function(p){d.processChunk(p)}),m.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),m.on("error",function(p){d.error(p)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var d=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var p=0;p<d.length;p++)try{d[p].error(m)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,d=0;d<m.length;d++)m[d].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{a.forEach(function(h,m){f++;var d=function(v,w){var I=v||w,S=s[I];if(!S)throw new Error(I+" is not a valid compression method !");return S}(m.options.compression,l.compression),p=m.options.compressionOptions||l.compressionOptions||{},$=m.dir,g=m.date;m._compressWorker(d,p).withStreamInfo("file",{name:h,dir:$,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function f(h){return new o.Promise(function(m,d){var p=h.decompressed.getContentWorker().pipe(new u);p.on("error",function($){d($)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(h,m){var d=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(p){var $=new l(m);return $.load(p),$}).then(function(p){var $=[o.Promise.resolve(p)],g=p.files;if(m.checkCRC32)for(var v=0;v<g.length;v++)$.push(f(g[v]));return o.Promise.all($)}).then(function(p){for(var $=p.shift(),g=$.files,v=0;v<g.length;v++){var w=g[v],I=w.fileNameStr,S=s.resolve(w.fileNameStr);d.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(d.file(S).unsafeOriginalName=I)}return $.zipComment.length&&(d.comment=$.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(f,h){c.push(f)||c._helper.pause(),u&&u(h)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(S,P,R){var W,D=a.getTypeOf(P),x=a.extend(R||{},c);x.date=x.date||new Date,x.compression!==null&&(x.compression=x.compression.toUpperCase()),typeof x.unixPermissions=="string"&&(x.unixPermissions=parseInt(x.unixPermissions,8)),x.unixPermissions&&16384&x.unixPermissions&&(x.dir=!0),x.dosPermissions&&16&x.dosPermissions&&(x.dir=!0),x.dir&&(S=g(S)),x.createFolders&&(W=$(S))&&v.call(this,W,!0);var X=D==="string"&&x.binary===!1&&x.base64===!1;R&&R.binary!==void 0||(x.binary=!X),(P instanceof f&&P.uncompressedSize===0||x.dir||!P||P.length===0)&&(x.base64=!1,x.binary=!0,P="",x.compression="STORE",D="string");var T=null;T=P instanceof f||P instanceof l?P:d.isNode&&d.isStream(P)?new p(S,P):a.prepareContent(S,P,x.binary,x.optimizedBinaryString,x.base64);var F=new h(S,T,x);this.files[S]=F}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),c=t("./defaults"),f=t("./compressedObject"),h=t("./zipObject"),m=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),$=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var P=S.lastIndexOf("/");return 0<P?S.substring(0,P):""},g=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,P){return P=P!==void 0?P:c.createFolders,S=g(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:P}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var P,R,W;for(P in this.files)W=this.files[P],(R=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&S(R,W)},filter:function(S){var P=[];return this.forEach(function(R,W){S(R,W)&&P.push(W)}),P},file:function(S,P,R){if(arguments.length!==1)return S=this.root+S,s.call(this,S,P,R),this;if(w(S)){var W=S;return this.filter(function(x,X){return!X.dir&&W.test(x)})}var D=this.files[this.root+S];return D&&!D.dir?D:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(D,x){return x.dir&&S.test(D)});var P=this.root+S,R=v.call(this,P),W=this.clone();return W.root=R.name,W},remove:function(S){S=this.root+S;var P=this.files[S];if(P||(S.slice(-1)!=="/"&&(S+="/"),P=this.files[S]),P&&!P.dir)delete this.files[S];else for(var R=this.filter(function(D,x){return x.name.slice(0,S.length)===S}),W=0;W<R.length;W++)delete this.files[R[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var P,R={};try{if((R=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var W=R.comment||this.comment||"";P=m.generateWorker(this,R,W)}catch(D){(P=new l("error")).error(D)}return new u(P,R.type||"string",R.mimeType)},generateAsync:function(S,P){return this.generateInternalStream(S).accumulate(P)},generateNodeStream:function(S,P){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(P)}};n.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),f=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&f===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");n.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),u=t("../support"),c=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,p){return new c.Promise(function($,g){var v=[],w=d._internalType,I=d._outputType,S=d._mimeType;d.on("data",function(P,R){v.push(P),p&&p(R)}).on("error",function(P){v=[],g(P)}).on("end",function(){try{var P=function(R,W,D){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",W),D);case"base64":return l.encode(W);default:return s.transformTo(R,W)}}(I,function(R,W){var D,x=0,X=null,T=0;for(D=0;D<W.length;D++)T+=W[D].length;switch(R){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(X=new Uint8Array(T),D=0;D<W.length;D++)X.set(W[D],x),x+=W[D].length;return X;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,v),S);$(P)}catch(R){g(R)}v=[]}).resume()})}function m(d,p,$){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=$,s.checkSupport(g),this._worker=d.pipe(new o(g)),d.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}m.prototype={accumulate:function(d){return h(this,d)},on:function(d,p){var $=this;return d==="data"?this._worker.on(d,function(g){p.call($,g.data,g.meta)}):this._worker.on(d,function(){s.delay(p,arguments,$)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}r.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(d){var p,$,g,v,w,I=d.length,S=0;for(v=0;v<I;v++)(64512&($=d.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=d.charCodeAt(v+1)))==56320&&($=65536+($-55296<<10)+(g-56320),v++),S+=$<128?1:$<2048?2:$<65536?3:4;for(p=o.uint8array?new Uint8Array(S):new Array(S),v=w=0;w<S;v++)(64512&($=d.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=d.charCodeAt(v+1)))==56320&&($=65536+($-55296<<10)+(g-56320),v++),$<128?p[w++]=$:($<2048?p[w++]=192|$>>>6:($<65536?p[w++]=224|$>>>12:(p[w++]=240|$>>>18,p[w++]=128|$>>>12&63),p[w++]=128|$>>>6&63),p[w++]=128|63&$);return p}(m)},r.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(d){var p,$,g,v,w=d.length,I=new Array(2*w);for(p=$=0;p<w;)if((g=d[p++])<128)I[$++]=g;else if(4<(v=u[g]))I[$++]=65533,p+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&p<w;)g=g<<6|63&d[p++],v--;1<v?I[$++]=65533:g<65536?I[$++]=g:(g-=65536,I[$++]=55296|g>>10&1023,I[$++]=56320|1023&g)}return I.length!==$&&(I.subarray?I=I.subarray(0,$):I.length=$),s.applyFromCharCode(I)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,l),f.prototype.processChunk=function(m){var d=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=d;(d=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),d.set(p,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var $=function(v,w){var I;for((w=w||v.length)>v.length&&(w=v.length),I=w-1;0<=I&&(192&v[I])==128;)I--;return I<0||I===0?w:I+u[v[I]]>w?I:w}(d),g=d;$!==d.length&&(o.uint8array?(g=d.subarray(0,$),this.leftOver=d.subarray($,d.length)):(g=d.slice(0,$),this.leftOver=d.slice($,d.length))),this.push({data:r.utf8decode(g),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(m){this.push({data:r.utf8encode(m.data),meta:m.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function u(p){return p}function c(p,$){for(var g=0;g<p.length;++g)$[g]=255&p.charCodeAt(g);return $}t("setimmediate"),r.newBlob=function(p,$){r.checkSupport("blob");try{return new Blob([p],{type:$})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(p,$,g){var v=[],w=0,I=p.length;if(I<=g)return String.fromCharCode.apply(null,p);for(;w<I;)$==="array"||$==="nodebuffer"?v.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+g,I)))):v.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+g,I)))),w+=g;return v.join("")},stringifyByChar:function(p){for(var $="",g=0;g<p.length;g++)$+=String.fromCharCode(p[g]);return $},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(p){var $=65536,g=r.getTypeOf(p),v=!0;if(g==="uint8array"?v=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<$;)try{return f.stringifyByChunk(p,g,$)}catch{$=Math.floor($/2)}return f.stringifyByChar(p)}function m(p,$){for(var g=0;g<p.length;g++)$[g]=p[g];return $}r.applyFromCharCode=h;var d={};d.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return d.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,a.allocBuffer(p.length))}},d.array={string:h,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},d.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return m(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},d.uint8array={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},d.nodebuffer={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return d.nodebuffer.uint8array(p).buffer},uint8array:function(p){return m(p,new Uint8Array(p.length))},nodebuffer:u},r.transformTo=function(p,$){if($=$||"",!p)return $;r.checkSupport(p);var g=r.getTypeOf($);return d[g][p]($)},r.resolve=function(p){for(var $=p.split("/"),g=[],v=0;v<$.length;v++){var w=$[v];w==="."||w===""&&v!==0&&v!==$.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},r.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(p){var $,g,v="";for(g=0;g<(p||"").length;g++)v+="\\x"+(($=p.charCodeAt(g))<16?"0":"")+$.toString(16).toUpperCase();return v},r.delay=function(p,$,g){setImmediate(function(){p.apply(g||null,$||[])})},r.inherits=function(p,$){function g(){}g.prototype=$.prototype,p.prototype=new g},r.extend=function(){var p,$,g={};for(p=0;p<arguments.length;p++)for($ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],$)&&g[$]===void 0&&(g[$]=arguments[p][$]);return g},r.prepareContent=function(p,$,g,v,w){return l.Promise.resolve($).then(function(I){return s.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,P){var R=new FileReader;R.onload=function(W){S(W.target.result)},R.onerror=function(W){P(W.target.error)},R.readAsArrayBuffer(I)}):I}).then(function(I){var S=r.getTypeOf(I);return S?(S==="arraybuffer"?I=r.transformTo("uint8array",I):S==="string"&&(w?I=o.decode(I):g&&v!==!0&&(I=function(P){return c(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))}(I))),I):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),u=t("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var m=this.reader.index;this.reader.setIndex(f);var d=this.reader.readString(4)===h;return this.reader.setIndex(m),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",m=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,m,d=this.zip64EndOfCentralSize-44;0<d;)f=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var d=h-m;if(0<d)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),c=t("./compressions"),f=t("./support");function h(m,d){this.options=m,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var d,p;if(m.skip(22),this.fileNameLength=m.readInt(2),p=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function($){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===$)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,d,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var d=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(d),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var d,p,$,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)d=m.readInt(2),p=m.readInt(2),$=m.readData(p),this.extraFields[d]={id:d,length:p,value:$};m.setIndex(g)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(d,p,$){this.name=d,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=p,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),c=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var p=null,$="string";try{if(!d)throw new Error("No output type specified.");var g=($=d.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),p=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(p=p.pipe(new l.Utf8EncodeWorker)),!v&&g&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new c("error")).error(w)}return new o(p,$,"")},async:function(d,p){return this.internalStream(d).accumulate(p)},nodeStream:function(d,p){return this.internalStream(d||"nodebuffer").toNodejsStream(p)},_compressWorker:function(d,p){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom($,d,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(d),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){d(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(d,0)};else{var h=new s.MessageChannel;h.port1.onmessage=d,o=function(){h.port2.postMessage(0)}}var m=[];function d(){var p,$;a=!0;for(var g=m.length;g;){for($=m,m=[],p=-1;++p<g;)$[p]();g=m.length}a=!1}n.exports=function(p){m.push(p)!==1||a||o()}}).call(this,typeof Rn<"u"?Rn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&p(this,g)}function h(g,v,w){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(g,v,w){s(function(){var I;try{I=v(w)}catch(S){return a.reject(g,S)}I===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,I)})}function d(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function p(g,v){var w=!1;function I(R){w||(w=!0,a.reject(g,R))}function S(R){w||(w=!0,a.resolve(g,R))}var P=$(function(){v(S,I)});P.status==="error"&&I(P.value)}function $(g,v){var w={};try{w.value=g(v),w.status="success"}catch(I){w.status="error",w.value=I}return w}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(g()).then(function(){return w})},function(w){return v.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,v){if(typeof g!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==c?m(w,this.state===u?g:v,this.outcome):this.queue.push(new h(w,g,v)),w},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,v){var w=$(d,v);if(w.status==="error")return a.reject(g,w.value);var I=w.value;if(I)p(g,I);else{g.state=u,g.outcome=v;for(var S=-1,P=g.queue.length;++S<P;)g.queue[S].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var w=-1,I=g.queue.length;++w<I;)g.queue[w].callRejected(v);return g},f.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},f.reject=function(g){var v=new this(o);return a.reject(v,g)},f.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,I=!1;if(!w)return this.resolve([]);for(var S=new Array(w),P=0,R=-1,W=new this(o);++R<w;)D(g[R],R);return W;function D(x,X){v.resolve(x).then(function(T){S[X]=T,++P!==w||I||(I=!0,a.resolve(W,S))},function(T){I||(I=!0,a.reject(W,T))})}},f.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,I=!1;if(!w)return this.resolve([]);for(var S=-1,P=new this(o);++S<w;)R=g[S],v.resolve(R).then(function(W){I||(I=!0,a.resolve(P,W))},function(W){I||(I=!0,a.reject(P,W))});var R;return P}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=Object.prototype.toString,f=0,h=-1,m=0,d=8;function p(g){if(!(this instanceof p))return new p(g);this.options=o.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==f)throw new Error(l[w]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var I;if(I=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=s.deflateSetDictionary(this.strm,I))!==f)throw new Error(l[w]);this._dict_set=!0}}function $(g,v){var w=new p(v);if(w.push(g,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(g,v){var w,I,S=this.strm,P=this.options.chunkSize;if(this.ended)return!1;I=v===~~v?v:v===!0?4:0,typeof g=="string"?S.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(P),S.next_out=0,S.avail_out=P),(w=s.deflate(S,I))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return I===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):I!==2||(this.onEnd(f),!(S.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=p,r.deflate=$,r.deflateRaw=function(g,v){return(v=v||{}).raw=!0,$(g,v)},r.gzip=function(g,v){return(v=v||{}).gzip=!0,$(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),h=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||p&&p.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,$.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function d(p,$){var g=new m($);if(g.push(p,!0),g.err)throw g.msg||u[g.err];return g.result}m.prototype.push=function(p,$){var g,v,w,I,S,P,R=this.strm,W=this.options.chunkSize,D=this.options.dictionary,x=!1;if(this.ended)return!1;v=$===~~$?$:$===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?R.input=a.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?R.input=new Uint8Array(p):R.input=p,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(W),R.next_out=0,R.avail_out=W),(g=s.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(P=typeof D=="string"?a.string2buf(D):h.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=s.inflateSetDictionary(this.strm,P)),g===l.Z_BUF_ERROR&&x===!0&&(g=l.Z_OK,x=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&g!==l.Z_STREAM_END&&(R.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(R.output,R.next_out),I=R.next_out-w,S=a.buf2string(R.output,w),R.next_out=I,R.avail_out=W-I,I&&o.arraySet(R.output,R.output,w,I,0),this.onData(S)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(x=!0)}while((0<R.avail_in||R.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Inflate=m,r.inflate=d,r.inflateRaw=function(p,$){return($=$||{}).raw=!0,d(p,$)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),h);else for(var m=0;m<f;m++)l[h+m]=u[c+m]},flattenChunks:function(l){var u,c,f,h,m,d;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(d=new Uint8Array(f),u=h=0,c=l.length;u<c;u++)m=l[u],d.set(m,h),h+=m.length;return d}},a={arraySet:function(l,u,c,f,h){for(var m=0;m<f;m++)l[h+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,h){if(h<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var m="",d=0;d<h;d++)m+=String.fromCharCode(f[d]);return m}l[254]=l[254]=1,r.string2buf=function(f){var h,m,d,p,$,g=f.length,v=0;for(p=0;p<g;p++)(64512&(m=f.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=f.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),v+=m<128?1:m<2048?2:m<65536?3:4;for(h=new s.Buf8(v),p=$=0;$<v;p++)(64512&(m=f.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=f.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),m<128?h[$++]=m:(m<2048?h[$++]=192|m>>>6:(m<65536?h[$++]=224|m>>>12:(h[$++]=240|m>>>18,h[$++]=128|m>>>12&63),h[$++]=128|m>>>6&63),h[$++]=128|63&m);return h},r.buf2binstring=function(f){return c(f,f.length)},r.binstring2buf=function(f){for(var h=new s.Buf8(f.length),m=0,d=h.length;m<d;m++)h[m]=f.charCodeAt(m);return h},r.buf2string=function(f,h){var m,d,p,$,g=h||f.length,v=new Array(2*g);for(m=d=0;m<g;)if((p=f[m++])<128)v[d++]=p;else if(4<($=l[p]))v[d++]=65533,m+=$-1;else{for(p&=$===2?31:$===3?15:7;1<$&&m<g;)p=p<<6|63&f[m++],$--;1<$?v[d++]=65533:p<65536?v[d++]=p:(p-=65536,v[d++]=55296|p>>10&1023,v[d++]=56320|1023&p)}return c(v,d)},r.utf8border=function(f,h){var m;for((h=h||f.length)>f.length&&(h=f.length),m=h-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?h:m+l[f[m]]>h?m:h}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var c=s,f=u+l;o^=-1;for(var h=u;h<f;h++)o=o>>>8^c[255&(o^a[h])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),u=t("./crc32"),c=t("./messages"),f=0,h=4,m=0,d=-2,p=-1,$=4,g=2,v=8,w=9,I=286,S=30,P=19,R=2*I+1,W=15,D=3,x=258,X=x+D+1,T=42,F=113,b=1,V=2,me=3,Y=4;function se(_,ne){return _.msg=c[ne],ne}function J(_){return(_<<1)-(4<_?9:0)}function _e(_){for(var ne=_.length;0<=--ne;)_[ne]=0}function U(_){var ne=_.state,j=ne.pending;j>_.avail_out&&(j=_.avail_out),j!==0&&(o.arraySet(_.output,ne.pending_buf,ne.pending_out,j,_.next_out),_.next_out+=j,ne.pending_out+=j,_.total_out+=j,_.avail_out-=j,ne.pending-=j,ne.pending===0&&(ne.pending_out=0))}function B(_,ne){a._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,ne),_.block_start=_.strstart,U(_.strm)}function Z(_,ne){_.pending_buf[_.pending++]=ne}function q(_,ne){_.pending_buf[_.pending++]=ne>>>8&255,_.pending_buf[_.pending++]=255&ne}function z(_,ne){var j,A,E=_.max_chain_length,N=_.strstart,re=_.prev_length,ie=_.nice_match,H=_.strstart>_.w_size-X?_.strstart-(_.w_size-X):0,fe=_.window,ge=_.w_mask,he=_.prev,Ae=_.strstart+x,ue=fe[N+re-1],be=fe[N+re];_.prev_length>=_.good_match&&(E>>=2),ie>_.lookahead&&(ie=_.lookahead);do if(fe[(j=ne)+re]===be&&fe[j+re-1]===ue&&fe[j]===fe[N]&&fe[++j]===fe[N+1]){N+=2,j++;do;while(fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&fe[++N]===fe[++j]&&N<Ae);if(A=x-(Ae-N),N=Ae-x,re<A){if(_.match_start=ne,ie<=(re=A))break;ue=fe[N+re-1],be=fe[N+re]}}while((ne=he[ne&ge])>H&&--E!=0);return re<=_.lookahead?re:_.lookahead}function ee(_){var ne,j,A,E,N,re,ie,H,fe,ge,he=_.w_size;do{if(E=_.window_size-_.lookahead-_.strstart,_.strstart>=he+(he-X)){for(o.arraySet(_.window,_.window,he,he,0),_.match_start-=he,_.strstart-=he,_.block_start-=he,ne=j=_.hash_size;A=_.head[--ne],_.head[ne]=he<=A?A-he:0,--j;);for(ne=j=he;A=_.prev[--ne],_.prev[ne]=he<=A?A-he:0,--j;);E+=he}if(_.strm.avail_in===0)break;if(re=_.strm,ie=_.window,H=_.strstart+_.lookahead,fe=E,ge=void 0,ge=re.avail_in,fe<ge&&(ge=fe),j=ge===0?0:(re.avail_in-=ge,o.arraySet(ie,re.input,re.next_in,ge,H),re.state.wrap===1?re.adler=l(re.adler,ie,ge,H):re.state.wrap===2&&(re.adler=u(re.adler,ie,ge,H)),re.next_in+=ge,re.total_in+=ge,ge),_.lookahead+=j,_.lookahead+_.insert>=D)for(N=_.strstart-_.insert,_.ins_h=_.window[N],_.ins_h=(_.ins_h<<_.hash_shift^_.window[N+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[N+D-1])&_.hash_mask,_.prev[N&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=N,N++,_.insert--,!(_.lookahead+_.insert<D)););}while(_.lookahead<X&&_.strm.avail_in!==0)}function ze(_,ne){for(var j,A;;){if(_.lookahead<X){if(ee(_),_.lookahead<X&&ne===f)return b;if(_.lookahead===0)break}if(j=0,_.lookahead>=D&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,j=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),j!==0&&_.strstart-j<=_.w_size-X&&(_.match_length=z(_,j)),_.match_length>=D)if(A=a._tr_tally(_,_.strstart-_.match_start,_.match_length-D),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=D){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,j=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else A=a._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(A&&(B(_,!1),_.strm.avail_out===0))return b}return _.insert=_.strstart<D-1?_.strstart:D-1,ne===h?(B(_,!0),_.strm.avail_out===0?me:Y):_.last_lit&&(B(_,!1),_.strm.avail_out===0)?b:V}function Se(_,ne){for(var j,A,E;;){if(_.lookahead<X){if(ee(_),_.lookahead<X&&ne===f)return b;if(_.lookahead===0)break}if(j=0,_.lookahead>=D&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,j=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=D-1,j!==0&&_.prev_length<_.max_lazy_match&&_.strstart-j<=_.w_size-X&&(_.match_length=z(_,j),_.match_length<=5&&(_.strategy===1||_.match_length===D&&4096<_.strstart-_.match_start)&&(_.match_length=D-1)),_.prev_length>=D&&_.match_length<=_.prev_length){for(E=_.strstart+_.lookahead-D,A=a._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-D),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=E&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,j=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=D-1,_.strstart++,A&&(B(_,!1),_.strm.avail_out===0))return b}else if(_.match_available){if((A=a._tr_tally(_,0,_.window[_.strstart-1]))&&B(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return b}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(A=a._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<D-1?_.strstart:D-1,ne===h?(B(_,!0),_.strm.avail_out===0?me:Y):_.last_lit&&(B(_,!1),_.strm.avail_out===0)?b:V}function Ue(_,ne,j,A,E){this.good_length=_,this.max_lazy=ne,this.nice_length=j,this.max_chain=A,this.func=E}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),_e(this.dyn_ltree),_e(this.dyn_dtree),_e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(W+1),this.heap=new o.Buf16(2*I+1),_e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*I+1),_e(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(_){var ne;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=g,(ne=_.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?T:F,_.adler=ne.wrap===2?0:1,ne.last_flush=f,a._tr_init(ne),m):se(_,d)}function rt(_){var ne=Oe(_);return ne===m&&function(j){j.window_size=2*j.w_size,_e(j.head),j.max_lazy_match=s[j.level].max_lazy,j.good_match=s[j.level].good_length,j.nice_match=s[j.level].nice_length,j.max_chain_length=s[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=D-1,j.match_available=0,j.ins_h=0}(_.state),ne}function Qe(_,ne,j,A,E,N){if(!_)return d;var re=1;if(ne===p&&(ne=6),A<0?(re=0,A=-A):15<A&&(re=2,A-=16),E<1||w<E||j!==v||A<8||15<A||ne<0||9<ne||N<0||$<N)return se(_,d);A===8&&(A=9);var ie=new Be;return(_.state=ie).strm=_,ie.wrap=re,ie.gzhead=null,ie.w_bits=A,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=E+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+D-1)/D),ie.window=new o.Buf8(2*ie.w_size),ie.head=new o.Buf16(ie.hash_size),ie.prev=new o.Buf16(ie.w_size),ie.lit_bufsize=1<<E+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new o.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=ne,ie.strategy=N,ie.method=j,rt(_)}s=[new Ue(0,0,0,0,function(_,ne){var j=65535;for(j>_.pending_buf_size-5&&(j=_.pending_buf_size-5);;){if(_.lookahead<=1){if(ee(_),_.lookahead===0&&ne===f)return b;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var A=_.block_start+j;if((_.strstart===0||_.strstart>=A)&&(_.lookahead=_.strstart-A,_.strstart=A,B(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-X&&(B(_,!1),_.strm.avail_out===0))return b}return _.insert=0,ne===h?(B(_,!0),_.strm.avail_out===0?me:Y):(_.strstart>_.block_start&&(B(_,!1),_.strm.avail_out),b)}),new Ue(4,4,8,4,ze),new Ue(4,5,16,8,ze),new Ue(4,6,32,32,ze),new Ue(4,4,16,16,Se),new Ue(8,16,32,32,Se),new Ue(8,16,128,128,Se),new Ue(8,32,128,256,Se),new Ue(32,128,258,1024,Se),new Ue(32,258,258,4096,Se)],r.deflateInit=function(_,ne){return Qe(_,ne,v,15,8,0)},r.deflateInit2=Qe,r.deflateReset=rt,r.deflateResetKeep=Oe,r.deflateSetHeader=function(_,ne){return _&&_.state?_.state.wrap!==2?d:(_.state.gzhead=ne,m):d},r.deflate=function(_,ne){var j,A,E,N;if(!_||!_.state||5<ne||ne<0)return _?se(_,d):d;if(A=_.state,!_.output||!_.input&&_.avail_in!==0||A.status===666&&ne!==h)return se(_,_.avail_out===0?-5:d);if(A.strm=_,j=A.last_flush,A.last_flush=ne,A.status===T)if(A.wrap===2)_.adler=0,Z(A,31),Z(A,139),Z(A,8),A.gzhead?(Z(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),Z(A,255&A.gzhead.time),Z(A,A.gzhead.time>>8&255),Z(A,A.gzhead.time>>16&255),Z(A,A.gzhead.time>>24&255),Z(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),Z(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(Z(A,255&A.gzhead.extra.length),Z(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(_.adler=u(_.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(Z(A,0),Z(A,0),Z(A,0),Z(A,0),Z(A,0),Z(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),Z(A,3),A.status=F);else{var re=v+(A.w_bits-8<<4)<<8;re|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(re|=32),re+=31-re%31,A.status=F,q(A,re),A.strstart!==0&&(q(A,_.adler>>>16),q(A,65535&_.adler)),_.adler=1}if(A.status===69)if(A.gzhead.extra){for(E=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),U(_),E=A.pending,A.pending!==A.pending_buf_size));)Z(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){E=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),U(_),E=A.pending,A.pending===A.pending_buf_size)){N=1;break}N=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,Z(A,N)}while(N!==0);A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),N===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){E=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),U(_),E=A.pending,A.pending===A.pending_buf_size)){N=1;break}N=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,Z(A,N)}while(N!==0);A.gzhead.hcrc&&A.pending>E&&(_.adler=u(_.adler,A.pending_buf,A.pending-E,E)),N===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&U(_),A.pending+2<=A.pending_buf_size&&(Z(A,255&_.adler),Z(A,_.adler>>8&255),_.adler=0,A.status=F)):A.status=F),A.pending!==0){if(U(_),_.avail_out===0)return A.last_flush=-1,m}else if(_.avail_in===0&&J(ne)<=J(j)&&ne!==h)return se(_,-5);if(A.status===666&&_.avail_in!==0)return se(_,-5);if(_.avail_in!==0||A.lookahead!==0||ne!==f&&A.status!==666){var ie=A.strategy===2?function(H,fe){for(var ge;;){if(H.lookahead===0&&(ee(H),H.lookahead===0)){if(fe===f)return b;break}if(H.match_length=0,ge=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,ge&&(B(H,!1),H.strm.avail_out===0))return b}return H.insert=0,fe===h?(B(H,!0),H.strm.avail_out===0?me:Y):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?b:V}(A,ne):A.strategy===3?function(H,fe){for(var ge,he,Ae,ue,be=H.window;;){if(H.lookahead<=x){if(ee(H),H.lookahead<=x&&fe===f)return b;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=D&&0<H.strstart&&(he=be[Ae=H.strstart-1])===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]){ue=H.strstart+x;do;while(he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&he===be[++Ae]&&Ae<ue);H.match_length=x-(ue-Ae),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=D?(ge=a._tr_tally(H,1,H.match_length-D),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(ge=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),ge&&(B(H,!1),H.strm.avail_out===0))return b}return H.insert=0,fe===h?(B(H,!0),H.strm.avail_out===0?me:Y):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?b:V}(A,ne):s[A.level].func(A,ne);if(ie!==me&&ie!==Y||(A.status=666),ie===b||ie===me)return _.avail_out===0&&(A.last_flush=-1),m;if(ie===V&&(ne===1?a._tr_align(A):ne!==5&&(a._tr_stored_block(A,0,0,!1),ne===3&&(_e(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),U(_),_.avail_out===0))return A.last_flush=-1,m}return ne!==h?m:A.wrap<=0?1:(A.wrap===2?(Z(A,255&_.adler),Z(A,_.adler>>8&255),Z(A,_.adler>>16&255),Z(A,_.adler>>24&255),Z(A,255&_.total_in),Z(A,_.total_in>>8&255),Z(A,_.total_in>>16&255),Z(A,_.total_in>>24&255)):(q(A,_.adler>>>16),q(A,65535&_.adler)),U(_),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?m:1)},r.deflateEnd=function(_){var ne;return _&&_.state?(ne=_.state.status)!==T&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==F&&ne!==666?se(_,d):(_.state=null,ne===F?se(_,-3):m):d},r.deflateSetDictionary=function(_,ne){var j,A,E,N,re,ie,H,fe,ge=ne.length;if(!_||!_.state||(N=(j=_.state).wrap)===2||N===1&&j.status!==T||j.lookahead)return d;for(N===1&&(_.adler=l(_.adler,ne,ge,0)),j.wrap=0,ge>=j.w_size&&(N===0&&(_e(j.head),j.strstart=0,j.block_start=0,j.insert=0),fe=new o.Buf8(j.w_size),o.arraySet(fe,ne,ge-j.w_size,j.w_size,0),ne=fe,ge=j.w_size),re=_.avail_in,ie=_.next_in,H=_.input,_.avail_in=ge,_.next_in=0,_.input=ne,ee(j);j.lookahead>=D;){for(A=j.strstart,E=j.lookahead-(D-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[A+D-1])&j.hash_mask,j.prev[A&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=A,A++,--E;);j.strstart=A,j.lookahead=D-1,ee(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=D-1,j.match_available=0,_.next_in=ie,_.input=H,_.avail_in=re,j.wrap=N,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var a,l,u,c,f,h,m,d,p,$,g,v,w,I,S,P,R,W,D,x,X,T,F,b,V;a=s.state,l=s.next_in,b=s.input,u=l+(s.avail_in-5),c=s.next_out,V=s.output,f=c-(o-s.avail_out),h=c+(s.avail_out-257),m=a.dmax,d=a.wsize,p=a.whave,$=a.wnext,g=a.window,v=a.hold,w=a.bits,I=a.lencode,S=a.distcode,P=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),W=I[v&P];t:for(;;){if(v>>>=D=W>>>24,w-=D,(D=W>>>16&255)===0)V[c++]=65535&W;else{if(!(16&D)){if(!(64&D)){W=I[(65535&W)+(v&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}x=65535&W,(D&=15)&&(w<D&&(v+=b[l++]<<w,w+=8),x+=v&(1<<D)-1,v>>>=D,w-=D),w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),W=S[v&R];n:for(;;){if(v>>>=D=W>>>24,w-=D,!(16&(D=W>>>16&255))){if(!(64&D)){W=S[(65535&W)+(v&(1<<D)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(X=65535&W,w<(D&=15)&&(v+=b[l++]<<w,(w+=8)<D&&(v+=b[l++]<<w,w+=8)),m<(X+=v&(1<<D)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=D,w-=D,(D=c-f)<X){if(p<(D=X-D)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(F=g,(T=0)===$){if(T+=d-D,D<x){for(x-=D;V[c++]=g[T++],--D;);T=c-X,F=V}}else if($<D){if(T+=d+$-D,(D-=$)<x){for(x-=D;V[c++]=g[T++],--D;);if(T=0,$<x){for(x-=D=$;V[c++]=g[T++],--D;);T=c-X,F=V}}}else if(T+=$-D,D<x){for(x-=D;V[c++]=g[T++],--D;);T=c-X,F=V}for(;2<x;)V[c++]=F[T++],V[c++]=F[T++],V[c++]=F[T++],x-=3;x&&(V[c++]=F[T++],1<x&&(V[c++]=F[T++]))}else{for(T=c-X;V[c++]=V[T++],V[c++]=V[T++],V[c++]=V[T++],2<(x-=3););x&&(V[c++]=V[T++],1<x&&(V[c++]=V[T++]))}break}}break}}while(l<u&&c<h);l-=x=w>>3,v&=(1<<(w-=x<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<h?h-c+257:257-(c-h),a.hold=v,a.bits=w}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),c=1,f=2,h=0,m=-2,d=1,p=852,$=592;function g(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var F;return T&&T.state?(F=T.state,T.total_in=T.total_out=F.total=0,T.msg="",F.wrap&&(T.adler=1&F.wrap),F.mode=d,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new s.Buf32(p),F.distcode=F.distdyn=new s.Buf32($),F.sane=1,F.back=-1,h):m}function I(T){var F;return T&&T.state?((F=T.state).wsize=0,F.whave=0,F.wnext=0,w(T)):m}function S(T,F){var b,V;return T&&T.state?(V=T.state,F<0?(b=0,F=-F):(b=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?m:(V.window!==null&&V.wbits!==F&&(V.window=null),V.wrap=b,V.wbits=F,I(T))):m}function P(T,F){var b,V;return T?(V=new v,(T.state=V).window=null,(b=S(T,F))!==h&&(T.state=null),b):m}var R,W,D=!0;function x(T){if(D){var F;for(R=new s.Buf32(512),W=new s.Buf32(32),F=0;F<144;)T.lens[F++]=8;for(;F<256;)T.lens[F++]=9;for(;F<280;)T.lens[F++]=7;for(;F<288;)T.lens[F++]=8;for(u(c,T.lens,0,288,R,0,T.work,{bits:9}),F=0;F<32;)T.lens[F++]=5;u(f,T.lens,0,32,W,0,T.work,{bits:5}),D=!1}T.lencode=R,T.lenbits=9,T.distcode=W,T.distbits=5}function X(T,F,b,V){var me,Y=T.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),V>=Y.wsize?(s.arraySet(Y.window,F,b-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(V<(me=Y.wsize-Y.wnext)&&(me=V),s.arraySet(Y.window,F,b-V,me,Y.wnext),(V-=me)?(s.arraySet(Y.window,F,b-V,V,0),Y.wnext=V,Y.whave=Y.wsize):(Y.wnext+=me,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=me))),0}r.inflateReset=I,r.inflateReset2=S,r.inflateResetKeep=w,r.inflateInit=function(T){return P(T,15)},r.inflateInit2=P,r.inflate=function(T,F){var b,V,me,Y,se,J,_e,U,B,Z,q,z,ee,ze,Se,Ue,Be,Oe,rt,Qe,_,ne,j,A,E=0,N=new s.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return m;(b=T.state).mode===12&&(b.mode=13),se=T.next_out,me=T.output,_e=T.avail_out,Y=T.next_in,V=T.input,J=T.avail_in,U=b.hold,B=b.bits,Z=J,q=_e,ne=h;e:for(;;)switch(b.mode){case d:if(b.wrap===0){b.mode=13;break}for(;B<16;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(2&b.wrap&&U===35615){N[b.check=0]=255&U,N[1]=U>>>8&255,b.check=a(b.check,N,2,0),B=U=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&U)<<8)+(U>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&U)!=8){T.msg="unknown compression method",b.mode=30;break}if(B-=4,_=8+(15&(U>>>=4)),b.wbits===0)b.wbits=_;else if(_>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<_,T.adler=b.check=1,b.mode=512&U?10:12,B=U=0;break;case 2:for(;B<16;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(b.flags=U,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=U>>8&1),512&b.flags&&(N[0]=255&U,N[1]=U>>>8&255,b.check=a(b.check,N,2,0)),B=U=0,b.mode=3;case 3:for(;B<32;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.head&&(b.head.time=U),512&b.flags&&(N[0]=255&U,N[1]=U>>>8&255,N[2]=U>>>16&255,N[3]=U>>>24&255,b.check=a(b.check,N,4,0)),B=U=0,b.mode=4;case 4:for(;B<16;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.head&&(b.head.xflags=255&U,b.head.os=U>>8),512&b.flags&&(N[0]=255&U,N[1]=U>>>8&255,b.check=a(b.check,N,2,0)),B=U=0,b.mode=5;case 5:if(1024&b.flags){for(;B<16;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.length=U,b.head&&(b.head.extra_len=U),512&b.flags&&(N[0]=255&U,N[1]=U>>>8&255,b.check=a(b.check,N,2,0)),B=U=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(J<(z=b.length)&&(z=J),z&&(b.head&&(_=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,V,Y,z,_)),512&b.flags&&(b.check=a(b.check,V,z,Y)),J-=z,Y+=z,b.length-=z),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(J===0)break e;for(z=0;_=V[Y+z++],b.head&&_&&b.length<65536&&(b.head.name+=String.fromCharCode(_)),_&&z<J;);if(512&b.flags&&(b.check=a(b.check,V,z,Y)),J-=z,Y+=z,_)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(J===0)break e;for(z=0;_=V[Y+z++],b.head&&_&&b.length<65536&&(b.head.comment+=String.fromCharCode(_)),_&&z<J;);if(512&b.flags&&(b.check=a(b.check,V,z,Y)),J-=z,Y+=z,_)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;B<16;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(U!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}B=U=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;B<32;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}T.adler=b.check=g(U),B=U=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=se,T.avail_out=_e,T.next_in=Y,T.avail_in=J,b.hold=U,b.bits=B,2;T.adler=b.check=1,b.mode=12;case 12:if(F===5||F===6)break e;case 13:if(b.last){U>>>=7&B,B-=7&B,b.mode=27;break}for(;B<3;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}switch(b.last=1&U,B-=1,3&(U>>>=1)){case 0:b.mode=14;break;case 1:if(x(b),b.mode=20,F!==6)break;U>>>=2,B-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}U>>>=2,B-=2;break;case 14:for(U>>>=7&B,B-=7&B;B<32;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if((65535&U)!=(U>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&U,B=U=0,b.mode=15,F===6)break e;case 15:b.mode=16;case 16:if(z=b.length){if(J<z&&(z=J),_e<z&&(z=_e),z===0)break e;s.arraySet(me,V,Y,z,se),J-=z,Y+=z,_e-=z,se+=z,b.length-=z;break}b.mode=12;break;case 17:for(;B<14;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(b.nlen=257+(31&U),U>>>=5,B-=5,b.ndist=1+(31&U),U>>>=5,B-=5,b.ncode=4+(15&U),U>>>=4,B-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;B<3;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.lens[re[b.have++]]=7&U,U>>>=3,B-=3}for(;b.have<19;)b.lens[re[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,j={bits:b.lenbits},ne=u(0,b.lens,0,19,b.lencode,0,b.work,j),b.lenbits=j.bits,ne){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Ue=(E=b.lencode[U&(1<<b.lenbits)-1])>>>16&255,Be=65535&E,!((Se=E>>>24)<=B);){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(Be<16)U>>>=Se,B-=Se,b.lens[b.have++]=Be;else{if(Be===16){for(A=Se+2;B<A;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(U>>>=Se,B-=Se,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}_=b.lens[b.have-1],z=3+(3&U),U>>>=2,B-=2}else if(Be===17){for(A=Se+3;B<A;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}B-=Se,_=0,z=3+(7&(U>>>=Se)),U>>>=3,B-=3}else{for(A=Se+7;B<A;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}B-=Se,_=0,z=11+(127&(U>>>=Se)),U>>>=7,B-=7}if(b.have+z>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;z--;)b.lens[b.have++]=_}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,j={bits:b.lenbits},ne=u(c,b.lens,0,b.nlen,b.lencode,0,b.work,j),b.lenbits=j.bits,ne){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,j={bits:b.distbits},ne=u(f,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,j),b.distbits=j.bits,ne){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,F===6)break e;case 20:b.mode=21;case 21:if(6<=J&&258<=_e){T.next_out=se,T.avail_out=_e,T.next_in=Y,T.avail_in=J,b.hold=U,b.bits=B,l(T,q),se=T.next_out,me=T.output,_e=T.avail_out,Y=T.next_in,V=T.input,J=T.avail_in,U=b.hold,B=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Ue=(E=b.lencode[U&(1<<b.lenbits)-1])>>>16&255,Be=65535&E,!((Se=E>>>24)<=B);){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(Ue&&!(240&Ue)){for(Oe=Se,rt=Ue,Qe=Be;Ue=(E=b.lencode[Qe+((U&(1<<Oe+rt)-1)>>Oe)])>>>16&255,Be=65535&E,!(Oe+(Se=E>>>24)<=B);){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}U>>>=Oe,B-=Oe,b.back+=Oe}if(U>>>=Se,B-=Se,b.back+=Se,b.length=Be,Ue===0){b.mode=26;break}if(32&Ue){b.back=-1,b.mode=12;break}if(64&Ue){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Ue,b.mode=22;case 22:if(b.extra){for(A=b.extra;B<A;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.length+=U&(1<<b.extra)-1,U>>>=b.extra,B-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Ue=(E=b.distcode[U&(1<<b.distbits)-1])>>>16&255,Be=65535&E,!((Se=E>>>24)<=B);){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(!(240&Ue)){for(Oe=Se,rt=Ue,Qe=Be;Ue=(E=b.distcode[Qe+((U&(1<<Oe+rt)-1)>>Oe)])>>>16&255,Be=65535&E,!(Oe+(Se=E>>>24)<=B);){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}U>>>=Oe,B-=Oe,b.back+=Oe}if(U>>>=Se,B-=Se,b.back+=Se,64&Ue){T.msg="invalid distance code",b.mode=30;break}b.offset=Be,b.extra=15&Ue,b.mode=24;case 24:if(b.extra){for(A=b.extra;B<A;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}b.offset+=U&(1<<b.extra)-1,U>>>=b.extra,B-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(_e===0)break e;if(z=q-_e,b.offset>z){if((z=b.offset-z)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}ee=z>b.wnext?(z-=b.wnext,b.wsize-z):b.wnext-z,z>b.length&&(z=b.length),ze=b.window}else ze=me,ee=se-b.offset,z=b.length;for(_e<z&&(z=_e),_e-=z,b.length-=z;me[se++]=ze[ee++],--z;);b.length===0&&(b.mode=21);break;case 26:if(_e===0)break e;me[se++]=b.length,_e--,b.mode=21;break;case 27:if(b.wrap){for(;B<32;){if(J===0)break e;J--,U|=V[Y++]<<B,B+=8}if(q-=_e,T.total_out+=q,b.total+=q,q&&(T.adler=b.check=b.flags?a(b.check,me,q,se-q):o(b.check,me,q,se-q)),q=_e,(b.flags?U:g(U))!==b.check){T.msg="incorrect data check",b.mode=30;break}B=U=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;B<32;){if(J===0)break e;J--,U+=V[Y++]<<B,B+=8}if(U!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}B=U=0}b.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return m}return T.next_out=se,T.avail_out=_e,T.next_in=Y,T.avail_in=J,b.hold=U,b.bits=B,(b.wsize||q!==T.avail_out&&b.mode<30&&(b.mode<27||F!==4))&&X(T,T.output,T.next_out,q-T.avail_out)?(b.mode=31,-4):(Z-=T.avail_in,q-=T.avail_out,T.total_in+=Z,T.total_out+=q,b.total+=q,b.wrap&&q&&(T.adler=b.check=b.flags?a(b.check,me,q,T.next_out-q):o(b.check,me,q,T.next_out-q)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(Z==0&&q===0||F===4)&&ne===h&&(ne=-5),ne)},r.inflateEnd=function(T){if(!T||!T.state)return m;var F=T.state;return F.window&&(F.window=null),T.state=null,h},r.inflateGetHeader=function(T,F){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=F).done=!1,h):m},r.inflateSetDictionary=function(T,F){var b,V=F.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?m:b.mode===11&&o(1,F,V,0)!==b.check?-3:X(T,F,V,V)?(b.mode=31,-4):(b.havedict=1,h):m},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,h,m,d,p,$,g){var v,w,I,S,P,R,W,D,x,X=g.bits,T=0,F=0,b=0,V=0,me=0,Y=0,se=0,J=0,_e=0,U=0,B=null,Z=0,q=new s.Buf16(16),z=new s.Buf16(16),ee=null,ze=0;for(T=0;T<=15;T++)q[T]=0;for(F=0;F<m;F++)q[f[h+F]]++;for(me=X,V=15;1<=V&&q[V]===0;V--);if(V<me&&(me=V),V===0)return d[p++]=20971520,d[p++]=20971520,g.bits=1,0;for(b=1;b<V&&q[b]===0;b++);for(me<b&&(me=b),T=J=1;T<=15;T++)if(J<<=1,(J-=q[T])<0)return-1;if(0<J&&(c===0||V!==1))return-1;for(z[1]=0,T=1;T<15;T++)z[T+1]=z[T]+q[T];for(F=0;F<m;F++)f[h+F]!==0&&($[z[f[h+F]]++]=F);if(R=c===0?(B=ee=$,19):c===1?(B=o,Z-=257,ee=a,ze-=257,256):(B=l,ee=u,-1),T=b,P=p,se=F=U=0,I=-1,S=(_e=1<<(Y=me))-1,c===1&&852<_e||c===2&&592<_e)return 1;for(;;){for(W=T-se,x=$[F]<R?(D=0,$[F]):$[F]>R?(D=ee[ze+$[F]],B[Z+$[F]]):(D=96,0),v=1<<T-se,b=w=1<<Y;d[P+(U>>se)+(w-=v)]=W<<24|D<<16|x|0,w!==0;);for(v=1<<T-1;U&v;)v>>=1;if(v!==0?(U&=v-1,U+=v):U=0,F++,--q[T]==0){if(T===V)break;T=f[h+$[F]]}if(me<T&&(U&S)!==I){for(se===0&&(se=me),P+=b,J=1<<(Y=T-se);Y+se<V&&!((J-=q[Y+se])<=0);)Y++,J<<=1;if(_e+=1<<Y,c===1&&852<_e||c===2&&592<_e)return 1;d[I=U&S]=me<<24|Y<<16|P-p|0}}return U!==0&&(d[P+U]=T-se<<24|64<<16|0),g.bits=me,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,a=1;function l(E){for(var N=E.length;0<=--N;)E[N]=0}var u=0,c=29,f=256,h=f+1+c,m=30,d=19,p=2*h+1,$=15,g=16,v=7,w=256,I=16,S=17,P=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(h+2));l(X);var T=new Array(2*m);l(T);var F=new Array(512);l(F);var b=new Array(256);l(b);var V=new Array(c);l(V);var me,Y,se,J=new Array(m);function _e(E,N,re,ie,H){this.static_tree=E,this.extra_bits=N,this.extra_base=re,this.elems=ie,this.max_length=H,this.has_stree=E&&E.length}function U(E,N){this.dyn_tree=E,this.max_code=0,this.stat_desc=N}function B(E){return E<256?F[E]:F[256+(E>>>7)]}function Z(E,N){E.pending_buf[E.pending++]=255&N,E.pending_buf[E.pending++]=N>>>8&255}function q(E,N,re){E.bi_valid>g-re?(E.bi_buf|=N<<E.bi_valid&65535,Z(E,E.bi_buf),E.bi_buf=N>>g-E.bi_valid,E.bi_valid+=re-g):(E.bi_buf|=N<<E.bi_valid&65535,E.bi_valid+=re)}function z(E,N,re){q(E,re[2*N],re[2*N+1])}function ee(E,N){for(var re=0;re|=1&E,E>>>=1,re<<=1,0<--N;);return re>>>1}function ze(E,N,re){var ie,H,fe=new Array($+1),ge=0;for(ie=1;ie<=$;ie++)fe[ie]=ge=ge+re[ie-1]<<1;for(H=0;H<=N;H++){var he=E[2*H+1];he!==0&&(E[2*H]=ee(fe[he]++,he))}}function Se(E){var N;for(N=0;N<h;N++)E.dyn_ltree[2*N]=0;for(N=0;N<m;N++)E.dyn_dtree[2*N]=0;for(N=0;N<d;N++)E.bl_tree[2*N]=0;E.dyn_ltree[2*w]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function Ue(E){8<E.bi_valid?Z(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function Be(E,N,re,ie){var H=2*N,fe=2*re;return E[H]<E[fe]||E[H]===E[fe]&&ie[N]<=ie[re]}function Oe(E,N,re){for(var ie=E.heap[re],H=re<<1;H<=E.heap_len&&(H<E.heap_len&&Be(N,E.heap[H+1],E.heap[H],E.depth)&&H++,!Be(N,ie,E.heap[H],E.depth));)E.heap[re]=E.heap[H],re=H,H<<=1;E.heap[re]=ie}function rt(E,N,re){var ie,H,fe,ge,he=0;if(E.last_lit!==0)for(;ie=E.pending_buf[E.d_buf+2*he]<<8|E.pending_buf[E.d_buf+2*he+1],H=E.pending_buf[E.l_buf+he],he++,ie===0?z(E,H,N):(z(E,(fe=b[H])+f+1,N),(ge=R[fe])!==0&&q(E,H-=V[fe],ge),z(E,fe=B(--ie),re),(ge=W[fe])!==0&&q(E,ie-=J[fe],ge)),he<E.last_lit;);z(E,w,N)}function Qe(E,N){var re,ie,H,fe=N.dyn_tree,ge=N.stat_desc.static_tree,he=N.stat_desc.has_stree,Ae=N.stat_desc.elems,ue=-1;for(E.heap_len=0,E.heap_max=p,re=0;re<Ae;re++)fe[2*re]!==0?(E.heap[++E.heap_len]=ue=re,E.depth[re]=0):fe[2*re+1]=0;for(;E.heap_len<2;)fe[2*(H=E.heap[++E.heap_len]=ue<2?++ue:0)]=1,E.depth[H]=0,E.opt_len--,he&&(E.static_len-=ge[2*H+1]);for(N.max_code=ue,re=E.heap_len>>1;1<=re;re--)Oe(E,fe,re);for(H=Ae;re=E.heap[1],E.heap[1]=E.heap[E.heap_len--],Oe(E,fe,1),ie=E.heap[1],E.heap[--E.heap_max]=re,E.heap[--E.heap_max]=ie,fe[2*H]=fe[2*re]+fe[2*ie],E.depth[H]=(E.depth[re]>=E.depth[ie]?E.depth[re]:E.depth[ie])+1,fe[2*re+1]=fe[2*ie+1]=H,E.heap[1]=H++,Oe(E,fe,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(be,je){var ht,st,mt,Ve,ut,Et,ct=je.dyn_tree,Wt=je.max_code,hn=je.stat_desc.static_tree,An=je.stat_desc.has_stree,Tn=je.stat_desc.extra_bits,kt=je.stat_desc.extra_base,$t=je.stat_desc.max_length,jt=0;for(Ve=0;Ve<=$;Ve++)be.bl_count[Ve]=0;for(ct[2*be.heap[be.heap_max]+1]=0,ht=be.heap_max+1;ht<p;ht++)$t<(Ve=ct[2*ct[2*(st=be.heap[ht])+1]+1]+1)&&(Ve=$t,jt++),ct[2*st+1]=Ve,Wt<st||(be.bl_count[Ve]++,ut=0,kt<=st&&(ut=Tn[st-kt]),Et=ct[2*st],be.opt_len+=Et*(Ve+ut),An&&(be.static_len+=Et*(hn[2*st+1]+ut)));if(jt!==0){do{for(Ve=$t-1;be.bl_count[Ve]===0;)Ve--;be.bl_count[Ve]--,be.bl_count[Ve+1]+=2,be.bl_count[$t]--,jt-=2}while(0<jt);for(Ve=$t;Ve!==0;Ve--)for(st=be.bl_count[Ve];st!==0;)Wt<(mt=be.heap[--ht])||(ct[2*mt+1]!==Ve&&(be.opt_len+=(Ve-ct[2*mt+1])*ct[2*mt],ct[2*mt+1]=Ve),st--)}}(E,N),ze(fe,ue,E.bl_count)}function _(E,N,re){var ie,H,fe=-1,ge=N[1],he=0,Ae=7,ue=4;for(ge===0&&(Ae=138,ue=3),N[2*(re+1)+1]=65535,ie=0;ie<=re;ie++)H=ge,ge=N[2*(ie+1)+1],++he<Ae&&H===ge||(he<ue?E.bl_tree[2*H]+=he:H!==0?(H!==fe&&E.bl_tree[2*H]++,E.bl_tree[2*I]++):he<=10?E.bl_tree[2*S]++:E.bl_tree[2*P]++,fe=H,ue=(he=0)===ge?(Ae=138,3):H===ge?(Ae=6,3):(Ae=7,4))}function ne(E,N,re){var ie,H,fe=-1,ge=N[1],he=0,Ae=7,ue=4;for(ge===0&&(Ae=138,ue=3),ie=0;ie<=re;ie++)if(H=ge,ge=N[2*(ie+1)+1],!(++he<Ae&&H===ge)){if(he<ue)for(;z(E,H,E.bl_tree),--he!=0;);else H!==0?(H!==fe&&(z(E,H,E.bl_tree),he--),z(E,I,E.bl_tree),q(E,he-3,2)):he<=10?(z(E,S,E.bl_tree),q(E,he-3,3)):(z(E,P,E.bl_tree),q(E,he-11,7));fe=H,ue=(he=0)===ge?(Ae=138,3):H===ge?(Ae=6,3):(Ae=7,4)}}l(J);var j=!1;function A(E,N,re,ie){q(E,(u<<1)+(ie?1:0),3),function(H,fe,ge,he){Ue(H),he&&(Z(H,ge),Z(H,~ge)),s.arraySet(H.pending_buf,H.window,fe,ge,H.pending),H.pending+=ge}(E,N,re,!0)}r._tr_init=function(E){j||(function(){var N,re,ie,H,fe,ge=new Array($+1);for(H=ie=0;H<c-1;H++)for(V[H]=ie,N=0;N<1<<R[H];N++)b[ie++]=H;for(b[ie-1]=H,H=fe=0;H<16;H++)for(J[H]=fe,N=0;N<1<<W[H];N++)F[fe++]=H;for(fe>>=7;H<m;H++)for(J[H]=fe<<7,N=0;N<1<<W[H]-7;N++)F[256+fe++]=H;for(re=0;re<=$;re++)ge[re]=0;for(N=0;N<=143;)X[2*N+1]=8,N++,ge[8]++;for(;N<=255;)X[2*N+1]=9,N++,ge[9]++;for(;N<=279;)X[2*N+1]=7,N++,ge[7]++;for(;N<=287;)X[2*N+1]=8,N++,ge[8]++;for(ze(X,h+1,ge),N=0;N<m;N++)T[2*N+1]=5,T[2*N]=ee(N,5);me=new _e(X,R,f+1,h,$),Y=new _e(T,W,0,m,$),se=new _e(new Array(0),D,0,d,v)}(),j=!0),E.l_desc=new U(E.dyn_ltree,me),E.d_desc=new U(E.dyn_dtree,Y),E.bl_desc=new U(E.bl_tree,se),E.bi_buf=0,E.bi_valid=0,Se(E)},r._tr_stored_block=A,r._tr_flush_block=function(E,N,re,ie){var H,fe,ge=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(he){var Ae,ue=4093624447;for(Ae=0;Ae<=31;Ae++,ue>>>=1)if(1&ue&&he.dyn_ltree[2*Ae]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return a;for(Ae=32;Ae<f;Ae++)if(he.dyn_ltree[2*Ae]!==0)return a;return o}(E)),Qe(E,E.l_desc),Qe(E,E.d_desc),ge=function(he){var Ae;for(_(he,he.dyn_ltree,he.l_desc.max_code),_(he,he.dyn_dtree,he.d_desc.max_code),Qe(he,he.bl_desc),Ae=d-1;3<=Ae&&he.bl_tree[2*x[Ae]+1]===0;Ae--);return he.opt_len+=3*(Ae+1)+5+5+4,Ae}(E),H=E.opt_len+3+7>>>3,(fe=E.static_len+3+7>>>3)<=H&&(H=fe)):H=fe=re+5,re+4<=H&&N!==-1?A(E,N,re,ie):E.strategy===4||fe===H?(q(E,2+(ie?1:0),3),rt(E,X,T)):(q(E,4+(ie?1:0),3),function(he,Ae,ue,be){var je;for(q(he,Ae-257,5),q(he,ue-1,5),q(he,be-4,4),je=0;je<be;je++)q(he,he.bl_tree[2*x[je]+1],3);ne(he,he.dyn_ltree,Ae-1),ne(he,he.dyn_dtree,ue-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,ge+1),rt(E,E.dyn_ltree,E.dyn_dtree)),Se(E),ie&&Ue(E)},r._tr_tally=function(E,N,re){return E.pending_buf[E.d_buf+2*E.last_lit]=N>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&N,E.pending_buf[E.l_buf+E.last_lit]=255&re,E.last_lit++,N===0?E.dyn_ltree[2*re]++:(E.matches++,N--,E.dyn_ltree[2*(b[re]+f+1)]++,E.dyn_dtree[2*B(N)]++),E.last_lit===E.lit_bufsize-1},r._tr_align=function(E){q(E,2,3),z(E,w,X),function(N){N.bi_valid===16?(Z(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,f,h=1,m={},d=!1,p=o.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(o);$=$&&$.setTimeout?$:o,l={}.toString.call(o.process)==="[object process]"?function(I){process.nextTick(function(){v(I)})}:function(){if(o.postMessage&&!o.importScripts){var I=!0,S=o.onmessage;return o.onmessage=function(){I=!1},o.postMessage("","*"),o.onmessage=S,I}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(I){o.postMessage(f+I,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(I){v(I.data)},function(I){c.port2.postMessage(I)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(I){var S=p.createElement("script");S.onreadystatechange=function(){v(I),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(I){setTimeout(v,0,I)},$.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var S=new Array(arguments.length-1),P=0;P<S.length;P++)S[P]=arguments[P+1];var R={callback:I,args:S};return m[h]=R,l(h),h++},$.clearImmediate=g}function g(I){delete m[I]}function v(I){if(d)setTimeout(v,0,I);else{var S=m[I];if(S){d=!0;try{(function(P){var R=P.callback,W=P.args;switch(W.length){case 0:R();break;case 1:R(W[0]);break;case 2:R(W[0],W[1]);break;case 3:R(W[0],W[1],W[2]);break;default:R.apply(a,W)}})(S)}finally{g(I),d=!1}}}}function w(I){I.source===o&&typeof I.data=="string"&&I.data.indexOf(f)===0&&v(+I.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Rn<"u"?Rn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(lm);class As{constructor(e){Ie(this,"i",0);this.prefix=e}generate(){return`${this.prefix}-${this.i++}`}}function br(i,e){const t=URL.createObjectURL(i);return e(t).finally(()=>URL.revokeObjectURL(t))}function Ts(i){return new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error(`Can't load image ${i}`))},n.src=i})}function Yi(i){return e=>{const t=document.createElement("a");t.download=i,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let Kn=Float32Array;function Pt(i,e,t){const n=new Kn(3);return i&&(n[0]=i),e&&(n[1]=e),t&&(n[2]=t),n}function um(i,e,t){return t=t||new Kn(3),t[0]=i[0]-e[0],t[1]=i[1]-e[1],t[2]=i[2]-e[2],t}function Ki(i,e,t){t=t||new Kn(3);const n=i[2]*e[0]-i[0]*e[2],r=i[0]*e[1]-i[1]*e[0];return t[0]=i[1]*e[2]-i[2]*e[1],t[1]=n,t[2]=r,t}function cr(i,e){e=e||new Kn(3);const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],n=Math.sqrt(t);return n>1e-5?(e[0]=i[0]/n,e[1]=i[1]/n,e[2]=i[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let Ke=Float32Array;function cm(i){const e=Ke;return Ke=i,e}function fm(i,e){return e=e||new Ke(16),e[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=-i[3],e[4]=-i[4],e[5]=-i[5],e[6]=-i[6],e[7]=-i[7],e[8]=-i[8],e[9]=-i[9],e[10]=-i[10],e[11]=-i[11],e[12]=-i[12],e[13]=-i[13],e[14]=-i[14],e[15]=-i[15],e}function hm(){return new Ke(16).fill(0)}function Ss(i,e){return e=e||new Ke(16),e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function Is(i){return i=i||new Ke(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function mm(i,e){if(e=e||new Ke(16),e===i){let v;return v=i[1],i[1]=i[4],i[4]=v,v=i[2],i[2]=i[8],i[8]=v,v=i[3],i[3]=i[12],i[12]=v,v=i[6],i[6]=i[9],i[9]=v,v=i[7],i[7]=i[13],i[13]=v,v=i[11],i[11]=i[14],i[14]=v,e}const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],c=i[2*4+0],f=i[2*4+1],h=i[2*4+2],m=i[2*4+3],d=i[3*4+0],p=i[3*4+1],$=i[3*4+2],g=i[3*4+3];return e[0]=t,e[1]=o,e[2]=c,e[3]=d,e[4]=n,e[5]=a,e[6]=f,e[7]=p,e[8]=r,e[9]=l,e[10]=h,e[11]=$,e[12]=s,e[13]=u,e[14]=m,e[15]=g,e}function Cs(i,e){e=e||new Ke(16);const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],c=i[2*4+0],f=i[2*4+1],h=i[2*4+2],m=i[2*4+3],d=i[3*4+0],p=i[3*4+1],$=i[3*4+2],g=i[3*4+3],v=h*g,w=$*m,I=l*g,S=$*u,P=l*m,R=h*u,W=r*g,D=$*s,x=r*m,X=h*s,T=r*u,F=l*s,b=c*p,V=d*f,me=o*p,Y=d*a,se=o*f,J=c*a,_e=t*p,U=d*n,B=t*f,Z=c*n,q=t*a,z=o*n,ee=v*a+S*f+P*p-(w*a+I*f+R*p),ze=w*n+W*f+X*p-(v*n+D*f+x*p),Se=I*n+D*a+T*p-(S*n+W*a+F*p),Ue=R*n+x*a+F*f-(P*n+X*a+T*f),Be=1/(t*ee+o*ze+c*Se+d*Ue);return e[0]=Be*ee,e[1]=Be*ze,e[2]=Be*Se,e[3]=Be*Ue,e[4]=Be*(w*o+I*c+R*d-(v*o+S*c+P*d)),e[5]=Be*(v*t+D*c+x*d-(w*t+W*c+X*d)),e[6]=Be*(S*t+W*o+F*d-(I*t+D*o+T*d)),e[7]=Be*(P*t+X*o+T*c-(R*t+x*o+F*c)),e[8]=Be*(b*u+Y*m+se*g-(V*u+me*m+J*g)),e[9]=Be*(V*s+_e*m+Z*g-(b*s+U*m+B*g)),e[10]=Be*(me*s+U*u+q*g-(Y*s+_e*u+z*g)),e[11]=Be*(J*s+B*u+z*m-(se*s+Z*u+q*m)),e[12]=Be*(me*h+J*$+V*l-(se*$+b*l+Y*h)),e[13]=Be*(B*$+b*r+U*h-(_e*h+Z*$+V*r)),e[14]=Be*(_e*l+z*$+Y*r-(q*$+me*r+U*l)),e[15]=Be*(q*h+se*r+Z*l-(B*l+z*h+J*r)),e}function dm(i,e,t){t=t||new Ke(16);const n=i[0],r=i[1],s=i[2],o=i[3],a=i[4+0],l=i[4+1],u=i[4+2],c=i[4+3],f=i[8+0],h=i[8+1],m=i[8+2],d=i[8+3],p=i[12+0],$=i[12+1],g=i[12+2],v=i[12+3],w=e[0],I=e[1],S=e[2],P=e[3],R=e[4+0],W=e[4+1],D=e[4+2],x=e[4+3],X=e[8+0],T=e[8+1],F=e[8+2],b=e[8+3],V=e[12+0],me=e[12+1],Y=e[12+2],se=e[12+3];return t[0]=n*w+a*I+f*S+p*P,t[1]=r*w+l*I+h*S+$*P,t[2]=s*w+u*I+m*S+g*P,t[3]=o*w+c*I+d*S+v*P,t[4]=n*R+a*W+f*D+p*x,t[5]=r*R+l*W+h*D+$*x,t[6]=s*R+u*W+m*D+g*x,t[7]=o*R+c*W+d*D+v*x,t[8]=n*X+a*T+f*F+p*b,t[9]=r*X+l*T+h*F+$*b,t[10]=s*X+u*T+m*F+g*b,t[11]=o*X+c*T+d*F+v*b,t[12]=n*V+a*me+f*Y+p*se,t[13]=r*V+l*me+h*Y+$*se,t[14]=s*V+u*me+m*Y+g*se,t[15]=o*V+c*me+d*Y+v*se,t}function pm(i,e,t){return t=t||Is(),i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _m(i,e){return e=e||Pt(),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}function gm(i,e,t){t=t||Pt();const n=e*4;return t[0]=i[n+0],t[1]=i[n+1],t[2]=i[n+2],t}function bm(i,e,t,n){n!==i&&(n=Ss(i,n));const r=t*4;return n[r+0]=e[0],n[r+1]=e[1],n[r+2]=e[2],n}function vm(i,e,t,n,r){r=r||new Ke(16);const s=Math.tan(Math.PI*.5-.5*i),o=1/(t-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(t+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=t*n*o*2,r[15]=0,r}function $m(i,e,t,n,r,s,o){return o=o||new Ke(16),o[0]=2/(e-i),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(e+i)/(i-e),o[13]=(n+t)/(t-n),o[14]=(s+r)/(r-s),o[15]=1,o}function wm(i,e,t,n,r,s,o){o=o||new Ke(16);const a=e-i,l=n-t,u=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(i+e)/a,o[9]=(n+t)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/u,o[15]=0,o}let Ft,Vt,At;function ym(i,e,t,n){return n=n||new Ke(16),Ft=Ft||Pt(),Vt=Vt||Pt(),At=At||Pt(),cr(um(i,e,At),At),cr(Ki(t,At,Ft),Ft),cr(Ki(At,Ft,Vt),Vt),n[0]=Ft[0],n[1]=Ft[1],n[2]=Ft[2],n[3]=0,n[4]=Vt[0],n[5]=Vt[1],n[6]=Vt[2],n[7]=0,n[8]=At[0],n[9]=At[1],n[10]=At[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function Em(i,e){return e=e||new Ke(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function km(i,e,t){t=t||new Ke(16);const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],u=i[3],c=i[1*4+0],f=i[1*4+1],h=i[1*4+2],m=i[1*4+3],d=i[2*4+0],p=i[2*4+1],$=i[2*4+2],g=i[2*4+3],v=i[3*4+0],w=i[3*4+1],I=i[3*4+2],S=i[3*4+3];return i!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=m,t[8]=d,t[9]=p,t[10]=$,t[11]=g),t[12]=o*n+c*r+d*s+v,t[13]=a*n+f*r+p*s+w,t[14]=l*n+h*r+$*s+I,t[15]=u*n+m*r+g*s+S,t}function Am(i,e){e=e||new Ke(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Tm(i,e,t){t=t||new Ke(16);const n=i[4],r=i[5],s=i[6],o=i[7],a=i[8],l=i[9],u=i[10],c=i[11],f=Math.cos(e),h=Math.sin(e);return t[4]=f*n+h*a,t[5]=f*r+h*l,t[6]=f*s+h*u,t[7]=f*o+h*c,t[8]=f*a-h*n,t[9]=f*l-h*r,t[10]=f*u-h*s,t[11]=f*c-h*o,i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Sm(i,e){e=e||new Ke(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Im(i,e,t){t=t||new Ke(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[2*4+0],l=i[2*4+1],u=i[2*4+2],c=i[2*4+3],f=Math.cos(e),h=Math.sin(e);return t[0]=f*n-h*a,t[1]=f*r-h*l,t[2]=f*s-h*u,t[3]=f*o-h*c,t[8]=f*a+h*n,t[9]=f*l+h*r,t[10]=f*u+h*s,t[11]=f*c+h*o,i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Cm(i,e){e=e||new Ke(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Rm(i,e,t){t=t||new Ke(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[1*4+0],l=i[1*4+1],u=i[1*4+2],c=i[1*4+3],f=Math.cos(e),h=Math.sin(e);return t[0]=f*n+h*a,t[1]=f*r+h*l,t[2]=f*s+h*u,t[3]=f*o+h*c,t[4]=f*a-h*n,t[5]=f*l-h*r,t[6]=f*u-h*s,t[7]=f*c-h*o,i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Fm(i,e,t){t=t||new Ke(16);let n=i[0],r=i[1],s=i[2];const o=Math.sqrt(n*n+r*r+s*s);n/=o,r/=o,s/=o;const a=n*n,l=r*r,u=s*s,c=Math.cos(e),f=Math.sin(e),h=1-c;return t[0]=a+(1-a)*c,t[1]=n*r*h+s*f,t[2]=n*s*h-r*f,t[3]=0,t[4]=n*r*h-s*f,t[5]=l+(1-l)*c,t[6]=r*s*h+n*f,t[7]=0,t[8]=n*s*h+r*f,t[9]=r*s*h-n*f,t[10]=u+(1-u)*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xm(i,e,t,n){n=n||new Ke(16);let r=e[0],s=e[1],o=e[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,u=s*s,c=o*o,f=Math.cos(t),h=Math.sin(t),m=1-f,d=l+(1-l)*f,p=r*s*m+o*h,$=r*o*m-s*h,g=r*s*m-o*h,v=u+(1-u)*f,w=s*o*m+r*h,I=r*o*m+s*h,S=s*o*m-r*h,P=c+(1-c)*f,R=i[0],W=i[1],D=i[2],x=i[3],X=i[4],T=i[5],F=i[6],b=i[7],V=i[8],me=i[9],Y=i[10],se=i[11];return n[0]=d*R+p*X+$*V,n[1]=d*W+p*T+$*me,n[2]=d*D+p*F+$*Y,n[3]=d*x+p*b+$*se,n[4]=g*R+v*X+w*V,n[5]=g*W+v*T+w*me,n[6]=g*D+v*F+w*Y,n[7]=g*x+v*b+w*se,n[8]=I*R+S*X+P*V,n[9]=I*W+S*T+P*me,n[10]=I*D+S*F+P*Y,n[11]=I*x+S*b+P*se,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n}function Nm(i,e){return e=e||new Ke(16),e[0]=i[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=i[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Pm(i,e,t){t=t||new Ke(16);const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0],t[1]=n*i[0*4+1],t[2]=n*i[0*4+2],t[3]=n*i[0*4+3],t[4]=r*i[1*4+0],t[5]=r*i[1*4+1],t[6]=r*i[1*4+2],t[7]=r*i[1*4+3],t[8]=s*i[2*4+0],t[9]=s*i[2*4+1],t[10]=s*i[2*4+2],t[11]=s*i[2*4+3],i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Bm(i,e,t){t=t||Pt();const n=e[0],r=e[1],s=e[2],o=n*i[0*4+3]+r*i[1*4+3]+s*i[2*4+3]+i[3*4+3];return t[0]=(n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0]+i[3*4+0])/o,t[1]=(n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1]+i[3*4+1])/o,t[2]=(n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2]+i[3*4+2])/o,t}function zm(i,e,t){t=t||Pt();const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0],t[1]=n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1],t[2]=n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2],t}function Um(i,e,t){t=t||Pt();const n=Cs(i),r=e[0],s=e[1],o=e[2];return t[0]=r*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=r*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=r*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var dt=Object.freeze({__proto__:null,axisRotate:xm,axisRotation:Fm,copy:Ss,create:hm,frustum:wm,getAxis:gm,getTranslation:_m,identity:Is,inverse:Cs,lookAt:ym,multiply:dm,negate:fm,ortho:$m,perspective:vm,rotateX:Tm,rotateY:Im,rotateZ:Rm,rotationX:Am,rotationY:Sm,rotationZ:Cm,scale:Pm,scaling:Nm,setAxis:bm,setDefaultType:cm,setTranslation:pm,transformDirection:zm,transformNormal:Um,transformPoint:Bm,translate:km,translation:Em,transpose:mm});const Rr=5120,vn=5121,Fr=5122,xr=5123,Nr=5124,Pr=5125,Br=5126,Dm=32819,Mm=32820,Lm=33635,Om=5131,Gm=33640,Hm=35899,Wm=35902,jm=36269,Vm=34042,Rs={};{const i=Rs;i[Rr]=Int8Array,i[vn]=Uint8Array,i[Fr]=Int16Array,i[xr]=Uint16Array,i[Nr]=Int32Array,i[Pr]=Uint32Array,i[Br]=Float32Array,i[Dm]=Uint16Array,i[Mm]=Uint16Array,i[Lm]=Uint16Array,i[Om]=Uint16Array,i[Gm]=Uint32Array,i[Hm]=Uint32Array,i[Wm]=Uint32Array,i[jm]=Uint32Array,i[Vm]=Uint32Array}function zr(i){if(i instanceof Int8Array)return Rr;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)return vn;if(i instanceof Int16Array)return Fr;if(i instanceof Uint16Array)return xr;if(i instanceof Int32Array)return Nr;if(i instanceof Uint32Array)return Pr;if(i instanceof Float32Array)return Br;throw new Error("unsupported typed array type")}function Fs(i){if(i===Int8Array)return Rr;if(i===Uint8Array||i===Uint8ClampedArray)return vn;if(i===Int16Array)return Fr;if(i===Uint16Array)return xr;if(i===Int32Array)return Nr;if(i===Uint32Array)return Pr;if(i===Float32Array)return Br;throw new Error("unsupported typed array type")}function xs(i){const e=Rs[i];if(!e)throw new Error("unknown gl type");return e}const On=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Ns(...i){console.error(...i)}const qi=new Map;function qn(i,e){if(!i||typeof i!="object")return!1;let t=qi.get(e);t||(t=new WeakMap,qi.set(e,t));let n=t.get(i);if(n===void 0){const r=Object.prototype.toString.call(i);n=r.substring(8,r.length-1)===e,t.set(i,n)}return n}function Zm(i,e){return typeof WebGLBuffer<"u"&&qn(e,"WebGLBuffer")}function Ps(i,e){return typeof WebGLRenderbuffer<"u"&&qn(e,"WebGLRenderbuffer")}function Jn(i,e){return typeof WebGLTexture<"u"&&qn(e,"WebGLTexture")}function Xm(i,e){return typeof WebGLSampler<"u"&&qn(e,"WebGLSampler")}const Bs=35044,Kt=34962,Ym=34963,Km=34660,qm=5120,Jm=5121,Qm=5122,ed=5123,td=5124,nd=5125,zs=5126,Us={attribPrefix:""};function rd(i,e,t,n,r){i.bindBuffer(e,t),i.bufferData(e,n,r||Bs)}function Ds(i,e,t,n){if(Zm(i,e))return e;t=t||Kt;const r=i.createBuffer();return rd(i,t,r,e,n),r}function Ms(i){return i==="indices"}function id(i){return i===Int8Array||i===Uint8Array}function sd(i){return i.length?i:i.data}const od=/coord|texture/i,ad=/color|colour/i;function ld(i,e){let t;if(od.test(i)?t=2:ad.test(i)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${i}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function ud(i,e,t){return i.numComponents||i.size||ld(e,t||sd(i).length)}function Ls(i,e){if(On(i))return i;if(On(i.data))return i.data;Array.isArray(i)&&(i={data:i});let t=i.type?Ur(i.type):void 0;return t||(Ms(e)?t=Uint16Array:t=Float32Array),new t(i.data)}function cd(i){return typeof i=="number"?i:i?Fs(i):zs}function Ur(i){return typeof i=="number"?xs(i):i||Float32Array}function fd(i,e){return{buffer:e.buffer,numValues:2*3*4,type:cd(e.type),arrayType:Ur(e.type)}}function hd(i,e){const t=e.data||e,n=Ur(e.type),r=t*n.BYTES_PER_ELEMENT,s=i.createBuffer();return i.bindBuffer(Kt,s),i.bufferData(Kt,r,e.drawType||Bs),{buffer:s,numValues:t,type:Fs(n),arrayType:n}}function md(i,e,t){const n=Ls(e,t);return{arrayType:n.constructor,buffer:Ds(i,n,void 0,e.drawType),type:zr(n),numValues:0}}function dd(i,e){const t={};return Object.keys(e).forEach(function(n){if(!Ms(n)){const r=e[n],s=r.attrib||r.name||r.attribName||Us.attribPrefix+n;if(r.value){if(!Array.isArray(r.value)&&!On(r.value))throw new Error("array.value is not array or typedarray");t[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=fd:typeof r=="number"||typeof r.data=="number"?o=hd:o=md;const{buffer:a,type:l,numValues:u,arrayType:c}=o(i,r,n),f=r.normalize!==void 0?r.normalize:id(c),h=ud(r,n,u);t[s]={buffer:a,numComponents:h,type:l,normalize:f,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),i.bindBuffer(Kt,null),t}function pd(i,e){return e===qm||e===Jm?1:e===Qm||e===ed?2:e===td||e===nd||e===zs?4:0}const fr=["position","positions","a_position"];function _d(i,e){let t,n;for(n=0;n<fr.length&&(t=fr[n],!(t in e||(t=Us.attribPrefix+t,t in e)));++n);n===fr.length&&(t=Object.keys(e)[0]);const r=e[t];if(!r.buffer)return 1;i.bindBuffer(Kt,r.buffer);const s=i.getBufferParameter(Kt,Km);i.bindBuffer(Kt,null);const o=pd(i,r.type),a=s/o,l=r.numComponents||r.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function gd(i,e,t){const n=dd(i,e),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=Ls(s,"indices");r.indices=Ds(i,o,Ym),r.numElements=o.length,r.elementType=zr(o)}else r.numElements||(r.numElements=_d(i,r.attribs));return r}function En(i){return!!i.texStorage2D}const Os=function(){const i={},e={};function t(n){const r=n.constructor.name;if(!i[r]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}i[r]=!0}}return function(r,s){return t(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Ot={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},un=On,Gs=function(){let i;return function(){return i=i||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),i}}(),Ji=6406,wt=6407,Je=6408,Qi=6409,es=6410,dn=6402,ts=34041,Gn=33071,bd=9728,vd=9729,Rt=3553,Ct=34067,Ut=32879,Dt=35866,Qn=34069,$d=34070,wd=34071,yd=34072,Ed=34073,kd=34074,vr=10241,$r=10240,Hn=10242,Wn=10243,ns=32882,Ad=33082,Td=33083,Sd=33084,Id=33085,Dr=3317,Hs=3314,Ws=32878,js=3316,Vs=3315,Zs=32877,Cd=37443,Rd=37441,Fd=37440,xd=33321,Nd=36756,Pd=33325,Bd=33326,zd=33330,Ud=33329,Dd=33338,Md=33337,Ld=33340,Od=33339,Gd=33323,Hd=36757,Wd=33327,jd=33328,Vd=33336,Zd=33335,Xd=33332,Yd=33331,Kd=33334,qd=33333,Jd=32849,Qd=35905,e0=36194,t0=36758,n0=35898,r0=35901,i0=34843,s0=34837,o0=36221,a0=36239,l0=36215,u0=36233,c0=36209,f0=36227,h0=32856,m0=35907,d0=36759,p0=32855,_0=32854,g0=32857,b0=34842,v0=34836,$0=36220,w0=36238,y0=36975,E0=36214,k0=36232,A0=36226,T0=36208,S0=33189,I0=33190,C0=36012,R0=36013,F0=35056,xt=5120,qe=5121,xn=5122,tn=5123,Nn=5124,Zt=5125,ot=5126,rs=32819,is=32820,ss=33635,bt=5131,pn=36193,hr=33640,x0=35899,N0=35902,P0=36269,B0=34042,Pn=33319,nn=33320,Bn=6403,rn=36244,sn=36248,Xt=36249;let mr;function er(i){if(!mr){const e={};e[Ji]={textureFormat:Ji,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[qe,bt,pn,ot]},e[Qi]={textureFormat:Qi,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[qe,bt,pn,ot]},e[es]={textureFormat:es,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[qe,bt,pn,ot]},e[wt]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[qe,bt,pn,ot,ss]},e[Je]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[qe,bt,pn,ot,rs,is]},e[dn]={textureFormat:dn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Zt,tn]},e[xd]={textureFormat:Bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[qe]},e[Nd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[xt]},e[Pd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[ot,bt]},e[Bd]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[ot]},e[zd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[qe]},e[Ud]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[xt]},e[Xd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[tn]},e[Yd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xn]},e[Kd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[qd]={textureFormat:rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Nn]},e[Gd]={textureFormat:Pn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[qe]},e[Hd]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[xt]},e[Wd]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[ot,bt]},e[jd]={textureFormat:Pn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[ot]},e[Vd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[qe]},e[Zd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xt]},e[Dd]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[tn]},e[Md]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xn]},e[Ld]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Zt]},e[Od]={textureFormat:nn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Nn]},e[Jd]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[qe]},e[Qd]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[qe]},e[e0]={textureFormat:wt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[qe,ss]},e[t0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[xt]},e[n0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ot,bt,x0]},e[r0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ot,bt,N0]},e[i0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[ot,bt]},e[s0]={textureFormat:wt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ot]},e[o0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[qe]},e[a0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[xt]},e[l0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[tn]},e[u0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[xn]},e[c0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Zt]},e[f0]={textureFormat:sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Nn]},e[h0]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[qe]},e[m0]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[qe]},e[d0]={textureFormat:Je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[xt]},e[p0]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[qe,is,hr]},e[_0]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[qe,rs]},e[g0]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[hr]},e[b0]={textureFormat:Je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[ot,bt]},e[v0]={textureFormat:Je,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[ot]},e[$0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[qe]},e[w0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xt]},e[y0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[hr]},e[E0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[tn]},e[k0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xn]},e[A0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Nn]},e[T0]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Zt]},e[S0]={textureFormat:dn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[tn,Zt]},e[I0]={textureFormat:dn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[C0]={textureFormat:dn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ot]},e[F0]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[B0]},e[R0]={textureFormat:ts,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[P0]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(r,s){const o=n.type[s];n.bytesPerElementMap[o]=r})}),mr=e}return mr[i]}function z0(i,e){const t=er(i);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function fn(i){const e=er(i);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function os(i){return(i&i-1)===0}function U0(i,e,t,n){if(!En(i))return os(e)&&os(t);const r=er(n);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function D0(i){const e=er(i);if(!e)throw"unknown internal format";return e.textureFilterable}function Xs(i,e,t){return un(e)?zr(e):t||qe}function zn(i,e,t,n,r){if(r%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(r/(e===Ct?6:1));s%1===0?(t=s,n=s):(t=r,n=1)}else if(n){if(!t&&(t=r/n,t%1))throw"can't guess dimensions"}else if(n=r/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function cn(i,e){e.colorspaceConversion!==void 0&&i.pixelStorei(Cd,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&i.pixelStorei(Rd,e.premultiplyAlpha),e.flipY!==void 0&&i.pixelStorei(Fd,e.flipY)}function Ys(i){i.pixelStorei(Dr,4),En(i)&&(i.pixelStorei(Hs,0),i.pixelStorei(Ws,0),i.pixelStorei(js,0),i.pixelStorei(Vs,0),i.pixelStorei(Zs,0))}function M0(i,e,t,n){n.minMag&&(t.call(i,e,vr,n.minMag),t.call(i,e,$r,n.minMag)),n.min&&t.call(i,e,vr,n.min),n.mag&&t.call(i,e,$r,n.mag),n.wrap&&(t.call(i,e,Hn,n.wrap),t.call(i,e,Wn,n.wrap),(e===Ut||Xm(i,e))&&t.call(i,e,ns,n.wrap)),n.wrapR&&t.call(i,e,ns,n.wrapR),n.wrapS&&t.call(i,e,Hn,n.wrapS),n.wrapT&&t.call(i,e,Wn,n.wrapT),n.minLod&&t.call(i,e,Ad,n.minLod),n.maxLod&&t.call(i,e,Td,n.maxLod),n.baseLevel&&t.call(i,e,Sd,n.baseLevel),n.maxLevel&&t.call(i,e,Id,n.maxLevel)}function Ks(i,e,t){const n=t.target||Rt;i.bindTexture(n,e),M0(i,n,i.texParameteri,t)}function L0(i){return i=i||Ot.textureColor,un(i)?i:new Uint8Array([i[0]*255,i[1]*255,i[2]*255,i[3]*255])}function wr(i,e,t,n,r,s){t=t||Ot.textureOptions,s=s||Je;const o=t.target||Rt;if(n=n||t.width,r=r||t.height,i.bindTexture(o,e),U0(i,n,r,s))i.generateMipmap(o);else{const a=D0(s)?vd:bd;i.texParameteri(o,vr,a),i.texParameteri(o,$r,a),i.texParameteri(o,Hn,Gn),i.texParameteri(o,Wn,Gn)}}function $n(i){return i.auto===!0||i.auto===void 0&&i.level===void 0}function yr(i,e){return e=e||{},e.cubeFaceOrder||[Qn,$d,wd,yd,Ed,kd]}function Er(i,e){const n=yr(i,e).map(function(r,s){return{face:r,ndx:s}});return n.sort(function(r,s){return r.face-s.face}),n}function Mr(i,e,t,n){n=n||Ot.textureOptions;const r=n.target||Rt,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||Je,u=fn(l),c=n.format||u.format,f=n.type||u.type;if(cn(i,n),i.bindTexture(r,e),r===Ct){const h=t.width,m=t.height;let d,p;if(h/6===m)d=m,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===h)d=h,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===m/2)d=h/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===m/3)d=h/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const $=Gs();$?($.canvas.width=d,$.canvas.height=d,o=d,a=d,Er(i,n).forEach(function(g){const v=p[g.ndx*2+0]*d,w=p[g.ndx*2+1]*d;$.drawImage(t,v,w,d,d,0,0,d,d),i.texImage2D(g.face,s,l,c,f,$.canvas)}),$.canvas.width=1,$.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,Er(i,n).forEach(function(g){const v=p[g.ndx*2+0]*d,w=p[g.ndx*2+1]*d;i.texImage2D(g.face,s,l,d,d,0,c,f,null),createImageBitmap(t,v,w,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(I){cn(i,n),i.bindTexture(r,e),i.texImage2D(g.face,s,l,c,f,I),$n(n)&&wr(i,e,n,o,a,l)})}))}else if(r===Ut||r===Dt){const h=Math.min(t.width,t.height),m=Math.max(t.width,t.height),d=m/h;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=t.width===m?1:0,$=t.height===m?1:0;i.pixelStorei(Dr,1),i.pixelStorei(Hs,t.width),i.pixelStorei(Ws,0),i.pixelStorei(Zs,0),i.texImage3D(r,s,l,h,h,h,0,c,f,null);for(let g=0;g<d;++g){const v=g*h*p,w=g*h*$;i.pixelStorei(js,v),i.pixelStorei(Vs,w),i.texSubImage3D(r,s,0,0,g,h,h,1,c,f,t)}Ys(i)}else i.texImage2D(r,s,l,c,f,t);$n(n)&&wr(i,e,n,o,a,l),Ks(i,e,n)}function kn(){}function O0(i){if(typeof document<"u"){const e=document.createElement("a");return e.href=i,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(i,location.href).origin===e}}function G0(i,e){return e===void 0&&!O0(i)?"anonymous":e}function H0(i,e,t){t=t||kn;let n;if(e=e!==void 0?e:Ot.crossOrigin,e=G0(i,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const r=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+i;Ns(l),t(l,n),r()},o=function(){t(null,n),r()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=i,n}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){t(r,s)},a={};e&&(a.mode="cors"),fetch(i,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),n=null}return n}function qs(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap||typeof ImageData<"u"&&i instanceof ImageData||typeof HTMLElement<"u"&&i instanceof HTMLElement}function Lr(i,e,t){return qs(i)?(setTimeout(function(){t(null,i)}),i):H0(i,e,t)}function Or(i,e,t){t=t||Ot.textureOptions;const n=t.target||Rt;if(i.bindTexture(n,e),t.color===!1)return;const r=L0(t.color);if(n===Ct)for(let s=0;s<6;++s)i.texImage2D(Qn+s,0,Je,1,1,0,Je,qe,r);else n===Ut||n===Dt?i.texImage3D(n,0,Je,1,1,1,0,Je,qe,r):i.texImage2D(n,0,Je,1,1,0,Je,qe,r)}function W0(i,e,t,n){return n=n||kn,t=t||Ot.textureOptions,Or(i,e,t),t=Object.assign({},t),Lr(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(Mr(i,e,o,t),n(null,e,o))})}function j0(i,e,t,n){n=n||kn;const r=t.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||Je,a=fn(o),l=t.format||a.format,u=t.type||qe,c=t.target||Rt;if(c!==Ct)throw"target must be TEXTURE_CUBE_MAP";Or(i,e,t),t=Object.assign({},t);let f=6;const h=[],m=yr(i,t);let d;function p($){return function(g,v){--f,g?h.push(g):v.width!==v.height?h.push("cubemap face img is not a square: "+v.src):(cn(i,t),i.bindTexture(c,e),f===5?yr().forEach(function(w){i.texImage2D(w,s,o,l,u,v)}):i.texImage2D($,s,o,l,u,v),$n(t)&&i.generateMipmap(c)),f===0&&n(h.length?h:void 0,e,d)}}d=r.map(function($,g){return Lr($,t.crossOrigin,p(m[g]))})}function V0(i,e,t,n){n=n||kn;const r=t.src,s=t.internalFormat||t.format||Je,o=fn(s),a=t.format||o.format,l=t.type||qe,u=t.target||Dt;if(u!==Ut&&u!==Dt)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Or(i,e,t),t=Object.assign({},t);let c=r.length;const f=[];let h;const m=t.level||0;let d=t.width,p=t.height;const $=r.length;let g=!0;function v(w){return function(I,S){if(--c,I)f.push(I);else{if(cn(i,t),i.bindTexture(u,e),g){g=!1,d=t.width||S.width,p=t.height||S.height,i.texImage3D(u,m,s,d,p,$,0,a,l,null);for(let P=0;P<$;++P)i.texSubImage3D(u,m,0,0,P,d,p,1,a,l,S)}else{let P=S,R;(S.width!==d||S.height!==p)&&(R=Gs(),P=R.canvas,R.canvas.width=d,R.canvas.height=p,R.drawImage(S,0,0,d,p)),i.texSubImage3D(u,m,0,0,w,d,p,1,a,l,P),R&&P===R.canvas&&(R.canvas.width=0,R.canvas.height=0)}$n(t)&&i.generateMipmap(u)}c===0&&n(f.length?f:void 0,e,h)}}h=r.map(function(w,I){return Lr(w,t.crossOrigin,v(I))})}function Z0(i,e,t,n){n=n||Ot.textureOptions;const r=n.target||Rt;i.bindTexture(r,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,u=n.internalFormat||n.format||Je,c=fn(u),f=n.format||c.format,h=n.type||Xs(i,t,c.type);if(un(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const $=xs(h);t=new $(t)}const m=z0(u,h),d=t.byteLength/m;if(d%1)throw"length wrong size for format: "+Os(i,f);let p;if(r===Ut||r===Dt)if(!s&&!o&&!a){const $=Math.cbrt(d);if($%1!==0)throw"can't guess cube size of array of numElements: "+d;s=$,o=$,a=$}else s&&(!o||!a)?(p=zn(i,r,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=zn(i,r,s,a,d/o),s=p.width,a=p.height):(p=zn(i,r,s,o,d/a),s=p.width,o=p.height);else p=zn(i,r,s,o,d),s=p.width,o=p.height;if(Ys(i),i.pixelStorei(Dr,n.unpackAlignment||1),cn(i,n),r===Ct){const $=m/t.BYTES_PER_ELEMENT,g=d/6*$;Er(i,n).forEach(v=>{const w=g*v.ndx,I=t.subarray(w,w+g);i.texImage2D(v.face,l,u,s,o,0,f,h,I)})}else r===Ut||r===Dt?i.texImage3D(r,l,u,s,o,a,0,f,h,t):i.texImage2D(r,l,u,s,o,0,f,h,t);return{width:s,height:o,depth:a,type:h}}function X0(i,e,t){const n=t.target||Rt;i.bindTexture(n,e);const r=t.level||0,s=t.internalFormat||t.format||Je,o=fn(s),a=t.format||o.format,l=t.type||o.type;if(cn(i,t),n===Ct)for(let u=0;u<6;++u)i.texImage2D(Qn+u,r,s,t.width,t.height,0,a,l,null);else n===Ut||n===Dt?i.texImage3D(n,r,s,t.width,t.height,t.depth,0,a,l,null):i.texImage2D(n,r,s,t.width,t.height,0,a,l,null)}function Js(i,e,t){t=t||kn,e=e||Ot.textureOptions;const n=i.createTexture(),r=e.target||Rt;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Je;i.bindTexture(r,n),r===Ct&&(i.texParameteri(r,Hn,Gn),i.texParameteri(r,Wn,Gn));let l=e.src;if(l)if(typeof l=="function"&&(l=l(i,e)),typeof l=="string")W0(i,n,e,t);else if(un(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||un(l[0]))){const u=Z0(i,n,l,e);s=u.width,o=u.height}else Array.isArray(l)&&(typeof l[0]=="string"||qs(l[0]))?r===Ct?j0(i,n,e,t):V0(i,n,e,t):(Mr(i,n,l,e),s=l.width,o=l.height);else X0(i,n,e);return $n(e)&&wr(i,n,e,s,o,a),Ks(i,n,e),n}function Y0(i,e,t,n,r,s){n=n||t.width,r=r||t.height,s=s||t.depth;const o=t.target||Rt;i.bindTexture(o,e);const a=t.level||0,l=t.internalFormat||t.format||Je,u=fn(l),c=t.format||u.format;let f;const h=t.src;if(h&&(un(h)||Array.isArray(h)&&typeof h[0]=="number")?f=t.type||Xs(i,h,u.type):f=t.type||u.type,o===Ct)for(let m=0;m<6;++m)i.texImage2D(Qn+m,a,l,n,r,0,c,f,null);else o===Ut||o===Dt?i.texImage3D(o,a,l,n,r,s,0,c,f,null):i.texImage2D(o,a,l,n,r,0,c,f,null)}const Gr=Ns;function K0(i){return typeof document<"u"&&document.getElementById?document.getElementById(i):null}const jn=33984,tr=34962,q0=34963,J0=35713,Q0=35714,ep=35632,tp=35633,np=35981,Qs=35718,rp=35721,ip=35971,sp=35382,op=35396,ap=35398,lp=35392,up=35395,nr=5126,eo=35664,to=35665,no=35666,Hr=5124,ro=35667,io=35668,so=35669,oo=35670,ao=35671,lo=35672,uo=35673,co=35674,fo=35675,ho=35676,cp=35678,fp=35680,hp=35679,mp=35682,dp=35685,pp=35686,_p=35687,gp=35688,bp=35689,vp=35690,$p=36289,wp=36292,yp=36293,Wr=5125,mo=36294,po=36295,_o=36296,Ep=36298,kp=36299,Ap=36300,Tp=36303,Sp=36306,Ip=36307,Cp=36308,Rp=36311,rr=3553,ir=34067,jr=32879,sr=35866,Me={};function go(i,e){return Me[e].bindPoint}function Fp(i,e){return function(t){i.uniform1f(e,t)}}function xp(i,e){return function(t){i.uniform1fv(e,t)}}function Np(i,e){return function(t){i.uniform2fv(e,t)}}function Pp(i,e){return function(t){i.uniform3fv(e,t)}}function Bp(i,e){return function(t){i.uniform4fv(e,t)}}function bo(i,e){return function(t){i.uniform1i(e,t)}}function vo(i,e){return function(t){i.uniform1iv(e,t)}}function $o(i,e){return function(t){i.uniform2iv(e,t)}}function wo(i,e){return function(t){i.uniform3iv(e,t)}}function yo(i,e){return function(t){i.uniform4iv(e,t)}}function zp(i,e){return function(t){i.uniform1ui(e,t)}}function Up(i,e){return function(t){i.uniform1uiv(e,t)}}function Dp(i,e){return function(t){i.uniform2uiv(e,t)}}function Mp(i,e){return function(t){i.uniform3uiv(e,t)}}function Lp(i,e){return function(t){i.uniform4uiv(e,t)}}function Op(i,e){return function(t){i.uniformMatrix2fv(e,!1,t)}}function Gp(i,e){return function(t){i.uniformMatrix3fv(e,!1,t)}}function Hp(i,e){return function(t){i.uniformMatrix4fv(e,!1,t)}}function Wp(i,e){return function(t){i.uniformMatrix2x3fv(e,!1,t)}}function jp(i,e){return function(t){i.uniformMatrix3x2fv(e,!1,t)}}function Vp(i,e){return function(t){i.uniformMatrix2x4fv(e,!1,t)}}function Zp(i,e){return function(t){i.uniformMatrix4x2fv(e,!1,t)}}function Xp(i,e){return function(t){i.uniformMatrix3x4fv(e,!1,t)}}function Yp(i,e){return function(t){i.uniformMatrix4x3fv(e,!1,t)}}function at(i,e,t,n){const r=go(i,e);return En(i)?function(s){let o,a;!s||Jn(i,s)?(o=s,a=null):(o=s.texture,a=s.sampler),i.uniform1i(n,t),i.activeTexture(jn+t),i.bindTexture(r,o),i.bindSampler(t,a)}:function(s){i.uniform1i(n,t),i.activeTexture(jn+t),i.bindTexture(r,s)}}function lt(i,e,t,n,r){const s=go(i,e),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=t+a;return En(i)?function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(jn+o[u]);let c,f;Jn(i,l)?(c=l,f=null):(c=l.texture,f=l.sampler),i.bindSampler(t,f),i.bindTexture(s,c)})}:function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(jn+o[u]),i.bindTexture(s,l)})}}Me[nr]={Type:Float32Array,size:4,setter:Fp,arraySetter:xp};Me[eo]={Type:Float32Array,size:8,setter:Np,cols:2};Me[to]={Type:Float32Array,size:12,setter:Pp,cols:3};Me[no]={Type:Float32Array,size:16,setter:Bp,cols:4};Me[Hr]={Type:Int32Array,size:4,setter:bo,arraySetter:vo};Me[ro]={Type:Int32Array,size:8,setter:$o,cols:2};Me[io]={Type:Int32Array,size:12,setter:wo,cols:3};Me[so]={Type:Int32Array,size:16,setter:yo,cols:4};Me[Wr]={Type:Uint32Array,size:4,setter:zp,arraySetter:Up};Me[mo]={Type:Uint32Array,size:8,setter:Dp,cols:2};Me[po]={Type:Uint32Array,size:12,setter:Mp,cols:3};Me[_o]={Type:Uint32Array,size:16,setter:Lp,cols:4};Me[oo]={Type:Uint32Array,size:4,setter:bo,arraySetter:vo};Me[ao]={Type:Uint32Array,size:8,setter:$o,cols:2};Me[lo]={Type:Uint32Array,size:12,setter:wo,cols:3};Me[uo]={Type:Uint32Array,size:16,setter:yo,cols:4};Me[co]={Type:Float32Array,size:32,setter:Op,rows:2,cols:2};Me[fo]={Type:Float32Array,size:48,setter:Gp,rows:3,cols:3};Me[ho]={Type:Float32Array,size:64,setter:Hp,rows:4,cols:4};Me[dp]={Type:Float32Array,size:32,setter:Wp,rows:2,cols:3};Me[pp]={Type:Float32Array,size:32,setter:Vp,rows:2,cols:4};Me[_p]={Type:Float32Array,size:48,setter:jp,rows:3,cols:2};Me[gp]={Type:Float32Array,size:48,setter:Xp,rows:3,cols:4};Me[bp]={Type:Float32Array,size:64,setter:Zp,rows:4,cols:2};Me[vp]={Type:Float32Array,size:64,setter:Yp,rows:4,cols:3};Me[cp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[fp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[hp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:jr};Me[mp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[$p]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:sr};Me[wp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:sr};Me[yp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[Ep]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[kp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:jr};Me[Ap]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[Tp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:sr};Me[Sp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:rr};Me[Ip]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:jr};Me[Cp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:ir};Me[Rp]={Type:null,size:0,setter:at,arraySetter:lt,bindPoint:sr};function or(i,e){return function(t){if(t.value)switch(i.disableVertexAttribArray(e),t.value.length){case 4:i.vertexAttrib4fv(e,t.value);break;case 3:i.vertexAttrib3fv(e,t.value);break;case 2:i.vertexAttrib2fv(e,t.value);break;case 1:i.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribPointer(e,t.numComponents||t.size,t.type||nr,t.normalize||!1,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Gt(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Hr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function ar(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else i.bindBuffer(tr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Wr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Vr(i,e,t){const n=t.size,r=t.count;return function(s){i.bindBuffer(tr,s.buffer);const o=s.size||s.numComponents||n,a=o/r,l=s.type||nr,c=Me[l].size*o,f=s.normalize||!1,h=s.offset||0,m=c/r;for(let d=0;d<r;++d)i.enableVertexAttribArray(e+d),i.vertexAttribPointer(e+d,a,l,f,c,h+m*d),i.vertexAttribDivisor&&i.vertexAttribDivisor(e+d,s.divisor||0)}}const tt={};tt[nr]={size:4,setter:or};tt[eo]={size:8,setter:or};tt[to]={size:12,setter:or};tt[no]={size:16,setter:or};tt[Hr]={size:4,setter:Gt};tt[ro]={size:8,setter:Gt};tt[io]={size:12,setter:Gt};tt[so]={size:16,setter:Gt};tt[Wr]={size:4,setter:ar};tt[mo]={size:8,setter:ar};tt[po]={size:12,setter:ar};tt[_o]={size:16,setter:ar};tt[oo]={size:4,setter:Gt};tt[ao]={size:8,setter:Gt};tt[lo]={size:12,setter:Gt};tt[uo]={size:16,setter:Gt};tt[co]={size:4,setter:Vr,count:2};tt[fo]={size:9,setter:Vr,count:3};tt[ho]={size:16,setter:Vr,count:4};const Kp=/ERROR:\s*\d+:(\d+)/gi;function qp(i,e="",t=0){const n=[...e.matchAll(Kp)],r=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],u=l?l.index:e.length,c=e.substring(s.index,u);return[a-1,c]}));return i.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const as=/^[ \t]*\n/;function Eo(i){let e=0;return as.test(i)&&(e=1,i=i.replace(as,"")),{lineOffset:e,shaderSource:i}}function Jp(i,e,t,n){if(n=n||Gr,!i.getShaderParameter(t,J0)){const s=i.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=Eo(i.getShaderSource(t)),l=`${qp(a,s,o)}
Error compiling ${Os(i,e)}: ${s}`;return n(l),l}return""}function ko(i,e,t){let n,r,s;if(typeof e=="function"&&(t=e,e=void 0),typeof i=="function")t=i,i=void 0;else if(i&&!Array.isArray(i)){const u=i;t=u.errorCallback,i=u.attribLocations,n=u.transformFeedbackVaryings,r=u.transformFeedbackMode,s=u.callback}const o=t||Gr,a=[],l={errorCallback(u,...c){a.push(u),o(u,...c)},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:s,errors:a};{let u={};Array.isArray(i)?i.forEach(function(c,f){u[c]=e?e[f]:f}):u=i||{},l.attribLocations=u}return l}const Qp=["VERTEX_SHADER","FRAGMENT_SHADER"];function e1(i,e){if(e.indexOf("frag")>=0)return ep;if(e.indexOf("vert")>=0)return tp}const t1=(i=0)=>new Promise(e=>setTimeout(e,i));function n1(i,e,t){const n=i.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=ko(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const u=K0(l),c=u?u.text:l;let f=i[Qp[a]];u&&u.type&&(f=e1(i,u.type)||f),l=i.createShader(f),i.shaderSource(l,Eo(c).shaderSource),i.compileShader(l),i.attachShader(n,l)}}Object.entries(r).forEach(([a,l])=>i.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),i.transformFeedbackVaryings(n,a,o||np))}return i.linkProgram(n),n}async function r1(i,e){const t=i.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await t1(r),r=1e3/60;while(!n(i,e))}async function i1(i,e){for(const t of Object.values(e))await r1(i,t)}function s1(i,e,t){if(t=t||Gr,!i.getProgramParameter(e,Q0)){const r=i.getProgramInfoLog(e);t(`Error in program linking: ${r}`);const o=i.getAttachedShaders(e).map(a=>Jp(i,i.getShaderParameter(a,i.SHADER_TYPE),a,t));return`${r}
${o.filter(a=>a).join(`
`)}`}}function Ao(i){const e=i.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const o1=/(\.|\[|]|\w+)/g,a1=i=>i>="0"&&i<="9";function l1(i,e,t,n){const r=i.split(o1).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=a1(a[0]),u=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){t[u]=e;break}else{const f=r[s++],h=f==="[",m=t[u]||(h?[]:{});t[u]=m,t=m,n[o]=n[o]||function(d){return function(p){To(d,p)}}(m),o+=f}}}function u1(i,e){let t=0;function n(a,l,u){const c=l.name.endsWith("[0]"),f=l.type,h=Me[f];if(!h)throw new Error(`unknown type: 0x${f.toString(16)}`);let m;if(h.bindPoint){const d=t;t+=l.size,c?m=h.arraySetter(i,f,d,u,l.size):m=h.setter(i,f,d,u,l.size)}else h.arraySetter&&c?m=h.arraySetter(i,u):m=h.setter(i,u);return m.location=u,m}const r={},s={},o=i.getProgramParameter(e,Qs);for(let a=0;a<o;++a){const l=i.getActiveUniform(e,a);if(Ao(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const c=i.getUniformLocation(e,l.name);if(c){const f=n(e,l,c);r[u]=f,l1(u,f,s,r)}}return r}function c1(i,e){const t={},n=i.getProgramParameter(e,ip);for(let r=0;r<n;++r){const s=i.getTransformFeedbackVarying(e,r);t[s.name]={index:r,type:s.type,size:s.size}}return t}function f1(i,e){const t=i.getProgramParameter(e,Qs),n=[],r=[];for(let a=0;a<t;++a){r.push(a),n.push({});const l=i.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];i.getActiveUniforms(e,r,i[l]).forEach(function(c,f){n[f][u]=c})});const s={},o=i.getProgramParameter(e,sp);for(let a=0;a<o;++a){const l=i.getActiveUniformBlockName(e,a),u={index:i.getUniformBlockIndex(e,l),usedByVertexShader:i.getActiveUniformBlockParameter(e,a,op),usedByFragmentShader:i.getActiveUniformBlockParameter(e,a,ap),size:i.getActiveUniformBlockParameter(e,a,lp),uniformIndices:i.getActiveUniformBlockParameter(e,a,up)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:n}}function To(i,e){for(const t in e){const n=i[t];typeof n=="function"?n(e[t]):To(i[t],e[t])}}function _n(i,...e){const t=i.uniformSetters||i,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)_n(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function h1(i,e){const t={},n=i.getProgramParameter(e,rp);for(let r=0;r<n;++r){const s=i.getActiveAttrib(e,r);if(Ao(s))continue;const o=i.getAttribLocation(e,s.name),a=tt[s.type],l=a.setter(i,o,a);l.location=o,t[s.name]=l}return t}function m1(i,e){for(const t in e){const n=i[t];n&&n(e[t])}}function ls(i,e,t){t.vertexArrayObject?i.bindVertexArray(t.vertexArrayObject):(m1(e.attribSetters||e,t.attribs),t.indices&&i.bindBuffer(q0,t.indices))}function d1(i,e){const t=u1(i,e),n=h1(i,e),r={program:e,uniformSetters:t,attribSetters:n};return En(i)&&(r.uniformBlockSpec=f1(i,e),r.transformFeedbackInfo=c1(i,e)),r}function us(i,e,t,n,r){for(const[s,o]of Object.entries(e)){const a={...r},l=t[s];Array.isArray(l)||Object.assign(a,l);const u=s1(i,o,a.errorCallback);if(u){for(const c of Object.values(e)){const f=i.getAttachedShaders(c);i.deleteProgram(c);for(const h of f)n.has(h)||i.deleteShader(h)}return u}}}function p1(i,e,t={}){const n=new Set,r=Object.fromEntries(Object.entries(e).map(([o,a])=>{const l={...t},u=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(l,a),u.forEach(n.add,n),[o,n1(i,u,l)]}));if(t.callback){i1(i,r).then(()=>{const o=us(i,r,e,n,t);t.callback(o,o?void 0:r)});return}return us(i,r,e,n,t)?void 0:r}function _1(i,e,t){t=ko(t);function n(o,a){return Object.fromEntries(Object.entries(a).map(([l,u])=>[l,d1(o,u)]))}const r=t.callback;r&&(t.callback=(o,a)=>{r(o,o?void 0:n(i,a))});const s=p1(i,e,t);if(!(r||!s))return n(i,s)}const g1=36160,Yt=36161,b1=3553,v1=5121,$1=6402,w1=6408,y1=33190,E1=36012,k1=35056,A1=36013,T1=32854,S1=32855,I1=36194,So=33189,Io=6401,Co=36168,Zr=34041,kr=36064,lr=36096,Ro=36128,Xr=33306,Ar=33071,Tr=9729,Fo=[{format:w1,type:v1,min:Tr,wrap:Ar},{format:Zr}],vt={};vt[Zr]=Xr;vt[Io]=Ro;vt[Co]=Ro;vt[$1]=lr;vt[So]=lr;vt[y1]=lr;vt[E1]=lr;vt[k1]=Xr;vt[A1]=Xr;function C1(i,e){return vt[i]||vt[e]}const Ht={};Ht[T1]=!0;Ht[S1]=!0;Ht[I1]=!0;Ht[Zr]=!0;Ht[So]=!0;Ht[Io]=!0;Ht[Co]=!0;function R1(i){return Ht[i]}const F1=32;function x1(i){return i>=kr&&i<kr+F1}function cs(i,e,t,n){const r=g1,s=i.createFramebuffer();i.bindFramebuffer(r,s),t=t||i.drawingBufferWidth,n=n||i.drawingBufferHeight,e=e||Fo;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,u){let c=l.attachment;const f=l.samples,h=l.format;let m=l.attachmentPoint||C1(h,l.internalFormat);if(m||(m=kr+u),x1(m)&&o.push(m),!c)if(f!==void 0||R1(h))c=i.createRenderbuffer(),i.bindRenderbuffer(Yt,c),f>1?i.renderbufferStorageMultisample(Yt,f,h,t,n):i.renderbufferStorage(Yt,h,t,n);else{const d=Object.assign({},l);d.width=t,d.height=n,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||Tr,d.mag=d.mag||d.minMag||Tr,d.wrapS=d.wrapS||d.wrap||Ar,d.wrapT=d.wrapT||d.wrap||Ar),c=Js(i,d)}if(Ps(i,c))i.framebufferRenderbuffer(r,m,Yt,c);else if(Jn(i,c))l.layer!==void 0?i.framebufferTextureLayer(r,m,c,l.level||0,l.layer):i.framebufferTexture2D(r,m,l.target||b1,c,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(c)}),i.drawBuffers&&i.drawBuffers(o),a}function N1(i,e,t,n,r){n=n||i.drawingBufferWidth,r=r||i.drawingBufferHeight,e.width=n,e.height=r,t=t||Fo,t.forEach(function(s,o){const a=e.attachments[o],l=s.format,u=s.samples;if(u!==void 0||Ps(i,a))i.bindRenderbuffer(Yt,a),u>1?i.renderbufferStorageMultisample(Yt,u,l,n,r):i.renderbufferStorage(Yt,l,n,r);else if(Jn(i,a))Y0(i,a,s,n,r);else throw new Error("unknown attachment type")})}class P1{constructor(e,t,n,r){this.id=e,this.original=t,this.texture=n,this.meta=r}get width(){return this.original.width}get height(){return this.original.height}}class B1{constructor(e,t=new As("textures")){Ie(this,"textures",new Map);this.gl=e,this.idGenerator=t}addImage(e,t){let n=t==null?void 0:t.id;if(n&&this.textures.has(n))throw new Error(`Texture with id ${n} already exists`);if(!n){for(let o=0;o<this.textures.size+5&&(n=this.idGenerator.generate(),!!this.textures.has(n));o++)n=void 0;if(!n)throw new Error("Textures overflow!")}const r=Js(this.gl,{src:e}),s=new P1(n,e,r,t.meta);return this.textures.set(n,s),s}downloadImage(e,t){return Ts(e).then(n=>this.addImage(n,t))}delete(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} already deleted`);return this.gl.deleteTexture(t.texture),this.textures.delete(e),t.original}get(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} not found`);return t}has(e){return this.textures.has(e)}}const z1=`#version 300 es
precision highp  float;
precision highp  int;

vec2[6] v;
vec2[6] t;

out vec2 texCoord;
void main() {
    v[0] = vec2(-1, -1);
    v[1] = vec2(1, -1);
    v[2] = vec2(1, 1);
    v[3] = vec2(1, 1);
    v[4] = vec2(-1, 1);
    v[5] = vec2(-1, -1);
    int i = gl_VertexID;
    gl_Position = vec4(v[i], 0, 1);
    t[0] = vec2(0, 0);
    t[1] = vec2(1, 0);
    t[2] = vec2(1, 1);
    t[3] = vec2(1, 1);
    t[4] = vec2(0, 1);
    t[5] = vec2(0, 0);
    texCoord = vec2(t[i].x, t[i].y);
}`,U1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform float blur;
uniform vec2 resolution;
uniform bool dim;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    if(blur <= 0.) {
        vec4 origin = texture(stencilSampler, texCoord);
        FragColor = vec4(color, alpha * origin.a);
        return;
    }

    float sum = 0.0;
    float r = blur * 0.5;
    float scaleX = 1. / resolution.x;
    float scaleY = 1. / resolution.y;
    float from = -2.0 * r;
    float to = 2.0 * r;
    float C1 = 2. * r * r;
    float C2 = sqrt(C1 * PI);
    float channel = float(dim);
    for(float delta = from; delta <= to; delta++) {
        float x = (1. - channel) * delta;
        float y = channel * delta;
        vec2 shift = vec2(x * scaleX, y * scaleY);
        vec4 origin = texture(stencilSampler, texCoord + shift);
        float g = exp(-(x * x + y * y) / C1) / C2;
        sum += origin.a * g;
    }
    FragColor = vec4(color, alpha * sum);
}`,D1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D textureSampler;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    FragColor = texture(textureSampler, vec2(texCoord.x, texCoord.y));
}`,dr=`float channelAlpha(int currentChannel, int channels, vec4 o);

float fillAlpha(vec4 o) {
    return o.g * o.a;
}

float strokeFullAlpha(vec4 o) {
    float a = (1. - fillAlpha(o));
    if(a == 0.0)
        return o.a * o.r;
    return o.a * o.r / a;
}

float strokeSimpleAlpha(vec4 o) {
    return o.r * o.a;
}

#define STENCIL_CHANNEL_STROKE 1
#define STENCIL_CHANNEL_FILL 2

float channelAlpha(int currentChannel, int channels, vec4 o) {
    if(currentChannel == STENCIL_CHANNEL_FILL)
        return fillAlpha(o);
    if((channels & STENCIL_CHANNEL_FILL) != 0)
        return strokeFullAlpha(o);
    return strokeSimpleAlpha(o);
}

void main();`,fs=`#version 300 es
precision highp  float;
precision highp  int;

in vec3 position;
in vec2 textureCoordinate;

uniform mat4 transform;
uniform mat4 camera;

out vec2 texCoord;
void main() {
    gl_Position = camera * transform * vec4(position, 1);

    texCoord = textureCoordinate;
}`,M1=`#version 300 es
precision highp  float;
precision highp  int;

uniform sampler2D stencilSampler;
uniform float alpha;
uniform int channel;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int channel, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    FragColor = vec4(texCoord, 0, channelAlpha(channel, origin) * alpha);
}
`;function xo(i){const e=parseInt(i.slice(1),16);return[(e>>2*8)/255,(e>>8&255)/255,(e&255)/255]}class L1{constructor(e,t,n){Ie(this,"shaders");Ie(this,"shadowBuffer");Ie(this,"shadowProgram");Ie(this,"imageProgram");Ie(this,"rectangleBuffer");this.gl=e,this.textures=t,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);{const o=[{format:e.RGBA}];this.shadowBuffer=[{options:o,info:cs(e,o,e.canvas.width,e.canvas.height)},{options:o,info:cs(e,o,e.canvas.width,e.canvas.height)}]}const r=Object.entries(n),s=_1(e,Object.fromEntries(r.map(([o,{vertex:a,fragment:l}])=>[o,[a||fs,(l||M1)+dr]]).concat([["__shadow__",[z1,U1+dr]],["__image__",[fs,D1+dr]]])));this.shaders=Object.fromEntries(r.map(([o,a])=>[o,{uniforms:(l,u,c)=>a.uniforms(l,u,c),info:s[o]}])),this.shadowProgram=s.__shadow__,this.imageProgram=s.__image__,this.rectangleBuffer=gd(e,{position:[[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]].flat(),textureCoordinate:[[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]].flat()})}get size(){return{width:this.gl.canvas.width,height:this.gl.canvas.height}}resize(e,t){this.size.width==e&&this.size.height==t||(this.gl.canvas.width=e,this.gl.canvas.height=t,this.shadowBuffer.forEach(n=>{N1(this.gl,n.info,n.options,e,t)}),this.gl.viewport(0,0,e,t))}drawImage(e){this.gl.useProgram(this.imageProgram.program),this.imageProgram.uniformSetters.textureSampler(e),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawShadow(e,t,n,r,s,o){const a=this.gl,l=this.shadowBuffer[0].info;a.bindFramebuffer(a.FRAMEBUFFER,l.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.drawStencilLayer(e,t,n,{...r,position:{x:r.position.x+o.offset.x,y:r.position.y+o.offset.y}},s,!1);const u={color:xo(o.color),alpha:1,resolution:[this.size.width,this.size.height],blur:Math.min(o.blur,3600)};a.useProgram(this.shadowProgram.program);const c=this.shadowBuffer[1].info;a.bindFramebuffer(a.FRAMEBUFFER,c.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),_n(this.shadowProgram,{...u,stencilSampler:l.attachments[0],dim:0}),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),_n(this.shadowProgram,{...u,stencilSampler:c.attachments[0],dim:1}),a.drawArrays(a.TRIANGLES,0,6)}drawStencilLayer(e,t,n,r,s,o=!0){const a=this.gl;if(s.settings.type=="disabled")return;o&&s.shadow&&this.drawShadow(e,t,n,r,s,s.shadow);const l=this.shaders[s.settings.type],u={camera:dt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:dt.scale(dt.rotateZ(dt.translation([r.position.x,r.position.y,0]),r.rotation),[r.width,r.height,1]),stencilSampler:e,channel:t,channels:n,alpha:s.alpha,...l.uniforms(s.settings,r,this)};a.useProgram(l.info.program),_n(l.info,u),ls(a,l.info,this.rectangleBuffer),a.drawArrays(a.TRIANGLES,0,6)}drawRectImage(e,t){const n=this.gl,r=this.imageProgram,s={camera:dt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:dt.scale(dt.rotateZ(dt.translation([t.position.x,t.position.y,0]),t.rotation),[t.width,t.height,1]),textureSampler:e};n.useProgram(r.program),_n(r,s),ls(n,r,this.rectangleBuffer),n.drawArrays(n.TRIANGLES,0,6)}}const O1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec2 tcoords = texCoord;
    vec4 origin = texture(stencilSampler, tcoords);
    float originAlpha = channelAlpha(channel, channels, origin);
    FragColor = vec4(color, originAlpha * alpha);
}
`,G1={fragment:O1,uniforms(i){return{color:xo(i.value)}}},H1=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform sampler2D patternSampler;
uniform float alpha;
uniform int channel;
uniform int channels;
uniform mat4 patternTransform;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec4 patternCoord = patternTransform * vec4(texCoord, 0, 1);
    FragColor = texture(patternSampler, patternCoord.xy / patternCoord.w);
    FragColor.a *= channelAlpha(channel, channels, origin) * alpha;
}
`;function W1(i){return{fragment:H1,uniforms(e,t,n){const r=n.textures.get(i.getTexture(e.name)),s=e.scale=="font"?dt.identity():dt.scaling([t.width/(r.width*e.scale.x),t.height/(r.height*e.scale.y),1]);return{patternSampler:r.texture,patternTransform:dt.multiply(dt.rotateZ(dt.translation([e.shift.x/r.width,e.shift.y/r.height,0]),e.rotate/180*Math.PI),s)}}}}const j1=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D stencilSampler;
uniform vec3 colors[4];
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec3 color = (1.0 - texCoord.x) * colors[0];
    color += (texCoord.x) * colors[1];
    color += (1.0 - texCoord.y) * colors[2];
    color += (texCoord.y) * colors[3];
    FragColor = vec4(color, channelAlpha(channel, channels, origin) * alpha);
}
`,V1={fragment:j1,uniforms(i){return{colors:[[1,0,0],[0,1,0],[0,1,1],[0,0,1]].flat()}}};function Z1(i,e){switch(e){case"As is":return i;case"UPPER":return i.toUpperCase();case"lower":return i.toLowerCase()}throw new Error(`Unsupported text case type: ${e}`)}class X1{constructor(e=document.createElement("canvas").getContext("2d")){this.ctx=e}set baseline(e){this.ctx.textBaseline=e}get baseline(){return this.ctx.textBaseline}set align(e){this.ctx.textAlign=e}get align(){return this.ctx.textAlign}measureText(e,t,n){n&&t&&(this.ctx.font=qt(t,n));const r=this.ctx.measureText(e);return{advancedWidth:r.width,width:r.actualBoundingBoxLeft+r.actualBoundingBoxRight,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,boundingBox:{top:r.actualBoundingBoxAscent,bottom:r.actualBoundingBoxDescent,left:r.actualBoundingBoxLeft,right:r.actualBoundingBoxRight}}}}const Yr=class{constructor(e=new X1,t=100){Ie(this,"heightMeasuresCache",new Map);this.measurer=e,this.interpolationPoint=t,e.baseline="bottom"}drawTextInfo(e,t,n,r){const s=Z1(e,t.case).split(`
`);return this.drawLinesInfo(s,t.font,t.strokeWidth/100,t.align,t.baseline,t.lineSpacing,n,r)}fontSize(e,t,n,r,s,o,a){if(e<2||t<2)return Math.min(e,t);const l=n.map(v=>{const w=this.measurer.measureText(v,r,o);return{line:v,width:w.width}}).reduce((v,w)=>w.width>v.width?w:v).line,u=s*o,c=this.measureHeight(r,o)+u/2,h=(this.linesHeight(c,n.length,a)+u/2)/o,p=(this.measurer.measureText(l,r,o).width+u)/o,$=e/p,g=t/h;return Math.min(g,$)}measureHeight(e,t){return this.measureReference(e,t).height}measureReference(e,t){const n=qt(e,t),r=this.heightMeasuresCache.get(n);if(r)return r;const s=this.measurer.measureText(Yr.MAX_HEIGHT_TEXT_EXAMPLE,e,t);return this.heightMeasuresCache.set(n,s),s}linesHeight(e,t,n){return e*(t+n*(t-1))}drawLinesInfo(e,t,n,r,s,o,a,l){const u=this.fontSize(a-2,l-2,e,t,n,this.interpolationPoint,o),c=n*u,f=c/2,h=r=="left"?f:r=="right"?a-f:a/2|0,m=this.measureReference(t,u),d=m.height+c/2,p=d*(1+o),$=this.linesHeight(d,e.length,o)+c/2,g=s=="top"?0:s=="middle"?(l-$)/2|0:l-$,v=d+g-m.boundingBox.bottom,w=new Array;this.measurer.align=r;for(let I=0;I<e.length;I++){const S=e[I],P=this.measurer.measureText(S,t,u).boundingBox,R=v+I*p;let W=h;switch(r){case"center":W+=(P.left-P.right)/2;break;case"left":W+=P.left;break;case"right":W-=P.right;break}w.push({text:S,x:W,y:R})}return{lines:w,font:t,fontSize:u,lineWidth:c,stringHeight:d,totalHeight:$,baseline:"bottom",align:r}}};let Dn=Yr;Ie(Dn,"MAX_HEIGHT_TEXT_EXAMPLE","AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZzАаБбВвГгДдЕеЁёЖжЗзИиЙйКкЛлМмНнОоПпРрСсТтУуФфХхЦцЧчШшЩщЪъЫыЬьЭэЮюЯя");class Y1{constructor(e,t=document.createElement("canvas").getContext("2d")){Ie(this,"textManager");Ie(this,"stencilTexture");Ie(this,"ctx");if(this.gl=e,!t)throw new Error("TextStencilService require not null ctx: CanvasRenderingContext2D.");this.ctx=t,this.textManager=new Dn;const n=e.createTexture();if(!n)throw new Error("Failed to create WebGL texture in TextStencilService.");this.stencilTexture=n}getTextStencil(e,t,n,r){const s=Math.ceil(Math.abs(n)),o=Math.ceil(Math.abs(r)),a=this.textManager.drawTextInfo(e,t,s,o),l=this.ctx.canvas;l.height!=o&&(l.height=o),l.width!=s&&(l.width=s),this.ctx.clearRect(0,0,s,o),this.draw(this.ctx,a);const u=this.gl;return Mr(u,this.stencilTexture,l,{wrap:u.CLAMP_TO_EDGE,min:u.LINEAR}),{stencil:this.stencilTexture,info:a}}draw(e,t,n=!1){e.lineJoin="round",e.miterLimit=2,e.textAlign=t.align,e.textBaseline=t.baseline,e.lineWidth=t.lineWidth,e.font=qt(t.font,t.fontSize),e.strokeStyle="#ff0000",e.fillStyle="#00ff00";const r=t.lines;for(let s=0;s<r.length;s++){const o=r[s];e.strokeText(o.text,o.x,o.y)}for(let s=0;s<r.length;s++){const o=r[s];e.fillText(o.text,o.x,o.y)}if(n){e.strokeStyle="#ffffff",e.lineWidth=1;for(let s=0;s<r.length;s++){const o=r[s],a=o.y,l=o.x,u=e.measureText(o.text);console.debug(o),console.debug(u),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke(),e.moveTo(l,a-u.actualBoundingBoxAscent),e.lineTo(l,a+u.actualBoundingBoxDescent),e.stroke(),e.strokeRect(l-u.actualBoundingBoxLeft,a-u.actualBoundingBoxAscent,u.actualBoundingBoxLeft+u.actualBoundingBoxRight,u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}e.lineWidth=3,e.strokeRect(0,0,e.canvas.width,e.canvas.height)}}}class K1{constructor(e,t){Ie(this,"textService");Ie(this,"graphics");this.gl=e,this.textures=t,this.textService=new Y1(e),this.graphics=new L1(e,t,{color:G1,pattern:W1(Ir),gradient4:V1})}drawFrame(e){this.graphics.resize(e.width,e.height);const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.blocks.forEach(n=>this.drawBlock(e,n))}drawBlock(e,t){const{graphics:n,textures:r}=this,s=this.blockSize(e,t),{container:o,content:a}=t;switch(a.type){case"image":{const l=r.get(a.value.id);switch(o.type){case"global":{const u=n.size;n.drawRectImage(l.texture,{...s,position:{x:u.width/2,y:u.height/2},rotation:0});break}case"rectangle":{n.drawRectImage(l.texture,o.value);break}}break}case"text":{const{text:l,style:u}=a.value,c=this.textService.getTextStencil(l,u,s.width,s.height),f=this.textRectangle(e,t,s,u.baseline,c.info),h=u.stroke.settings.type!=="disabled",m=u.fill.settings.type!=="disabled",d=+h*1|+m*2;h&&n.drawStencilLayer(c.stencil,1,d,f,u.stroke),m&&n.drawStencilLayer(c.stencil,2,d,f,u.fill);break}}}blockSize(e,t){const n=t.container,r=t.content;if(n.type=="rectangle")return n.value;if(r.type=="text"){const s=r.value.text.split(`
`),o=s.length,a=Math.max(...s.map(l=>l.length));return{width:e.width*n.value.maxWidth,height:e.height*Math.max(n.value.minHeight,Math.min(n.value.maxHeight,o*(.175+Math.max(-.05,.03*(2.5-a/10)))))}}return{width:e.width*n.value.maxWidth,height:e.height*n.value.maxHeight}}textRectangle(e,t,n,r,s){const o=t.container;if(o.type=="rectangle")return o.value;const a=2/9,l=n.height/2+s.fontSize*a,u=r=="top"?l:r=="middle"?e.height/2:e.height-l;return{...n,rotation:0,position:{x:e.width/2,y:u}}}}const Kr=class{static fromFile(e){return new bn().loadAsync(e).then(n=>{const r=n.file("index.json");return r?r.async("string").then(s=>{const o=JSON.parse(s,(a,l)=>(a==="container"&&l.type==="global"&&(l.value.minHeight=.1),l));if(o.formatVersion!==this.FormatVersion)throw new Mn(`expected version ${this.FormatVersion}, actual: ${o.formatVersion}`);return Promise.all(o.resources.images.map(a=>{const l=n.file(this.imageFilepath(a));if(!l)throw new Error(`Not found image with id ${a}`);return l.async("blob").then(u=>({id:a,blob:u}))})).then(a=>({meme:o.meme,resources:{images:a}}))}):Kr.zeroVersion(n)})}static toFile(e){const t=new bn;e.resources.images.forEach(({id:r,blob:s})=>{t.file(this.imageFilepath(r),s,{binary:!0})});const n={meme:e.meme,formatVersion:this.FormatVersion,editorVersion:this.EditorVersion,resources:{images:e.resources.images.map(r=>r.id)}};return t.file("index.json",JSON.stringify(n)),t.generateAsync({type:"blob"})}static imageFilepath(e){return`resources/images/${e}.png`}static zeroVersion(e){const t=e.file("text.json");if(!t)throw new Mn("Unknown format");const n=t.comment;return t.async("string").then(r=>{const s=JSON.parse(r),o=e.file(/.*\.png/),a=new Array(o.length);return Promise.all(o.map(l=>l.async("blob").then(u=>{const c=+l.name.substring(0,l.name.length-4);return this.imageSizes(u).then(({width:f,height:h})=>{const m={id:`old-frame-${c}`,blocks:[{id:`old-frame-${c}-background`,container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:l.name}}}],height:h,width:f};a[c]=m}).then(()=>({id:l.name,blob:u}))}))).then(l=>{for(let u=0;u<s.length;u++){const c=s[u],f=a[u];if(n)switch(n){case"v0.0.3":f.blocks.push(...c.textContent.map((h,m)=>{const d=h.box,p=Tt.mergePartials(Tt.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}}:{type:"rectangle",value:{height:d.height,width:d.width,position:{x:d.x,y:d.y},rotation:0}},content:{type:"text",value:{text:h.text,style:pr(p,h.main)}}}}));break;case"v0.0.4":f.blocks.push(...c.textContent.map((h,m)=>{const d=h.box,p=Tt.mergePartials(Tt.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,minHeight:.1,maxWidth:.96}}:{type:"rectangle",value:{height:d._height,width:d._width,position:{x:d.transform.x,y:d.transform.y},rotation:d.transform.rotate}},content:{type:"text",value:{text:h.text,style:pr(p,h.main)}}}}));break;default:throw new Mn(`Unexpected legacy version ${n}`)}else{const h=typeof c=="string"?c:c.text,m=typeof c=="string"?Tt.DefaultStyle():c.textContent.style,d={text:h,style:pr(Tt.mergePartials(Tt.DefaultStyle(),m),!0)};f.blocks.push({id:`old-frame-${u}-block-0`,container:{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}},content:{type:"text",value:d}})}}return{meme:{frames:a},resources:{images:l}}})})}static imageSizes(e){return br(e,Ts)}};let on=Kr;Ie(on,"FormatVersion","0.2.0"),Ie(on,"EditorVersion","v0.2.1");class Mn extends Error{constructor(e,t){super(`Unsupported version: ${e}`,{cause:t})}}function pr(i,e){var n;const t=(n=i.shadow)!=null&&n.enabled?{blur:i.shadow.blur,color:i.shadow.color,offset:i.shadow.offset}:void 0;return{align:"center",baseline:e?"bottom":"middle",case:i.case,experimental:{},fill:{alpha:1,shadow:t,settings:hs(i.fill)},stroke:{alpha:1,shadow:t,settings:hs(i.stroke)},lineSpacing:i.experimental.lineWidthCoefficient*(i.experimental.lineSpacingCoefficient-.5),strokeWidth:i.experimental.lineWidthCoefficient*100,font:i.font}}function hs(i){switch(i.type){case"color":return{type:"color",value:i.name};case"pattern":return{type:"pattern",name:i.name,rotate:i.patternSettings.rotate,scale:i.patternSettings.scale,shift:i.patternSettings.shift};case"none":return{type:"disabled"};default:throw new Mn(`Failed convert old brush ${JSON.stringify(i)} to material settings`)}}var Tt;(i=>{function e(){return{case:"UPPER",fill:{name:"#ffffff",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},stroke:{name:"#000000",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},name:"custom",font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},shadow:{enabled:!1,color:"#000000",blur:10,offset:{x:0,y:0}},experimental:{lineSpacingCoefficient:.5,lineWidthCoefficient:.1385,interpolationPoint:100}}}i.DefaultStyle=e;function t(r){return r!==null&&typeof r=="object"}function n(r,s){for(const o in r){const a=s[o],l=r[o];t(l)&&(!a||t(a))?s[o]=n(l,a||{}):a===void 0&&(s[o]=l)}return s}i.mergePartials=n})(Tt||(Tt={}));function q1(i){const e=new Set(Object.keys(i));return["empty","await"].every(t=>e.has(t))}function J1(i){return Object.values(i).every(q1)}class Q1{constructor(e,t,n,r,s){Ie(this,"textures");Ie(this,"drawer");Ie(this,"meme",{frames:[]});Ie(this,"activeFrame");Ie(this,"activeBlock");Ie(this,"inUpdate",{meme:!1,frame:!1,block:!1});Ie(this,"backgroundTasks",new Map);Ie(this,"placeholdersTextures",new Array);Ie(this,"usedImages",new Map);Ie(this,"gl");Ie(this,"blockIdGenerator",new As("v.0.2.0-"+Date.now().toString()+"-"));Ie(this,"setBackground",e=>{const t=new FileReader,n=new Promise((r,s)=>{t.addEventListener("load",()=>r(t.result)),t.addEventListener("error",()=>s(t.error))});t.readAsDataURL(e),this.runTask("Меняем фон",n.then(r=>this.textures.downloadImage(r,{meta:{source:"user",type:"image"}}).then(s=>{this.removeImageUsage(this.activeFrame.blocks[0]),this.activeFrame.blocks[0].content={type:"image",value:{id:s.id}},this.activeFrame.width=s.width,this.activeFrame.height=s.height,this.addImageUsage(this.activeFrame.blocks[0]),this.frameUpdated()})))});Ie(this,"drawPreviewAsync",t_(e=>{this.drawer.drawFrame(e),this.drawPreview(e)},250));Ie(this,"zipCanvas",document.createElement("canvas"));Ie(this,"zipCtx",this.zipCanvas.getContext("2d"));this.stores=e;const o=t.getContext("webgl2",{premultipliedAlpha:!1});if(!o)throw new Error("Failed to create WebGL2 context!");this.gl=o,this.textures=new B1(o),this.drawer=new K1(o,this.textures),this.runTask("Загрузка ресурсов",Promise.all(n.map(({name:l,url:u})=>this.textures.downloadImage(u,{id:l,wrap:o.REPEAT,meta:{source:"default",type:"pattern"}}).then(c=>[l,c]))).then(l=>l.map(([u,c])=>({name:u,textureId:c.id}))).then(l=>Ir.addPattern(...l))),this.runTask("Загрузка шрифтов",rf()),this.runTask("Загрузка плейсхолдеров",Promise.all(Object.entries(r).map(([l,{empty:u}])=>Promise.all(u.map(({name:c,url:f})=>this.textures.downloadImage(f,{id:`placeholder-${l}-${c}`,meta:{source:"default",type:"image"}}))).then(c=>[l,c]))).then(Object.fromEntries).then(l=>this.placeholdersTextures=l[s]??l.default).then(()=>this.deleteFrame(this.activeFrame)).then(()=>this.draw(this.activeFrame,!0)));const a=e_(()=>this.draw());e.meme.subscribe(l=>{this.inUpdate.meme||(this.meme=l)}),e.frame.subscribe(l=>{a(),!this.inUpdate.frame&&(this.activeFrame=l)}),e.block.subscribe(l=>{a(),!this.inUpdate.block&&(this.activeBlock=l)})}get busy(){return this.backgroundTasks.size!=0}get currentTask(){return this.busy?this.backgroundTasks.values().next().value:""}runTask(e,t){return this.backgroundTasks.set(t,e),this.stores.busy.set(this.currentTask),t.finally(()=>{this.backgroundTasks.delete(t),this.stores.busy.set(this.currentTask)}),t}addImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;let r=this.usedImages.get(t);r||this.usedImages.set(t,r=new Set),r.add(e)}removeImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;const r=this.usedImages.get(t);r&&(r.delete(e),r.size==0&&this.textures.delete(t))}memeUpdated(){this.inUpdate.meme=!0,this.stores.meme.set(this.meme),this.inUpdate.meme=!1}frameUpdated(){this.inUpdate.frame=!0,this.stores.frame.set(this.activeFrame),this.inUpdate.frame=!1}blockUpdated(){this.inUpdate.block=!0,this.stores.block.set(this.activeBlock),this.inUpdate.block=!1}shiftBlock(e,t){const n=this.activeFrame.blocks,r=n.indexOf(e);let s=-1;const o=n.length;for(let a=r+t;a>0&&a<o;a+=t)if(n[a].content.type=="text"){s=a;break}s!=-1&&(n[r]=n[s],n[s]=e,this.frameUpdated())}shiftFrame(e,t){const n=this.meme.frames,r=n.indexOf(e),s=r+t;s<0||s>=n.length||(n[r]=n[s],n[s]=e,this.memeUpdated())}addBlock(e=this.activeBlock){e=an(e),e.id=this.blockIdGenerator.generate(),e.content.type==="text"&&(e.content.value.text="Текст",e.container.type==="global"&&(e.content.value.style.baseline="middle",e.content.value.style.align="center"));const t=this.activeFrame;e.container={type:"rectangle",value:{width:t.width*.5|0,height:t.height*.5|0,position:{x:t.width*.5|0,y:t.height*.5|0},rotation:0}},this.activeFrame.blocks.push(e),this.activeBlock=e,this.frameUpdated(),this.blockUpdated()}newFrame(e){var n,r;const t={...an(((r=(n=this.activeBlock)==null?void 0:n.content)==null?void 0:r.type)==="text"?this.activeBlock.content.value.style:ws),baseline:"bottom"};return{id:this.blockIdGenerator.generate(),blocks:[{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:e.id}}},{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxWidth:.96,maxHeight:.4,minHeight:0}},content:{type:"text",value:{text:"",style:t}}}],height:e.height,width:e.width}}copyFrame(e){const t=an(e);return t.id=this.blockIdGenerator.generate(),e.blocks.forEach(n=>n.id=this.blockIdGenerator.generate()),t}addFrame(e){const t=e?this.copyFrame(e):this.newFrame(this.placeholdersTextures[Math.floor(Math.random()*this.placeholdersTextures.length)]);return this.meme.frames.push(t),this.activeFrame=t,t.blocks.forEach(n=>this.addImageUsage(n)),this.memeUpdated(),this.frameUpdated(),t}deleteBlock(e){if(e.id==this.activeBlock.id){const t=this.activeFrame.blocks.find(n=>n.id!=e.id&&n.content.type==="text");t?(this.activeBlock=t,this.blockUpdated()):this.addBlock()}this.removeImageUsage(e),this.activeFrame.blocks.splice(this.activeFrame.blocks.indexOf(e),1),this.frameUpdated()}deleteFrame(e){if(e.id==this.activeFrame.id){const t=this.meme.frames.find(n=>n.id!=e.id);t?(this.activeFrame=t,this.frameUpdated()):this.addFrame()}this.meme.frames.splice(this.meme.frames.indexOf(e),1),e.blocks.forEach(t=>this.removeImageUsage(t)),this.memeUpdated()}copyFrameToClipboard(){return this.runTask("Копируем",this.frameBlob(this.activeFrame).then(e=>{window.navigator.clipboard.write([new ClipboardItem({[e.type]:e})])}))}frameBlob(e){return this.drawer.drawFrame(e),ms(this.gl.canvas)}drawPreview(e){var t,n;(n=(t=this.stores.previews.value)[e.id])==null||n.call(t,this.gl.canvas)}draw(e=this.activeFrame,t=!1){this.busy&&!t||(this.drawer.drawFrame(e),t?this.drawPreview(e):this.drawPreviewAsync(e))}renderMeme(){return this.runTask("Пакуем мем",Promise.all(this.meme.frames.map(e=>this.frameBlob(e))).then(e=>{if(this.drawer.drawFrame(this.activeFrame),e.length==1)return{ext:"png",blob:e[0]};const t=new bn,n=e.length.toString().length;return e.forEach((r,s)=>{t.file(`${(s+1).toString().padStart(n,"0")}.png`,r,{binary:!0})}),t.generateAsync({type:"blob"}).then(r=>({ext:"zip",blob:r}))}))}getImagesList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).map(n=>n.type=="image"?this.textures.get(n.value.id):"").filter(n=>n&&n.meta.source=="user"&&n.meta.type=="image"))))}exportMeme(){const e=this.getImagesList();return this.runTask("Пакуем мем",Promise.all(e.map(t=>(this.zipCanvas.width=t.width,this.zipCanvas.height=t.height,this.zipCtx.drawImage(t.original,0,0),ms(this.zipCanvas).then(n=>({id:t.id,blob:n}))))).then(t=>on.toFile({meme:this.meme,resources:{images:t}})))}openMeme(e){return this.runTask("Распаковываем мем",on.fromFile(e).then(t=>(this.getImagesList().forEach(n=>this.textures.delete(n.id)),this.usedImages.clear(),Promise.all(t.resources.images.map(({id:n,blob:r})=>br(r,s=>this.textures.downloadImage(s,{id:n,meta:{source:"user",type:"image"}})))).then(()=>(this.meme=t.meme,this.meme.frames.flatMap(n=>n.blocks).forEach(n=>this.addImageUsage(n)),this.activeFrame=this.meme.frames[0],this.memeUpdated(),this.frameUpdated(),_r())).then(()=>{this.meme.frames.forEach(n=>this.draw(n,!0)),this.draw()}))))}framesFromImages(e){return this.runTask("Загружаем картинки",Promise.all(e.map(t=>br(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"image"}})))).then(t=>t.map(n=>this.addFrame(this.newFrame(n)))).then(t=>_r().then(()=>t)).then(t=>{t.forEach(n=>this.draw(n,!0))}))}}function e_(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}function t_(i,e){let t=0;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,i.apply(void 0,n)},e)}}function ms(i){return new Promise((e,t)=>i.toBlob(n=>{if(!n){t(new Error("Failed to get blob from canvas"));return}e(n)}))}function n_(i){let e,t;return{c(){e=oe("article"),t=Ee(i[5]),this.h()},l(n){e=ae(n,"ARTICLE",{class:!0});var r=ce(e);t=ke(r,i[5]),r.forEach(C),this.h()},h(){Q(e,"class","svelte-1ow4yee")},m(n,r){te(n,e,r),K(e,t)},p(n,r){r[0]&32&&ft(t,n[5])},d(n){n&&C(e)}}}function r_(i){let e,t,n,r,s,o,a,l,u,c;e=new gr({props:{open:i[5]!=="",closable:!1,$$slots:{default:[n_]},$$scope:{ctx:i}}});function f(v){i[18](v)}function h(v){i[19](v)}function m(v){i[20](v)}function d(v){i[21](v)}function p(v){i[22](v)}function $(v){i[23](v)}let g={version:"v0.2.1",memeExampleURL:i[0]};return i[6]!==void 0&&(g.meme=i[6]),i[7]!==void 0&&(g.frame=i[7]),i[8]!==void 0&&(g.block=i[8]),i[3]!==void 0&&(g.canvasUI=i[3]),i[2]!==void 0&&(g.canvasWebgl=i[2]),i[9]!==void 0&&(g.previews=i[9]),n=new Vh({props:g}),Te.push(()=>Ce(n,"meme",f)),Te.push(()=>Ce(n,"frame",h)),Te.push(()=>Ce(n,"block",m)),Te.push(()=>Ce(n,"canvasUI",d)),Te.push(()=>Ce(n,"canvasWebgl",p)),Te.push(()=>Ce(n,"previews",$)),n.$on("openMeme",i[24]),n.$on("saveMeme",i[25]),n.$on("renderMeme",i[26]),n.$on("changeBackground",i[27]),n.$on("frameToClipboard",i[28]),n.$on("createBlock",i[29]),n.$on("shiftBlock",i[30]),n.$on("deleteBlock",i[31]),n.$on("createFrame",i[32]),n.$on("shiftFrame",i[33]),n.$on("deleteFrame",i[34]),n.$on("framesFromImages",i[35]),{c(){M(e.$$.fragment),t=de(),M(n.$$.fragment)},l(v){L(e.$$.fragment,v),t=pe(v),L(n.$$.fragment,v)},m(v,w){O(e,v,w),te(v,t,w),O(n,v,w),c=!0},p(v,w){const I={};w[0]&32&&(I.open=v[5]!==""),w[0]&32|w[1]&256&&(I.$$scope={dirty:w,ctx:v}),e.$set(I);const S={};w[0]&1&&(S.memeExampleURL=v[0]),!r&&w[0]&64&&(r=!0,S.meme=v[6],Re(()=>r=!1)),!s&&w[0]&128&&(s=!0,S.frame=v[7],Re(()=>s=!1)),!o&&w[0]&256&&(o=!0,S.block=v[8],Re(()=>o=!1)),!a&&w[0]&8&&(a=!0,S.canvasUI=v[3],Re(()=>a=!1)),!l&&w[0]&4&&(l=!0,S.canvasWebgl=v[2],Re(()=>l=!1)),!u&&w[0]&512&&(u=!0,S.previews=v[9],Re(()=>u=!1)),n.$set(S)},i(v){c||(y(e.$$.fragment,v),y(n.$$.fragment,v),c=!0)},o(v){k(e.$$.fragment,v),k(n.$$.fragment,v),c=!1},d(v){G(e,v),v&&C(t),G(n,v)}}}function i_(i){let e,t,n;function r(o){i[36](o)}let s={$$slots:{default:[r_]},$$scope:{ctx:i}};return i[4]!==void 0&&(s.theme=i[4]),e=new Yh({props:s}),Te.push(()=>Ce(e,"theme",r)),{c(){M(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){O(e,o,a),n=!0},p(o,a){const l={};a[0]&1007|a[1]&256&&(l.$$scope={dirty:a,ctx:o}),!t&&a[0]&16&&(t=!0,l.theme=o[4],Re(()=>t=!1)),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){G(e,o)}}}function s_(i,e,t){let n,r,s,o,a,l;St(i,Hi,ee=>t(4,n=ee));let{patternUrls:u}=e,{placeholdersUrls:c}=e,{memeURL:f=null}=e,{memeExampleURL:h}=e;const m=new Sn({frames:[{height:300,width:600,id:"loading-placeholder",blocks:[{id:"loading-block-placeholder",container:{type:"global",value:{maxHeight:.9,maxWidth:.9,minHeight:0}},content:{type:"text",value:{text:"Loading...",style:ws}}}]}]});St(i,m,ee=>t(6,s=ee));const d=new Sn(m.value.frames[0]);St(i,d,ee=>t(7,o=ee));const p=new Sn(d.value.blocks.find(ee=>ee.content.type=="text"));St(i,p,ee=>t(8,a=ee));let $=d.value.id;m.subscribe(()=>{$=""}),d.subscribe(ee=>{$!=ee.id&&($=ee.id,p.set(ee.blocks.find(ze=>ze.content.type=="text")))});let g,v,w,I=new Sn({});St(i,I,ee=>t(9,l=ee));let S=Zn("Собираем интерфейс...");St(i,S,ee=>t(5,r=ee));let P="default";wn(()=>{P=new URL(location.href).searchParams.get("skin")??P,t(1,g=new Q1({block:p,frame:d,meme:m,busy:S,previews:I},v,u,c,P)),new im(w,v,m,d,p),f&&_r().then(()=>fetch(f)).then(ee=>ee.blob()).then(ee=>g.openMeme(ee))});function R(ee){s=ee,m.set(s)}function W(ee){o=ee,d.set(o)}function D(ee){a=ee,p.set(a)}function x(ee){w=ee,t(3,w)}function X(ee){v=ee,t(2,v)}function T(ee){l=ee,I.set(l)}const F=ee=>g==null?void 0:g.openMeme(ee.detail.file),b=()=>{var ee;return(ee=g==null?void 0:g.exportMeme())==null?void 0:ee.then(Yi("meme.meme"))},V=()=>{var ee;return(ee=g==null?void 0:g.renderMeme())==null?void 0:ee.then(({ext:ze,blob:Se})=>Yi(`meme.${ze}`)(Se))},me=ee=>g==null?void 0:g.setBackground(ee.detail.file),Y=()=>g==null?void 0:g.copyFrameToClipboard(),se=ee=>{var ze;return g==null?void 0:g.addBlock((ze=ee.detail)==null?void 0:ze.origin)},J=ee=>g==null?void 0:g.shiftBlock(ee.detail.block,ee.detail.shift),_e=ee=>g==null?void 0:g.deleteBlock(ee.detail.block),U=ee=>{var ze;return g==null?void 0:g.addFrame((ze=ee.detail)==null?void 0:ze.origin)},B=ee=>g==null?void 0:g.shiftFrame(ee.detail.frame,ee.detail.shift),Z=ee=>g==null?void 0:g.deleteFrame(ee.detail.frame),q=ee=>g==null?void 0:g.framesFromImages(ee.detail.files);function z(ee){n=ee,Hi.set(n)}return i.$$set=ee=>{"patternUrls"in ee&&t(15,u=ee.patternUrls),"placeholdersUrls"in ee&&t(16,c=ee.placeholdersUrls),"memeURL"in ee&&t(17,f=ee.memeURL),"memeExampleURL"in ee&&t(0,h=ee.memeExampleURL)},[h,g,v,w,n,r,s,o,a,l,m,d,p,I,S,u,c,f,R,W,D,x,X,T,F,b,V,me,Y,se,J,_e,U,B,Z,q,z]}class o_ extends we{constructor(e){super(),ye(this,e,s_,i_,$e,{patternUrls:15,placeholdersUrls:16,memeURL:17,memeExampleURL:0},null,[-1,-1])}}const a_=""+new URL("../assets/docs.382a62e4.meme",import.meta.url).href,l_=""+new URL("../assets/checkered.07b41575.webp",import.meta.url).href,u_=""+new URL("../assets/debug.ca573084.webp",import.meta.url).href,c_=""+new URL("../assets/fire.f2d0e917.webp",import.meta.url).href,f_=""+new URL("../assets/glitter-gold.97f0a488.webp",import.meta.url).href,h_=""+new URL("../assets/rainbow.3197970b.webp",import.meta.url).href,m_=""+new URL("../assets/stars.049cd9a5.webp",import.meta.url).href,d_=""+new URL("../assets/1.fc1781c3.webp",import.meta.url).href,p_=""+new URL("../assets/1.218b17fc.webp",import.meta.url).href,__=""+new URL("../assets/1.949784d4.webp",import.meta.url).href,g_=""+new URL("../assets/1.11d6ce27.webp",import.meta.url).href,b_=""+new URL("../assets/2.97d5dc7d.webp",import.meta.url).href,v_=""+new URL("../assets/3.e8249041.webp",import.meta.url).href,$_=""+new URL("../assets/4.94ed153e.webp",import.meta.url).href,w_=""+new URL("../assets/5.843b6f84.webp",import.meta.url).href,y_=""+new URL("../assets/6.056d0cf4.webp",import.meta.url).href,E_=""+new URL("../assets/7.6fc2d0f6.webp",import.meta.url).href;function k_([i,e]){const t=i.split("/");let n=t[t.length-1];return n=n.slice(0,n.lastIndexOf(".")),{name:n,url:e}}function A_(i){return Object.entries(i).map(k_)}const T_=A_(Object.assign({"/src/lib/resources/patterns/checkered.png":l_,"/src/lib/resources/patterns/debug.png":u_,"/src/lib/resources/patterns/fire.png":c_,"/src/lib/resources/patterns/glitter-gold.png":f_,"/src/lib/resources/patterns/rainbow.png":h_,"/src/lib/resources/patterns/stars.png":m_})),Sr=Object.entries(Object.assign({"/src/lib/resources/placeholders/default/await/1.png":d_,"/src/lib/resources/placeholders/default/empty/1.png":p_,"/src/lib/resources/placeholders/inside/await/1.png":__,"/src/lib/resources/placeholders/inside/empty/1.png":g_,"/src/lib/resources/placeholders/inside/empty/2.png":b_,"/src/lib/resources/placeholders/inside/empty/3.png":v_,"/src/lib/resources/placeholders/inside/empty/4.png":$_,"/src/lib/resources/placeholders/inside/empty/5.png":w_,"/src/lib/resources/placeholders/inside/empty/6.png":y_,"/src/lib/resources/placeholders/inside/empty/7.png":E_})).map(([i,e])=>{const t=/placeholders\//.exec(i);if(!t)throw Error(`Not found prefix 'placeholder' in '${i}''`);const n=t.index+t[0].length,r=i.substring(n),[s,o,a]=r.split("/"),l=a.slice(0,a.lastIndexOf("."));return{skin:s,category:o,name:l,url:e}}).reduce((i,e)=>(i[e.skin]=i[e.skin]??{},i[e.skin][e.category]=i[e.skin][e.category]??[],i[e.skin][e.category].push(e),i),{});if(!J1(Sr))throw Error(`Incorrect configuration: this is not skins map: ${JSON.stringify(Sr)}`);const ds={patternUrls:T_,placeholdersUrls:Sr};function S_(i){let e,t;return e=new o_({props:{patternUrls:ds.patternUrls,placeholdersUrls:ds.placeholdersUrls,memeExampleURL:a_}}),{c(){M(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p:it,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}class F_ extends we{constructor(e){super(),ye(this,e,null,S_,$e,{})}}export{F_ as default};
